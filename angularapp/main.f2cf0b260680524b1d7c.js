(self.webpackChunksala_de_juegos_lucas_marino=self.webpackChunksala_de_juegos_lucas_marino||[]).push([[179],{255:au=>{function xi(uu){return Promise.resolve().then(()=>{var ti=new Error("Cannot find module '"+uu+"'");throw ti.code="MODULE_NOT_FOUND",ti})}xi.keys=()=>[],xi.resolve=xi,xi.id=255,au.exports=xi},265:(au,xi,uu)=>{"use strict";function ti(r){return"function"==typeof r}let _p=!1;const cr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else _p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_p=r},get useDeprecatedSynchronousErrorHandling(){return _p}};function uo(r){setTimeout(()=>{throw r},0)}const Rl={closed:!0,next(r){},error(r){if(cr.useDeprecatedSynchronousErrorHandling)throw r;uo(r)},complete(){}},kl=Array.isArray||(r=>r&&"number"==typeof r.length);function vp(r){return null!==r&&"object"==typeof r}const Ol=(()=>{function r(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r})();class Ze{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:s,_unsubscribe:o,_subscriptions:a}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof Ze)i.remove(this);else if(null!==i)for(let l=0;l<i.length;++l)i[l].remove(this);if(ti(o)){s&&(this._unsubscribe=void 0);try{o.call(this)}catch(l){e=l instanceof Ol?tC(l.errors):[l]}}if(kl(a)){let l=-1,d=a.length;for(;++l<d;){const f=a[l];if(vp(f))try{f.unsubscribe()}catch(m){e=e||[],m instanceof Ol?e=e.concat(tC(m.errors)):e.push(m)}}}if(e)throw new Ol(e)}add(e){let i=e;if(!e)return Ze.EMPTY;switch(typeof e){case"function":i=new Ze(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof Ze)){const a=i;i=new Ze,i._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:s}=i;if(null===s)i._parentOrParents=this;else if(s instanceof Ze){if(s===this)return i;i._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return i;s.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[i]:o.push(i),i}remove(e){const i=this._subscriptions;if(i){const s=i.indexOf(e);-1!==s&&i.splice(s,1)}}}var r;function tC(r){return r.reduce((e,i)=>e.concat(i instanceof Ol?i.errors:i),[])}Ze.EMPTY=((r=new Ze).closed=!0,r);const Pl="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Je extends Ze{constructor(e,i,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Rl;break;case 1:if(!e){this.destination=Rl;break}if("object"==typeof e){e instanceof Je?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new nC(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new nC(this,e,i,s)}}[Pl](){return this}static create(e,i,s){const o=new Je(e,i,s);return o.syncErrorThrowable=!1,o}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class nC extends Je{constructor(e,i,s,o){super(),this._parentSubscriber=e;let a,l=this;ti(i)?a=i:i&&(a=i.next,s=i.error,o=i.complete,i!==Rl&&(l=Object.create(i),ti(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=a,this._error=s,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:i}=this;cr.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:i}=this,{useDeprecatedSynchronousErrorHandling:s}=cr;if(this._error)s&&i.syncErrorThrowable?(this.__tryOrSetError(i,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(i.syncErrorThrowable)s?(i.syncErrorValue=e,i.syncErrorThrown=!0):uo(e),this.unsubscribe();else{if(this.unsubscribe(),s)throw e;uo(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const i=()=>this._complete.call(this._context);cr.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,i){try{e.call(this._context,i)}catch(s){if(this.unsubscribe(),cr.useDeprecatedSynchronousErrorHandling)throw s;uo(s)}}__tryOrSetError(e,i,s){if(!cr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{i.call(this._context,s)}catch(o){return cr.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(uo(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const cu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fl(r){return r}let Ue=(()=>{class r{constructor(i){this._isScalar=!1,i&&(this._subscribe=i)}lift(i){const s=new r;return s.source=this,s.operator=i,s}subscribe(i,s,o){const{operator:a}=this,l=function(r,e,i){if(r){if(r instanceof Je)return r;if(r[Pl])return r[Pl]()}return r||e||i?new Je(r,e,i):new Je(Rl)}(i,s,o);if(l.add(a?a.call(l,this.source):this.source||cr.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),cr.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(i){try{return this._subscribe(i)}catch(s){cr.useDeprecatedSynchronousErrorHandling&&(i.syncErrorThrown=!0,i.syncErrorValue=s),function(r){for(;r;){const{closed:e,destination:i,isStopped:s}=r;if(e||s)return!1;r=i&&i instanceof Je?i:null}return!0}(i)?i.error(s):console.warn(s)}}forEach(i,s){return new(s=iC(s))((o,a)=>{let l;l=this.subscribe(d=>{try{i(d)}catch(f){a(f),l&&l.unsubscribe()}},a,o)})}_subscribe(i){const{source:s}=this;return s&&s.subscribe(i)}[cu](){return this}pipe(...i){return 0===i.length?this:function(r){return 0===r.length?Fl:1===r.length?r[0]:function(i){return r.reduce((s,o)=>o(s),i)}}(i)(this)}toPromise(i){return new(i=iC(i))((s,o)=>{let a;this.subscribe(l=>a=l,l=>o(l),()=>s(a))})}}return r.create=e=>new r(e),r})();function iC(r){if(r||(r=cr.Promise||Promise),!r)throw new Error("no Promise impl found");return r}const co=(()=>{function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r})();class oO extends Ze{constructor(e,i){super(),this.subject=e,this.subscriber=i,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,i=e.observers;if(this.subject=null,!i||0===i.length||e.isStopped||e.closed)return;const s=i.indexOf(this.subscriber);-1!==s&&i.splice(s,1)}}class sC extends Je{constructor(e){super(e),this.destination=e}}let ni=(()=>{class r extends Ue{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Pl](){return new sC(this)}lift(i){const s=new oC(this,this);return s.operator=i,s}next(i){if(this.closed)throw new co;if(!this.isStopped){const{observers:s}=this,o=s.length,a=s.slice();for(let l=0;l<o;l++)a[l].next(i)}}error(i){if(this.closed)throw new co;this.hasError=!0,this.thrownError=i,this.isStopped=!0;const{observers:s}=this,o=s.length,a=s.slice();for(let l=0;l<o;l++)a[l].error(i);this.observers.length=0}complete(){if(this.closed)throw new co;this.isStopped=!0;const{observers:i}=this,s=i.length,o=i.slice();for(let a=0;a<s;a++)o[a].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(i){if(this.closed)throw new co;return super._trySubscribe(i)}_subscribe(i){if(this.closed)throw new co;return this.hasError?(i.error(this.thrownError),Ze.EMPTY):this.isStopped?(i.complete(),Ze.EMPTY):(this.observers.push(i),new oO(this,i))}asObservable(){const i=new Ue;return i.source=this,i}}return r.create=(e,i)=>new oC(e,i),r})();class oC extends ni{constructor(e,i){super(),this.destination=e,this.source=i}next(e){const{destination:i}=this;i&&i.next&&i.next(e)}error(e){const{destination:i}=this;i&&i.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:i}=this;return i?this.source.subscribe(e):Ze.EMPTY}}function Vl(r){return r&&"function"==typeof r.schedule}function Me(r,e){return function(s){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new aO(r,e))}}class aO{constructor(e,i){this.project=e,this.thisArg=i}call(e,i){return i.subscribe(new uO(e,this.project,this.thisArg))}}class uO extends Je{constructor(e,i,s){super(e),this.project=i,this.count=0,this.thisArg=s||this}_next(e){let i;try{i=this.project.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(i)}}const aC=r=>e=>{for(let i=0,s=r.length;i<s&&!e.closed;i++)e.next(r[i]);e.complete()},Ll="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",uC=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function cC(r){return!!r&&"function"!=typeof r.subscribe&&"function"==typeof r.then}const bp=r=>{if(r&&"function"==typeof r[cu])return(r=>e=>{const i=r[cu]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(e)})(r);if(uC(r))return aC(r);if(cC(r))return(r=>e=>(r.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,uo),e))(r);if(r&&"function"==typeof r[Ll])return(r=>e=>{const i=r[Ll]();for(;;){let s;try{s=i.next()}catch(o){return e.error(o),e}if(s.done){e.complete();break}if(e.next(s.value),e.closed)break}return"function"==typeof i.return&&e.add(()=>{i.return&&i.return()}),e})(r);{const i=`You provided ${vp(r)?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(i)}};function wp(r,e){return new Ue(i=>{const s=new Ze;let o=0;return s.add(e.schedule(function(){o!==r.length?(i.next(r[o++]),i.closed||s.add(this.schedule())):i.complete()})),s})}function Ut(r,e){return e?function(r,e){if(null!=r){if(function(r){return r&&"function"==typeof r[cu]}(r))return function(r,e){return new Ue(i=>{const s=new Ze;return s.add(e.schedule(()=>{const o=r[cu]();s.add(o.subscribe({next(a){s.add(e.schedule(()=>i.next(a)))},error(a){s.add(e.schedule(()=>i.error(a)))},complete(){s.add(e.schedule(()=>i.complete()))}}))})),s})}(r,e);if(cC(r))return function(r,e){return new Ue(i=>{const s=new Ze;return s.add(e.schedule(()=>r.then(o=>{s.add(e.schedule(()=>{i.next(o),s.add(e.schedule(()=>i.complete()))}))},o=>{s.add(e.schedule(()=>i.error(o)))}))),s})}(r,e);if(uC(r))return wp(r,e);if(function(r){return r&&"function"==typeof r[Ll]}(r)||"string"==typeof r)return function(r,e){if(!r)throw new Error("Iterable cannot be null");return new Ue(i=>{const s=new Ze;let o;return s.add(()=>{o&&"function"==typeof o.return&&o.return()}),s.add(e.schedule(()=>{o=r[Ll](),s.add(e.schedule(function(){if(i.closed)return;let a,l;try{const d=o.next();a=d.value,l=d.done}catch(d){return void i.error(d)}l?i.complete():(i.next(a),this.schedule())}))})),s})}(r,e)}throw new TypeError((null!==r&&typeof r||r)+" is not observable")}(r,e):r instanceof Ue?r:new Ue(bp(r))}class Cp extends Je{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ep extends Je{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Dp(r,e){if(e.closed)return;if(r instanceof Ue)return r.subscribe(e);let i;try{i=bp(r)(e)}catch(s){e.error(s)}return i}function Ht(r,e,i=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(Ht((o,a)=>Ut(r(o,a)).pipe(Me((l,d)=>e(o,l,a,d))),i)):("number"==typeof e&&(i=e),s=>s.lift(new vO(r,i)))}class vO{constructor(e,i=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=i}call(e,i){return i.subscribe(new bO(e,this.project,this.concurrent))}}class bO extends Ep{constructor(e,i,s=Number.POSITIVE_INFINITY){super(e),this.project=i,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let i;const s=this.index++;try{i=this.project(e,s)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(i)}_innerSub(e){const i=new Cp(this),s=this.destination;s.add(i);const o=Dp(e,i);o!==i&&s.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function lu(r=Number.POSITIVE_INFINITY){return Ht(Fl,r)}function Ip(r,e){return e?wp(r,e):new Ue(aC(r))}function Tp(){return function(e){return e.lift(new CO(e))}}class CO{constructor(e){this.connectable=e}call(e,i){const{connectable:s}=this;s._refCount++;const o=new EO(e,s),a=i.subscribe(o);return o.closed||(o.connection=s.connect()),a}}class EO extends Je{constructor(e,i){super(e),this.connectable=i}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const i=e._refCount;if(i<=0)return void(this.connection=null);if(e._refCount=i-1,i>1)return void(this.connection=null);const{connection:s}=this,o=e._connection;this.connection=null,o&&(!s||o===s)&&o.unsubscribe()}}class lC extends Ue{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Ze,e.add(this.source.subscribe(new IO(this.getSubject(),this))),e.closed&&(this._connection=null,e=Ze.EMPTY)),e}refCount(){return Tp()(this)}}const DO=(()=>{const r=lC.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}})();class IO extends sC{constructor(e,i){super(e),this.connectable=i}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const i=e._connection;e._refCount=0,e._subject=null,e._connection=null,i&&i.unsubscribe()}}}function AO(){return new ni}function Ne(r){for(let e in r)if(r[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function me(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(me).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const e=r.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}function xp(r,e){return null==r||""===r?null===e?"":e:null==e||""===e?r:r+" "+e}const NO=Ne({__forward_ref__:Ne});function Le(r){return r.__forward_ref__=Le,r.toString=function(){return me(this())},r}function Y(r){return function(r){return"function"==typeof r&&r.hasOwnProperty(NO)&&r.__forward_ref__===Le}(r)?r():r}class fs extends Error{constructor(e,i){super(function(r,e){return`${r?`NG0${r}: `:""}${e}`}(e,i)),this.code=e}}function ce(r){return"string"==typeof r?r:null==r?"":String(r)}function ln(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ce(r)}function jl(r,e){const i=e?` in ${e}`:"";throw new fs("201",`No provider for ${ln(r)} found${i}`)}function kn(r,e){null==r&&function(r,e,i,s){throw new Error(`ASSERTION ERROR: ${r}`+(null==s?"":` [Expected=> ${i} ${s} ${e} <=Actual]`))}(e,r,null,"!=")}function ee(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function dn(r){return{providers:r.providers||[],imports:r.imports||[]}}function ii(r){return hC(r,Bl)||hC(r,pC)}function hC(r,e){return r.hasOwnProperty(e)?r[e]:null}function fC(r){return r&&(r.hasOwnProperty(Mp)||r.hasOwnProperty(LO))?r[Mp]:null}const Bl=Ne({\u0275prov:Ne}),Mp=Ne({\u0275inj:Ne}),pC=Ne({ngInjectableDef:Ne}),LO=Ne({ngInjectorDef:Ne});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let Np;function Ai(r){const e=Np;return Np=r,e}function gC(r,e,i){const s=ii(r);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&X.Optional?null:void 0!==e?e:void jl(me(r),"Injector")}function Mi(r){return{toString:r}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),wt=(()=>((wt=wt||{})[wt.Emulated=0]="Emulated",wt[wt.None=2]="None",wt[wt.ShadowDom=3]="ShadowDom",wt))();const BO="undefined"!=typeof globalThis&&globalThis,UO="undefined"!=typeof window&&window,HO="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$O="undefined"!=typeof global&&global,Re=BO||$O||UO||HO,lo={},Pe=[],Ul=Ne({\u0275cmp:Ne}),Rp=Ne({\u0275dir:Ne}),kp=Ne({\u0275pipe:Ne}),mC=Ne({\u0275mod:Ne}),GO=Ne({\u0275loc:Ne}),si=Ne({\u0275fac:Ne}),du=Ne({__NG_ELEMENT_ID__:Ne});let qO=0;function Dn(r){return Mi(()=>{const i={},s={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Pe,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||wt.Emulated,id:"c",styles:r.styles||Pe,_:null,setInput:null,schemas:r.schemas||null,tView:null},o=r.directives,a=r.features,l=r.pipes;return s.id+=qO++,s.inputs=bC(r.inputs,i),s.outputs=bC(r.outputs),a&&a.forEach(d=>d(s)),s.directiveDefs=o?()=>("function"==typeof o?o():o).map(yC):null,s.pipeDefs=l?()=>("function"==typeof l?l():l).map(_C):null,s})}function yC(r){return hn(r)||function(r){return r[Rp]||null}(r)}function _C(r){return function(r){return r[kp]||null}(r)}const vC={};function On(r){return Mi(()=>{const e={type:r.type,bootstrap:r.bootstrap||Pe,declarations:r.declarations||Pe,imports:r.imports||Pe,exports:r.exports||Pe,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(vC[r.id]=r.type),e})}function bC(r,e){if(null==r)return lo;const i={};for(const s in r)if(r.hasOwnProperty(s)){let o=r[s],a=o;Array.isArray(o)&&(a=o[1],o=o[0]),i[o]=s,e&&(e[o]=a)}return i}const te=Dn;function hn(r){return r[Ul]||null}function Wn(r,e){const i=r[mC]||null;if(!i&&!0===e)throw new Error(`Type ${me(r)} does not have '\u0275mod' property.`);return i}function kr(r){return Array.isArray(r)&&"object"==typeof r[1]}function dr(r){return Array.isArray(r)&&!0===r[1]}function Fp(r){return 0!=(8&r.flags)}function ql(r){return 2==(2&r.flags)}function zl(r){return 1==(1&r.flags)}function hr(r){return null!==r.template}function XO(r){return 0!=(512&r[2])}function _s(r,e){return r.hasOwnProperty(si)?r[si]:null}class CC{constructor(e,i,s){this.previousValue=e,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function EC(r){return r.type.prototype.ngOnChanges&&(r.setInput=nP),tP}function tP(){const r=IC(this),e=null==r?void 0:r.current;if(e){const i=r.previous;if(i===lo)r.previous=e;else for(let s in e)i[s]=e[s];r.current=null,this.ngOnChanges(e)}}function nP(r,e,i,s){const o=IC(r)||function(r,e){return r[DC]=e}(r,{previous:lo,current:null}),a=o.current||(o.current={}),l=o.previous,d=this.declaredInputs[i],f=l[d];a[d]=new CC(f&&f.currentValue,e,l===lo),r[s]=e}const DC="__ngSimpleChanges__";function IC(r){return r[DC]||null}const TC="http://www.w3.org/2000/svg";let jp;function et(r){return!!r.listen}const xC={createRenderer:(r,e)=>void 0!==jp?jp:"undefined"!=typeof document?document:void 0};function dt(r){for(;Array.isArray(r);)r=r[0];return r}function Jn(r,e){return dt(e[r.index])}function Up(r,e){return r.data[e]}function Fn(r,e){const i=e[r];return kr(i)?i:i[0]}function Hp(r){return 128==(128&r[2])}function Ri(r,e){return null==e?null:r[e]}function MC(r){r[18]=0}function $p(r,e){r[5]+=e;let i=r,s=r[3];for(;null!==s&&(1===e&&1===i[5]||-1===e&&0===i[5]);)s[5]+=e,i=s,s=s[3]}const ie={lFrame:LC(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function NC(){return ie.bindingsEnabled}function O(){return ie.lFrame.lView}function De(){return ie.lFrame.tView}function Fe(r){return ie.lFrame.contextLView=r,r[8]}function Ct(){let r=RC();for(;null!==r&&64===r.type;)r=r.parent;return r}function RC(){return ie.lFrame.currentTNode}function Or(r,e){const i=ie.lFrame;i.currentTNode=r,i.isParent=e}function Gp(){return ie.lFrame.isParent}function qp(){ie.lFrame.isParent=!1}function Kl(){return ie.isInCheckNoChangesMode}function Ql(r){ie.isInCheckNoChangesMode=r}function fn(){const r=ie.lFrame;let e=r.bindingRootIndex;return-1===e&&(e=r.bindingRootIndex=r.tView.bindingStartIndex),e}function yo(){return ie.lFrame.bindingIndex++}function yP(r,e){const i=ie.lFrame;i.bindingIndex=i.bindingRootIndex=r,zp(e)}function zp(r){ie.lFrame.currentDirectiveIndex=r}function Kp(r){ie.lFrame.currentQueryIndex=r}function vP(r){const e=r[1];return 2===e.type?e.declTNode:1===e.type?r[6]:null}function FC(r,e,i){if(i&X.SkipSelf){let o=e,a=r;for(;!(o=o.parent,null!==o||i&X.Host||(o=vP(a),null===o||(a=a[15],10&o.type))););if(null===o)return!1;e=o,r=a}const s=ie.lFrame=VC();return s.currentTNode=e,s.lView=r,!0}function Jl(r){const e=VC(),i=r[1];ie.lFrame=e,e.currentTNode=i.firstChild,e.lView=r,e.tView=i,e.contextLView=r,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function VC(){const r=ie.lFrame,e=null===r?null:r.child;return null===e?LC(r):e}function LC(r){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=e),e}function jC(){const r=ie.lFrame;return ie.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const BC=jC;function Yl(){const r=jC();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function pn(){return ie.lFrame.selectedIndex}function ki(r){ie.lFrame.selectedIndex=r}function Qp(){ie.lFrame.currentNamespace=TC}function Xl(r,e){for(let i=e.directiveStart,s=e.directiveEnd;i<s;i++){const a=r.data[i].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:d,ngAfterViewInit:f,ngAfterViewChecked:m,ngOnDestroy:_}=a;l&&(r.contentHooks||(r.contentHooks=[])).push(-i,l),d&&((r.contentHooks||(r.contentHooks=[])).push(i,d),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(i,d)),f&&(r.viewHooks||(r.viewHooks=[])).push(-i,f),m&&((r.viewHooks||(r.viewHooks=[])).push(i,m),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(i,m)),null!=_&&(r.destroyHooks||(r.destroyHooks=[])).push(i,_)}}function Zl(r,e,i){HC(r,e,3,i)}function ed(r,e,i,s){(3&r[2])===i&&HC(r,e,i,s)}function Jp(r,e){let i=r[2];(3&i)===e&&(i&=2047,i+=1,r[2]=i)}function HC(r,e,i,s){const a=null!=s?s:-1,l=e.length-1;let d=0;for(let f=void 0!==s?65535&r[18]:0;f<l;f++)if("number"==typeof e[f+1]){if(d=e[f],null!=s&&d>=s)break}else e[f]<0&&(r[18]+=65536),(d<a||-1==a)&&(TP(r,i,e,f),r[18]=(4294901760&r[18])+f+2),f++}function TP(r,e,i,s){const o=i[s]<0,a=i[s+1],d=r[o?-i[s]:i[s]];if(o){if(r[2]>>11<r[18]>>16&&(3&r[2])===e){r[2]+=2048;try{a.call(d)}finally{}}}else try{a.call(d)}finally{}}class mu{constructor(e,i,s){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function td(r,e,i){const s=et(r);let o=0;for(;o<i.length;){const a=i[o];if("number"==typeof a){if(0!==a)break;o++;const l=i[o++],d=i[o++],f=i[o++];s?r.setAttribute(e,d,f,l):e.setAttributeNS(l,d,f)}else{const l=a,d=i[++o];Xp(l)?s&&r.setProperty(e,l,d):s?r.setAttribute(e,l,d):e.setAttribute(l,d),o++}}return o}function $C(r){return 3===r||4===r||6===r}function Xp(r){return 64===r.charCodeAt(0)}function nd(r,e){if(null!==e&&0!==e.length)if(null===r||0===r.length)r=e.slice();else{let i=-1;for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:0===i||GC(r,i,o,null,-1===i||2===i?e[++s]:null)}}return r}function GC(r,e,i,s,o){let a=0,l=r.length;if(-1===e)l=-1;else for(;a<r.length;){const d=r[a++];if("number"==typeof d){if(d===e){l=-1;break}if(d>e){l=a-1;break}}}for(;a<r.length;){const d=r[a];if("number"==typeof d)break;if(d===i){if(null===s)return void(null!==o&&(r[a+1]=o));if(s===r[a+1])return void(r[a+2]=o)}a++,null!==s&&a++,null!==o&&a++}-1!==l&&(r.splice(l,0,e),a=l+1),r.splice(a++,0,i),null!==s&&r.splice(a++,0,s),null!==o&&r.splice(a++,0,o)}function qC(r){return-1!==r}function _o(r){return 32767&r}function vo(r,e){let i=function(r){return r>>16}(r),s=e;for(;i>0;)s=s[15],i--;return s}let Zp=!0;function rd(r){const e=Zp;return Zp=r,e}let RP=0;function _u(r,e){const i=tg(r,e);if(-1!==i)return i;const s=e[1];s.firstCreatePass&&(r.injectorIndex=e.length,eg(s.data,r),eg(e,null),eg(s.blueprint,null));const o=id(r,e),a=r.injectorIndex;if(qC(o)){const l=_o(o),d=vo(o,e),f=d[1].data;for(let m=0;m<8;m++)e[a+m]=d[l+m]|f[l+m]}return e[a+8]=o,a}function eg(r,e){r.push(0,0,0,0,0,0,0,0,e)}function tg(r,e){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===e[r.injectorIndex+8]?-1:r.injectorIndex}function id(r,e){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let i=0,s=null,o=e;for(;null!==o;){const a=o[1],l=a.type;if(s=2===l?a.declTNode:1===l?o[6]:null,null===s)return-1;if(i++,o=o[15],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function sd(r,e,i){!function(r,e,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(du)&&(s=i[du]),null==s&&(s=i[du]=RP++);const o=255&s;e.data[r+(o>>5)]|=1<<o}(r,e,i)}function KC(r,e,i){if(i&X.Optional)return r;jl(e,"NodeInjector")}function QC(r,e,i,s){if(i&X.Optional&&void 0===s&&(s=null),0==(i&(X.Self|X.Host))){const o=r[9],a=Ai(void 0);try{return o?o.get(e,s,i&X.Optional):gC(e,s,i&X.Optional)}finally{Ai(a)}}return KC(s,e,i)}function JC(r,e,i,s=X.Default,o){if(null!==r){const a=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const e=r.hasOwnProperty(du)?r[du]:void 0;return"number"==typeof e?e>=0?255&e:PP:e}(i);if("function"==typeof a){if(!FC(e,r,s))return s&X.Host?KC(o,i,s):QC(e,i,s,o);try{const l=a(s);if(null!=l||s&X.Optional)return l;jl(i)}finally{BC()}}else if("number"==typeof a){let l=null,d=tg(r,e),f=-1,m=s&X.Host?e[16][6]:null;for((-1===d||s&X.SkipSelf)&&(f=-1===d?id(r,e):e[d+8],-1!==f&&ZC(s,!1)?(l=e[1],d=_o(f),e=vo(f,e)):d=-1);-1!==d;){const _=e[1];if(XC(a,d,_.data)){const v=FP(d,e,i,l,s,m);if(v!==YC)return v}f=e[d+8],-1!==f&&ZC(s,e[1].data[d+8]===m)&&XC(a,d,e)?(l=_,d=_o(f),e=vo(f,e)):d=-1}}}return QC(e,i,s,o)}const YC={};function PP(){return new bo(Ct(),O())}function FP(r,e,i,s,o,a){const l=e[1],d=l.data[r+8],_=function(r,e,i,s,o){const a=r.providerIndexes,l=e.data,d=1048575&a,f=r.directiveStart,_=a>>20,b=o?d+_:r.directiveEnd;for(let w=s?d:d+_;w<b;w++){const C=l[w];if(w<f&&i===C||w>=f&&C.type===i)return w}if(o){const w=l[f];if(w&&hr(w)&&w.type===i)return f}return null}(d,l,i,null==s?ql(d)&&Zp:s!=l&&0!=(3&d.type),o&X.Host&&a===d);return null!==_?vu(e,l,_,d):YC}function vu(r,e,i,s){let o=r[i];const a=e.data;if(function(r){return r instanceof mu}(o)){const l=o;l.resolving&&function(r,e){throw new fs("200",`Circular dependency in DI detected for ${r}`)}(ln(a[i]));const d=rd(l.canSeeViewProviders);l.resolving=!0;const f=l.injectImpl?Ai(l.injectImpl):null;FC(r,s,X.Default);try{o=r[i]=l.factory(void 0,a,r,s),e.firstCreatePass&&i>=s.directiveStart&&function(r,e,i){const{ngOnChanges:s,ngOnInit:o,ngDoCheck:a}=e.type.prototype;if(s){const l=EC(e);(i.preOrderHooks||(i.preOrderHooks=[])).push(r,l),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,l)}o&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-r,o),a&&((i.preOrderHooks||(i.preOrderHooks=[])).push(r,a),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,a))}(i,a[i],e)}finally{null!==f&&Ai(f),rd(d),l.resolving=!1,BC()}}return o}function XC(r,e,i){return!!(i[e+(r>>5)]&1<<r)}function ZC(r,e){return!(r&X.Self||r&X.Host&&e)}class bo{constructor(e,i){this._tNode=e,this._lView=i}get(e,i){return JC(this._tNode,this._lView,e,void 0,i)}}const Co="__parameters__";function vs(r,e,i){return Mi(()=>{const s=function(r){return function(...i){if(r){const s=r(...i);for(const o in s)this[o]=s[o]}}}(e);function o(...a){if(this instanceof o)return s.apply(this,a),this;const l=new o(...a);return d.annotation=l,d;function d(f,m,_){const v=f.hasOwnProperty(Co)?f[Co]:Object.defineProperty(f,Co,{value:[]})[Co];for(;v.length<=_;)v.push(null);return(v[_]=v[_]||[]).push(l),f}}return i&&(o.prototype=Object.create(i.prototype)),o.prototype.ngMetadataName=r,o.annotationCls=o,o})}class ye{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=ee({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const BP=new ye("AnalyzeForEntryComponents"),ad=Function;function Fr(r,e){r.forEach(i=>Array.isArray(i)?Fr(i,e):e(i))}function cd(r,e,i){e>=r.length?r.push(i):r.splice(e,0,i)}function bs(r,e){return e>=r.length-1?r.pop():r.splice(e,1)[0]}const Du={},og="__NG_DI_FLAG__",Io="ngTempTokenPath",JP=/\n/gm,ag="__source",ug=Ne({provide:String,useValue:Ne});let Iu;function To(r){const e=Iu;return Iu=r,e}function XP(r,e=X.Default){if(void 0===Iu)throw new Error("inject() must be called from an injection context");return null===Iu?gC(r,void 0,e):Iu.get(r,e&X.Optional?null:void 0,e)}function j(r,e=X.Default){return(Np||XP)(Y(r),e)}function ws(r){const e=[];for(let i=0;i<r.length;i++){const s=Y(r[i]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let o,a=X.Default;for(let l=0;l<s.length;l++){const d=s[l],f=ZP(d);"number"==typeof f?-1===f?o=d.token:a|=f:o=d}e.push(j(o,a))}else e.push(j(s))}return e}function Tu(r,e){return r[og]=e,r.prototype[og]=e,r}function ZP(r){return r[og]}function s0(r,e,i,s){const o=r[Io];throw e[ag]&&o.unshift(e[ag]),r.message=function(r,e,i,s=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let o=me(e);if(Array.isArray(e))o=e.map(me).join(" -> ");else if("object"==typeof e){let a=[];for(let l in e)if(e.hasOwnProperty(l)){let d=e[l];a.push(l+":"+("string"==typeof d?JSON.stringify(d):me(d)))}o=`{${a.join(", ")}}`}return`${i}${s?"("+s+")":""}[${o}]: ${r.replace(JP,"\n  ")}`}("\n"+r.message,o,i,s),r.ngTokenPath=o,r[Io]=null,r}const So=Tu(vs("Inject",r=>({token:r})),-1),Sn=Tu(vs("Optional"),8),Fi=Tu(vs("SkipSelf"),4);class Cs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Vr(r,e){const i=function(r){return r instanceof Cs&&r.getTypeName()||null}(r);if(null!=i&&i!==e){if("ResourceURL"===i&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===e}const EF=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,DF=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ve=(()=>((Ve=Ve||{})[Ve.NONE=0]="NONE",Ve[Ve.HTML=1]="HTML",Ve[Ve.STYLE=2]="STYLE",Ve[Ve.SCRIPT=3]="SCRIPT",Ve[Ve.URL=4]="URL",Ve[Ve.RESOURCE_URL=5]="RESOURCE_URL",Ve))();function Dt(r){const e=function(){const r=O();return r&&r[12]}();return e?e.sanitize(Ve.URL,r)||"":Vr(r,"URL")?function(r){return r instanceof Cs?r.changingThisBreaksApplicationSecurity:r}(r):function(r){return(r=String(r)).match(EF)||r.match(DF)?r:"unsafe:"+r}(ce(r))}const D0="__ngContext__";function Zt(r,e){r[D0]=e}function yg(r){const e=function(r){return r[D0]||null}(r);return e?Array.isArray(e)?e:e.lView:null}function md(r){return r.ngOriginalError}function zF(r,...e){r.error(...e)}class Es{constructor(){this._console=console}handleError(e){const i=this._findOriginalError(e),s=this._findContext(e),o=function(r){return r&&r.ngErrorLogger||zF}(e);o(this._console,"ERROR",e),i&&o(this._console,"ORIGINAL ERROR",i),s&&o(this._console,"ERROR CONTEXT",s)}_findContext(e){return e?function(r){return r.ngDebugContext}(e)||this._findContext(md(e)):null}_findOriginalError(e){let i=e&&md(e);for(;i&&md(i);)i=md(i);return i||null}}const k0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function jr(r){return r instanceof Function?r():r}var jn=(()=>((jn=jn||{})[jn.Important=1]="Important",jn[jn.DashCase=2]="DashCase",jn))();function bg(r,e){return undefined(r,e)}function Ru(r){const e=r[3];return dr(e)?e[3]:e}function wg(r){return L0(r[13])}function Cg(r){return L0(r[4])}function L0(r){for(;null!==r&&!dr(r);)r=r[4];return r}function No(r,e,i,s,o){if(null!=s){let a,l=!1;dr(s)?a=s:kr(s)&&(l=!0,s=s[0]);const d=dt(s);0===r&&null!==i?null==o?G0(e,i,d):Ds(e,i,d,o||null,!0):1===r&&null!==i?Ds(e,i,d,o||null,!0):2===r?function(r,e,i){const s=_d(r,e);s&&function(r,e,i,s){et(r)?r.removeChild(e,i,s):e.removeChild(i)}(r,s,e,i)}(e,d,l):3===r&&e.destroyNode(d),null!=a&&function(r,e,i,s,o){const a=i[7];a!==dt(i)&&No(e,r,s,a,o);for(let d=10;d<i.length;d++){const f=i[d];ku(f[1],f,r,e,s,a)}}(e,r,a,i,o)}}function Dg(r,e,i){return et(r)?r.createElement(e,i):null===i?r.createElement(e):r.createElementNS(i,e)}function B0(r,e){const i=r[9],s=i.indexOf(e),o=e[3];1024&e[2]&&(e[2]&=-1025,$p(o,-1)),i.splice(s,1)}function Ig(r,e){if(r.length<=10)return;const i=10+e,s=r[i];if(s){const o=s[17];null!==o&&o!==r&&B0(o,s),e>0&&(r[i-1][4]=s[4]);const a=bs(r,10+e);!function(r,e){ku(r,e,e[11],2,null,null),e[0]=null,e[6]=null}(s[1],s);const l=a[19];null!==l&&l.detachView(a[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function U0(r,e){if(!(256&e[2])){const i=e[11];et(i)&&i.destroyNode&&ku(r,e,i,3,null,null),function(r){let e=r[13];if(!e)return Tg(r[1],r);for(;e;){let i=null;if(kr(e))i=e[13];else{const s=e[10];s&&(i=s)}if(!i){for(;e&&!e[4]&&e!==r;)kr(e)&&Tg(e[1],e),e=e[3];null===e&&(e=r),kr(e)&&Tg(e[1],e),i=e&&e[4]}e=i}}(e)}}function Tg(r,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(r,e){let i;if(null!=r&&null!=(i=r.destroyHooks))for(let s=0;s<i.length;s+=2){const o=e[i[s]];if(!(o instanceof mu)){const a=i[s+1];if(Array.isArray(a))for(let l=0;l<a.length;l+=2){const d=o[a[l]],f=a[l+1];try{f.call(d)}finally{}}else try{a.call(o)}finally{}}}}(r,e),function(r,e){const i=r.cleanup,s=e[7];let o=-1;if(null!==i)for(let a=0;a<i.length-1;a+=2)if("string"==typeof i[a]){const l=i[a+1],d="function"==typeof l?l(e):dt(e[l]),f=s[o=i[a+2]],m=i[a+3];"boolean"==typeof m?d.removeEventListener(i[a],f,m):m>=0?s[o=m]():s[o=-m].unsubscribe(),a+=2}else{const l=s[o=i[a+1]];i[a].call(l)}if(null!==s){for(let a=o+1;a<s.length;a++)s[a]();e[7]=null}}(r,e),1===e[1].type&&et(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&dr(e[3])){i!==e[3]&&B0(i,e);const s=e[19];null!==s&&s.detachView(r)}}}function H0(r,e,i){return function(r,e,i){let s=e;for(;null!==s&&40&s.type;)s=(e=s).parent;if(null===s)return i[0];if(2&s.flags){const o=r.data[s.directiveStart].encapsulation;if(o===wt.None||o===wt.Emulated)return null}return Jn(s,i)}(r,e.parent,i)}function Ds(r,e,i,s,o){et(r)?r.insertBefore(e,i,s,o):e.insertBefore(i,s,o)}function G0(r,e,i){et(r)?r.appendChild(e,i):e.appendChild(i)}function q0(r,e,i,s,o){null!==s?Ds(r,e,i,s,o):G0(r,e,i)}function _d(r,e){return et(r)?r.parentNode(e):e.parentNode}let K0=function(r,e,i){return 40&r.type?Jn(r,i):null};function vd(r,e,i,s){const o=H0(r,s,e),a=e[11],d=function(r,e,i){return K0(r,e,i)}(s.parent||e[6],s,e);if(null!=o)if(Array.isArray(i))for(let f=0;f<i.length;f++)q0(a,o,i[f],d,!1);else q0(a,o,i,d,!1)}function bd(r,e){if(null!==e){const i=e.type;if(3&i)return Jn(e,r);if(4&i)return xg(-1,r[e.index]);if(8&i){const s=e.child;if(null!==s)return bd(r,s);{const o=r[e.index];return dr(o)?xg(-1,o):dt(o)}}if(32&i)return bg(e,r)()||dt(r[e.index]);{const s=J0(r,e);return null!==s?Array.isArray(s)?s[0]:bd(Ru(r[16]),s):bd(r,e.next)}}return null}function J0(r,e){return null!==e?r[16][6].projection[e.projection]:null}function xg(r,e){const i=10+r+1;if(i<e.length){const s=e[i],o=s[1].firstChild;if(null!==o)return bd(s,o)}return e[7]}function Ag(r,e,i,s,o,a,l){for(;null!=i;){const d=s[i.index],f=i.type;if(l&&0===e&&(d&&Zt(dt(d),s),i.flags|=4),64!=(64&i.flags))if(8&f)Ag(r,e,i.child,s,o,a,!1),No(e,r,o,d,a);else if(32&f){const m=bg(i,s);let _;for(;_=m();)No(e,r,o,_,a);No(e,r,o,d,a)}else 16&f?X0(r,e,s,i,o,a):No(e,r,o,d,a);i=l?i.projectionNext:i.next}}function ku(r,e,i,s,o,a){Ag(i,s,r.firstChild,e,o,a,!1)}function X0(r,e,i,s,o,a){const l=i[16],f=l[6].projection[s.projection];if(Array.isArray(f))for(let m=0;m<f.length;m++)No(e,r,o,f[m],a);else Ag(r,e,f,l[3],o,a,!0)}function Z0(r,e,i){et(r)?r.setAttribute(e,"style",i):e.style.cssText=i}function Mg(r,e,i){et(r)?""===i?r.removeAttribute(e,"class"):r.setAttribute(e,"class",i):e.className=i}function eE(r,e,i){let s=r.length;for(;;){const o=r.indexOf(e,i);if(-1===o)return o;if(0===o||r.charCodeAt(o-1)<=32){const a=e.length;if(o+a===s||r.charCodeAt(o+a)<=32)return o}i=o+1}}const tE="ng-template";function _V(r,e,i){let s=0;for(;s<r.length;){let o=r[s++];if(i&&"class"===o){if(o=r[s],-1!==eE(o.toLowerCase(),e,0))return!0}else if(1===o){for(;s<r.length&&"string"==typeof(o=r[s++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function nE(r){return 4===r.type&&r.value!==tE}function vV(r,e,i){return e===(4!==r.type||i?r.value:tE)}function bV(r,e,i){let s=4;const o=r.attrs||[],a=function(r){for(let e=0;e<r.length;e++)if($C(r[e]))return e;return r.length}(o);let l=!1;for(let d=0;d<e.length;d++){const f=e[d];if("number"!=typeof f){if(!l)if(4&s){if(s=2|1&s,""!==f&&!vV(r,f,i)||""===f&&1===e.length){if(fr(s))return!1;l=!0}}else{const m=8&s?f:e[++d];if(8&s&&null!==r.attrs){if(!_V(r.attrs,m,i)){if(fr(s))return!1;l=!0}continue}const v=wV(8&s?"class":f,o,nE(r),i);if(-1===v){if(fr(s))return!1;l=!0;continue}if(""!==m){let b;b=v>a?"":o[v+1].toLowerCase();const w=8&s?b:null;if(w&&-1!==eE(w,m,0)||2&s&&m!==b){if(fr(s))return!1;l=!0}}}}else{if(!l&&!fr(s)&&!fr(f))return!1;if(l&&fr(f))continue;l=!1,s=f|1&s}}return fr(s)||l}function fr(r){return 0==(1&r)}function wV(r,e,i,s){if(null===e)return-1;let o=0;if(s||!i){let a=!1;for(;o<e.length;){const l=e[o];if(l===r)return o;if(3===l||6===l)a=!0;else{if(1===l||2===l){let d=e[++o];for(;"string"==typeof d;)d=e[++o];continue}if(4===l)break;if(0===l){o+=4;continue}}o+=a?1:2}return-1}return function(r,e){let i=r.indexOf(4);if(i>-1)for(i++;i<r.length;){const s=r[i];if("number"==typeof s)return-1;if(s===e)return i;i++}return-1}(e,r)}function rE(r,e,i=!1){for(let s=0;s<e.length;s++)if(bV(r,e[s],i))return!0;return!1}function iE(r,e){return r?":not("+e.trim()+")":e}function TV(r){let e=r[0],i=1,s=2,o="",a=!1;for(;i<r.length;){let l=r[i];if("string"==typeof l)if(2&s){const d=r[++i];o+="["+l+(d.length>0?'="'+d+'"':"")+"]"}else 8&s?o+="."+l:4&s&&(o+=" "+l);else""!==o&&!fr(l)&&(e+=iE(a,o),o=""),s=l,a=a||!fr(s);i++}return""!==o&&(e+=iE(a,o)),e}const oe={};function F(r){sE(De(),O(),pn()+r,Kl())}function sE(r,e,i,s){if(!s)if(3==(3&e[2])){const a=r.preOrderCheckHooks;null!==a&&Zl(e,a,i)}else{const a=r.preOrderHooks;null!==a&&ed(e,a,0,i)}ki(i)}function gE(r,e){const i=r.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const o=i[s],a=i[s+1];if(-1!==a){const l=r.data[a];Kp(o),l.contentQueries(2,e[a],a)}}}function Ou(r,e,i,s,o,a,l,d,f,m){const _=e.blueprint.slice();return _[0]=o,_[2]=140|s,MC(_),_[3]=_[15]=r,_[8]=i,_[10]=l||r&&r[10],_[11]=d||r&&r[11],_[12]=f||r&&r[12]||null,_[9]=m||r&&r[9]||null,_[6]=a,_[16]=2==e.type?r[16]:_,_}function Ro(r,e,i,s,o){let a=r.data[e];if(null===a)a=function(r,e,i,s,o){const a=RC(),l=Gp(),f=r.data[e]=function(r,e,i,s,o,a){return{type:i,index:s,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?a:a&&a.parent,i,e,s,o);return null===r.firstChild&&(r.firstChild=f),null!==a&&(l?null==a.child&&null!==f.parent&&(a.child=f):null===a.next&&(a.next=f)),f}(r,e,i,s,o),ie.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=i,a.value=s,a.attrs=o;const l=function(){const r=ie.lFrame,e=r.currentTNode;return r.isParent?e:e.parent}();a.injectorIndex=null===l?-1:l.injectorIndex}return Or(a,!0),a}function ko(r,e,i,s){if(0===i)return-1;const o=e.length;for(let a=0;a<i;a++)e.push(s),r.blueprint.push(s),r.data.push(null);return o}function Pu(r,e,i){Jl(e);try{const s=r.viewQuery;null!==s&&Qg(1,s,i);const o=r.template;null!==o&&mE(r,e,o,1,i),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&gE(r,e),r.staticViewQueries&&Qg(2,r.viewQuery,i);const a=r.components;null!==a&&function(r,e){for(let i=0;i<e.length;i++)s2(r,e[i])}(e,a)}catch(s){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),s}finally{e[2]&=-5,Yl()}}function Oo(r,e,i,s){const o=e[2];if(256==(256&o))return;Jl(e);const a=Kl();try{MC(e),function(r){ie.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==i&&mE(r,e,i,2,s);const l=3==(3&o);if(!a)if(l){const m=r.preOrderCheckHooks;null!==m&&Zl(e,m,null)}else{const m=r.preOrderHooks;null!==m&&ed(e,m,0,null),Jp(e,0)}if(function(r){for(let e=wg(r);null!==e;e=Cg(e)){if(!e[2])continue;const i=e[9];for(let s=0;s<i.length;s++){const o=i[s],a=o[3];0==(1024&o[2])&&$p(a,1),o[2]|=1024}}}(e),function(r){for(let e=wg(r);null!==e;e=Cg(e))for(let i=10;i<e.length;i++){const s=e[i],o=s[1];Hp(s)&&Oo(o,s,o.template,s[8])}}(e),null!==r.contentQueries&&gE(r,e),!a)if(l){const m=r.contentCheckHooks;null!==m&&Zl(e,m)}else{const m=r.contentHooks;null!==m&&ed(e,m,1),Jp(e,1)}!function(r,e){const i=r.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const o=i[s];if(o<0)ki(~o);else{const a=o,l=i[++s],d=i[++s];yP(l,a),d(2,e[a])}}}finally{ki(-1)}}(r,e);const d=r.components;null!==d&&function(r,e){for(let i=0;i<e.length;i++)i2(r,e[i])}(e,d);const f=r.viewQuery;if(null!==f&&Qg(2,f,s),!a)if(l){const m=r.viewCheckHooks;null!==m&&Zl(e,m)}else{const m=r.viewHooks;null!==m&&ed(e,m,2),Jp(e,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,$p(e[3],-1))}finally{Yl()}}function jV(r,e,i,s){const o=e[10],a=!Kl(),l=function(r){return 4==(4&r[2])}(e);try{a&&!l&&o.begin&&o.begin(),l&&Pu(r,e,s),Oo(r,e,i,s)}finally{a&&!l&&o.end&&o.end()}}function mE(r,e,i,s,o){const a=pn(),l=2&s;try{ki(-1),l&&e.length>20&&sE(r,e,20,Kl()),i(s,o)}finally{ki(a)}}function yE(r,e,i){if(Fp(e)){const o=e.directiveEnd;for(let a=e.directiveStart;a<o;a++){const l=r.data[a];l.contentQueries&&l.contentQueries(1,i[a],a)}}}function Ug(r,e,i){!NC()||(function(r,e,i,s){const o=i.directiveStart,a=i.directiveEnd;r.firstCreatePass||_u(i,e),Zt(s,e);const l=i.initialInputs;for(let d=o;d<a;d++){const f=r.data[d],m=hr(f);m&&ZV(e,i,f);const _=vu(e,r,d,i);Zt(_,e),null!==l&&e2(0,d-o,_,f,0,l),m&&(Fn(i.index,e)[8]=_)}}(r,e,i,Jn(i,e)),128==(128&i.flags)&&function(r,e,i){const s=i.directiveStart,o=i.directiveEnd,l=i.index,d=ie.lFrame.currentDirectiveIndex;try{ki(l);for(let f=s;f<o;f++){const m=r.data[f],_=e[f];zp(f),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&IE(m,_)}}finally{ki(-1),zp(d)}}(r,e,i))}function Hg(r,e,i=Jn){const s=e.localNames;if(null!==s){let o=e.index+1;for(let a=0;a<s.length;a+=2){const l=s[a+1],d=-1===l?i(e,r):r[l];r[o++]=d}}}function _E(r){const e=r.tView;return null===e||e.incompleteFirstPass?r.tView=Dd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):e}function Dd(r,e,i,s,o,a,l,d,f,m){const _=20+s,v=_+o,b=function(r,e){const i=[];for(let s=0;s<e;s++)i.push(s<r?null:oe);return i}(_,v),w="function"==typeof m?m():m;return b[1]={type:r,blueprint:b,template:i,queries:null,viewQuery:d,declTNode:e,data:b.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:f,consts:w,incompleteFirstPass:!1}}function CE(r,e,i){for(let s in r)if(r.hasOwnProperty(s)){const o=r[s];(i=null===i?{}:i).hasOwnProperty(s)?i[s].push(e,o):i[s]=[e,o]}return i}function $g(r,e,i,s){let o=!1;if(NC()){const a=function(r,e,i){const s=r.directiveRegistry;let o=null;if(s)for(let a=0;a<s.length;a++){const l=s[a];rE(i,l.selectors,!1)&&(o||(o=[]),sd(_u(i,e),r,l.type),hr(l)?(TE(r,i),o.unshift(l)):o.push(l))}return o}(r,e,i),l=null===s?null:{"":-1};if(null!==a){o=!0,SE(i,r.data.length,a.length);for(let _=0;_<a.length;_++){const v=a[_];v.providersResolver&&v.providersResolver(v)}let d=!1,f=!1,m=ko(r,e,a.length,null);for(let _=0;_<a.length;_++){const v=a[_];i.mergedAttrs=nd(i.mergedAttrs,v.hostAttrs),xE(r,i,e,m,v),XV(m,v,l),null!==v.contentQueries&&(i.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(i.flags|=128);const b=v.type.prototype;!d&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(i.index),d=!0),!f&&(b.ngOnChanges||b.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(i.index),f=!0),m++}!function(r,e){const s=e.directiveEnd,o=r.data,a=e.attrs,l=[];let d=null,f=null;for(let m=e.directiveStart;m<s;m++){const _=o[m],v=_.inputs,b=null===a||nE(e)?null:t2(v,a);l.push(b),d=CE(v,m,d),f=CE(_.outputs,m,f)}null!==d&&(d.hasOwnProperty("class")&&(e.flags|=16),d.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=l,e.inputs=d,e.outputs=f}(r,i)}l&&function(r,e,i){if(e){const s=r.localNames=[];for(let o=0;o<e.length;o+=2){const a=i[e[o+1]];if(null==a)throw new fs("301",`Export of name '${e[o+1]}' not found!`);s.push(e[o],a)}}}(i,s,l)}return i.mergedAttrs=nd(i.mergedAttrs,i.attrs),o}function DE(r,e,i,s,o,a){const l=a.hostBindings;if(l){let d=r.hostBindingOpCodes;null===d&&(d=r.hostBindingOpCodes=[]);const f=~e.index;(function(r){let e=r.length;for(;e>0;){const i=r[--e];if("number"==typeof i&&i<0)return i}return 0})(d)!=f&&d.push(f),d.push(s,o,l)}}function IE(r,e){null!==r.hostBindings&&r.hostBindings(1,e)}function TE(r,e){e.flags|=2,(r.components||(r.components=[])).push(e.index)}function XV(r,e,i){if(i){if(e.exportAs)for(let s=0;s<e.exportAs.length;s++)i[e.exportAs[s]]=r;hr(e)&&(i[""]=r)}}function SE(r,e,i){r.flags|=1,r.directiveStart=e,r.directiveEnd=e+i,r.providerIndexes=e}function xE(r,e,i,s,o){r.data[s]=o;const a=o.factory||(o.factory=_s(o.type)),l=new mu(a,hr(o),null);r.blueprint[s]=l,i[s]=l,DE(r,e,0,s,ko(r,i,o.hostVars,oe),o)}function ZV(r,e,i){const s=Jn(e,r),o=_E(i),a=r[10],l=Id(r,Ou(r,o,null,i.onPush?64:16,s,e,a,a.createRenderer(s,i),null,null));r[e.index]=l}function e2(r,e,i,s,o,a){const l=a[e];if(null!==l){const d=s.setInput;for(let f=0;f<l.length;){const m=l[f++],_=l[f++],v=l[f++];null!==d?s.setInput(i,v,m,_):i[_]=v}}}function t2(r,e){let i=null,s=0;for(;s<e.length;){const o=e[s];if(0!==o)if(5!==o){if("number"==typeof o)break;r.hasOwnProperty(o)&&(null===i&&(i=[]),i.push(o,r[o],e[s+1])),s+=2}else s+=2;else s+=4}return i}function AE(r,e,i,s){return new Array(r,!0,!1,e,null,0,s,i,null,null)}function i2(r,e){const i=Fn(e,r);if(Hp(i)){const s=i[1];80&i[2]?Oo(s,i,s.template,i[8]):i[5]>0&&qg(i)}}function qg(r){for(let s=wg(r);null!==s;s=Cg(s))for(let o=10;o<s.length;o++){const a=s[o];if(1024&a[2]){const l=a[1];Oo(l,a,l.template,a[8])}else a[5]>0&&qg(a)}const i=r[1].components;if(null!==i)for(let s=0;s<i.length;s++){const o=Fn(i[s],r);Hp(o)&&o[5]>0&&qg(o)}}function s2(r,e){const i=Fn(e,r),s=i[1];(function(r,e){for(let i=e.length;i<r.blueprint.length;i++)e.push(r.blueprint[i])})(s,i),Pu(s,i,i[8])}function Id(r,e){return r[13]?r[14][4]=e:r[13]=e,r[14]=e,e}function zg(r){for(;r;){r[2]|=64;const e=Ru(r);if(XO(r)&&!e)return r;r=e}return null}function Kg(r,e,i){const s=e[10];s.begin&&s.begin();try{Oo(r,e,r.template,i)}catch(o){throw OE(e,o),o}finally{s.end&&s.end()}}function ME(r){!function(r){for(let e=0;e<r.components.length;e++){const i=r.components[e],s=yg(i),o=s[1];jV(o,s,o.template,i)}}(r[8])}function Qg(r,e,i){Kp(0),e(r,i)}const l2=(()=>Promise.resolve(null))();function NE(r){return r[7]||(r[7]=[])}function RE(r){return r.cleanup||(r.cleanup=[])}function OE(r,e){const i=r[9],s=i?i.get(Es,null):null;s&&s.handleError(e)}function PE(r,e,i,s,o){for(let a=0;a<i.length;){const l=i[a++],d=i[a++],f=e[l],m=r.data[l];null!==m.setInput?m.setInput(f,o,s,d):f[d]=o}}function ci(r,e,i){const s=function(r,e){return dt(e[r])}(e,r);!function(r,e,i){et(r)?r.setValue(e,i):e.textContent=i}(r[11],s,i)}function Td(r,e,i){let s=i?r.styles:null,o=i?r.classes:null,a=0;if(null!==e)for(let l=0;l<e.length;l++){const d=e[l];"number"==typeof d?a=d:1==a?o=xp(o,d):2==a&&(s=xp(s,d+": "+e[++l]+";"))}i?r.styles=s:r.stylesWithoutHost=s,i?r.classes=o:r.classesWithoutHost=o}const Po=new ye("INJECTOR",-1);class FE{get(e,i=Du){if(i===Du){const s=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw s.name="NullInjectorError",s}return i}}const Fu=new ye("Set Injector scope."),Vu={},f2={};let Jg;function VE(){return void 0===Jg&&(Jg=new FE),Jg}function LE(r,e=null,i=null,s){return new g2(r,i,e||VE(),s)}class g2{constructor(e,i,s,o=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];i&&Fr(i,d=>this.processProvider(d,e,i)),Fr([e],d=>this.processInjectorType(d,[],a)),this.records.set(Po,Fo(void 0,this));const l=this.records.get(Fu);this.scope=null!=l?l.value:null,this.source=o||("object"==typeof e?null:me(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,i=Du,s=X.Default){this.assertNotDestroyed();const o=To(this),a=Ai(void 0);try{if(!(s&X.SkipSelf)){let d=this.records.get(e);if(void 0===d){const f=function(r){return"function"==typeof r||"object"==typeof r&&r instanceof ye}(e)&&ii(e);d=f&&this.injectableDefInScope(f)?Fo(Yg(e),Vu):null,this.records.set(e,d)}if(null!=d)return this.hydrate(e,d)}return(s&X.Self?VE():this.parent).get(e,i=s&X.Optional&&i===Du?null:i)}catch(l){if("NullInjectorError"===l.name){if((l[Io]=l[Io]||[]).unshift(me(e)),o)throw l;return s0(l,e,"R3InjectorError",this.source)}throw l}finally{Ai(a),To(o)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((s,o)=>e.push(me(o))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,i,s){if(!(e=Y(e)))return!1;let o=fC(e);const a=null==o&&e.ngModule||void 0,l=void 0===a?e:a,d=-1!==s.indexOf(l);if(void 0!==a&&(o=fC(a)),null==o)return!1;if(null!=o.imports&&!d){let _;s.push(l);try{Fr(o.imports,v=>{this.processInjectorType(v,i,s)&&(void 0===_&&(_=[]),_.push(v))})}finally{}if(void 0!==_)for(let v=0;v<_.length;v++){const{ngModule:b,providers:w}=_[v];Fr(w,C=>this.processProvider(C,b,w||Pe))}}this.injectorDefTypes.add(l);const f=_s(l)||(()=>new l);this.records.set(l,Fo(f,Vu));const m=o.providers;if(null!=m&&!d){const _=e;Fr(m,v=>this.processProvider(v,_,m))}return void 0!==a&&void 0!==e.providers}processProvider(e,i,s){let o=Vo(e=Y(e))?e:Y(e&&e.provide);const a=function(r,e,i){return BE(r)?Fo(void 0,r.useValue):Fo(function(r,e,i){let s;if(Vo(r)){const o=Y(r);return _s(o)||Yg(o)}if(BE(r))s=()=>Y(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))s=()=>r.useFactory(...ws(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))s=()=>j(Y(r.useExisting));else{const o=Y(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return _s(o)||Yg(o);s=()=>new o(...ws(r.deps))}return s}(r),Vu)}(e);if(Vo(e)||!0!==e.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Fo(void 0,Vu,!0),l.factory=()=>ws(l.multi),this.records.set(o,l)),o=e,l.multi.push(e)}this.records.set(o,a)}hydrate(e,i){return i.value===Vu&&(i.value=f2,i.value=i.factory()),"object"==typeof i.value&&i.value&&function(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(i.value)&&this.onDestroy.add(i.value),i.value}injectableDefInScope(e){if(!e.providedIn)return!1;const i=Y(e.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Yg(r){const e=ii(r),i=null!==e?e.factory:_s(r);if(null!==i)return i;if(r instanceof ye)throw new Error(`Token ${me(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const e=r.length;if(e>0){const s=function(r,e){const i=[];for(let s=0;s<r;s++)i.push(e);return i}(e,"?");throw new Error(`Can't resolve all parameters for ${me(r)}: (${s.join(", ")}).`)}const i=function(r){const e=r&&(r[Bl]||r[pC]);if(e){const i=function(r){if(r.hasOwnProperty("name"))return r.name;const e=(""+r).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),e}return null}(r);return null!==i?()=>i.factory(r):()=>new r}(r);throw new Error("unreachable")}function Fo(r,e,i=!1){return{factory:r,value:e,multi:i?[]:void 0}}function BE(r){return null!==r&&"object"==typeof r&&ug in r}function Vo(r){return"function"==typeof r}const UE=function(r,e,i){return function(r,e=null,i=null,s){const o=LE(r,e,i,s);return o._resolveInjectorDefTypes(),o}({name:i},e,r,i)};class Ee{static create(e,i){return Array.isArray(e)?UE(e,i,""):UE(e.providers,e.parent,e.name||"")}}function F2(r,e){Xl(yg(r)[1],Ct())}Ee.THROW_IF_NOT_FOUND=Du,Ee.NULL=new FE,Ee.\u0275prov=ee({token:Ee,providedIn:"any",factory:()=>j(Po)}),Ee.__NG_ELEMENT_ID__=-1;let Sd=null;function Lo(){if(!Sd){const r=Re.Symbol;if(r&&r.iterator)Sd=r.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<e.length;++i){const s=e[i];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(Sd=s)}}}return Sd}function ju(r){return!!im(r)&&(Array.isArray(r)||!(r instanceof Map)&&Lo()in r)}function im(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ur(r,e,i){return r[e]=i}function en(r,e,i){return!Object.is(r[e],i)&&(r[e]=i,!0)}function Ie(r,e,i,s,o,a,l,d){const f=O(),m=De(),_=r+20,v=m.firstCreatePass?function(r,e,i,s,o,a,l,d,f){const m=e.consts,_=Ro(e,r,4,l||null,Ri(m,d));$g(e,i,_,Ri(m,f)),Xl(e,_);const v=_.tViews=Dd(2,_,s,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,m);return null!==e.queries&&(e.queries.template(e,_),v.queries=e.queries.embeddedTView(_)),_}(_,m,f,e,i,s,o,a,l):m.data[_];Or(v,!1);const b=f[11].createComment("");vd(m,f,b,v),Zt(b,f),Id(f,f[_]=AE(b,f,b,v)),zl(v)&&Ug(m,f,v),null!=l&&Hg(f,v,d)}function R(r,e=X.Default){const i=O();return null===i?j(r,e):JC(Ct(),i,Y(r),e)}function U(r,e,i){const s=O();return en(s,yo(),e)&&function(r,e,i,s,o,a,l,d){const f=Jn(e,i);let _,m=e.inputs;!d&&null!=m&&(_=m[s])?(PE(r,i,_,s,o),ql(e)&&function(r,e){const i=Fn(e,r);16&i[2]||(i[2]|=64)}(i,e.index)):3&e.type&&(s=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(s),o=null!=l?l(o,e.value||"",s):o,et(a)?a.setProperty(f,s,o):Xp(s)||(f.setProperty?f.setProperty(s,o):f[s]=o))}(De(),function(){const r=ie.lFrame;return Up(r.tView,r.selectedIndex)}(),s,r,e,s[11],i,!1),U}function cm(r,e,i,s,o){const l=o?"class":"style";PE(r,i,e.inputs[l],l,s)}function M(r,e,i,s){const o=O(),a=De(),l=20+r,d=o[11],f=o[l]=Dg(d,e,ie.lFrame.currentNamespace),m=a.firstCreatePass?function(r,e,i,s,o,a,l){const d=e.consts,m=Ro(e,r,2,o,Ri(d,a));return $g(e,i,m,Ri(d,l)),null!==m.attrs&&Td(m,m.attrs,!1),null!==m.mergedAttrs&&Td(m,m.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,m),m}(l,a,o,0,e,i,s):a.data[l];Or(m,!0);const _=m.mergedAttrs;null!==_&&td(d,f,_);const v=m.classes;null!==v&&Mg(d,f,v);const b=m.styles;null!==b&&Z0(d,f,b),64!=(64&m.flags)&&vd(a,o,f,m),0===ie.lFrame.elementDepthCount&&Zt(f,o),ie.lFrame.elementDepthCount++,zl(m)&&(Ug(a,o,m),yE(a,m,o)),null!==s&&Hg(o,m)}function N(){let r=Ct();Gp()?qp():(r=r.parent,Or(r,!1));const e=r;ie.lFrame.elementDepthCount--;const i=De();i.firstCreatePass&&(Xl(i,r),Fp(r)&&i.queries.elementEnd(r)),null!=e.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(e)&&cm(i,e,O(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(e)&&cm(i,e,O(),e.stylesWithoutHost,!1)}function I(r,e,i,s){M(r,e,i,s),N()}function yr(r,e,i){const s=O(),o=De(),a=r+20,l=o.firstCreatePass?function(r,e,i,s,o){const a=e.consts,l=Ri(a,s),d=Ro(e,r,8,"ng-container",l);return null!==l&&Td(d,l,!0),$g(e,i,d,Ri(a,o)),null!==e.queries&&e.queries.elementStart(e,d),d}(a,o,s,e,i):o.data[a];Or(l,!0);const d=s[a]=s[11].createComment("");vd(o,s,d,l),Zt(d,s),zl(l)&&(Ug(o,s,l),yE(o,l,s)),null!=i&&Hg(s,l)}function _r(){let r=Ct();const e=De();Gp()?qp():(r=r.parent,Or(r,!1)),e.firstCreatePass&&(Xl(e,r),Fp(r)&&e.queries.elementEnd(r))}function It(){return O()}function Uu(r){return!!r&&"function"==typeof r.then}const Md=function(r){return!!r&&"function"==typeof r.subscribe};function J(r,e,i,s){const o=O(),a=De(),l=Ct();return function(r,e,i,s,o,a,l,d){const f=zl(s),_=r.firstCreatePass&&RE(r),v=e[8],b=NE(e);let w=!0;if(3&s.type||d){const E=Jn(s,e),S=d?d(E):E,T=b.length,B=d?W=>d(dt(W[s.index])):s.index;if(et(i)){let W=null;if(!d&&f&&(W=function(r,e,i,s){const o=r.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const l=o[a];if(l===i&&o[a+1]===s){const d=e[7],f=o[a+2];return d.length>f?d[f]:null}"string"==typeof l&&(a+=2)}return null}(r,e,o,s.index)),null!==W)(W.__ngLastListenerFn__||W).__ngNextListenerFn__=a,W.__ngLastListenerFn__=a,w=!1;else{a=lm(s,e,v,a,!1);const le=i.listen(S,o,a);b.push(a,le),_&&_.push(o,B,T,T+1)}}else a=lm(s,e,v,a,!0),S.addEventListener(o,a,l),b.push(a),_&&_.push(o,B,T,l)}else a=lm(s,e,v,a,!1);const C=s.outputs;let D;if(w&&null!==C&&(D=C[o])){const E=D.length;if(E)for(let S=0;S<E;S+=2){const at=e[D[S]][D[S+1]].subscribe(a),ur=b.length;b.push(a,at),_&&_.push(o,s.index,ur,-(ur+1))}}}(a,o,o[11],l,r,e,!!i,s),J}function xD(r,e,i,s){try{return!1!==i(s)}catch(o){return OE(r,o),!1}}function lm(r,e,i,s,o){return function a(l){if(l===Function)return s;const d=2&r.flags?Fn(r.index,e):e;0==(32&e[2])&&zg(d);let f=xD(e,0,s,l),m=a.__ngNextListenerFn__;for(;m;)f=xD(e,0,m,l)&&f,m=m.__ngNextListenerFn__;return o&&!1===f&&(l.preventDefault(),l.returnValue=!1),f}}function he(r=1){return function(r){return(ie.lFrame.contextLView=function(r,e){for(;r>0;)e=e[15],r--;return e}(r,ie.lFrame.contextLView))[8]}(r)}function V(r,e=""){const i=O(),s=De(),o=r+20,a=s.firstCreatePass?Ro(s,o,1,e,null):s.data[o],l=i[o]=function(r,e){return et(r)?r.createText(e):r.createTextNode(e)}(i[11],e);vd(s,i,l,a),Or(a,!1)}function nt(r){return ji("",r,""),nt}function ji(r,e,i){const s=O(),o=function(r,e,i,s){return en(r,yo(),i)?e+ce(i)+s:oe}(s,r,e,i);return o!==oe&&ci(s,pn(),o),ji}const Ts=void 0;var uj=["en",[["a","p"],["AM","PM"],Ts],[["AM","PM"],Ts,Ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ts,"{1} 'at' {0}",Ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const e=Math.floor(Math.abs(r)),i=r.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Jo={};function yI(r){return r in Jo||(Jo[r]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[r]),Jo[r]}var G=(()=>((G=G||{})[G.LocaleId=0]="LocaleId",G[G.DayPeriodsFormat=1]="DayPeriodsFormat",G[G.DayPeriodsStandalone=2]="DayPeriodsStandalone",G[G.DaysFormat=3]="DaysFormat",G[G.DaysStandalone=4]="DaysStandalone",G[G.MonthsFormat=5]="MonthsFormat",G[G.MonthsStandalone=6]="MonthsStandalone",G[G.Eras=7]="Eras",G[G.FirstDayOfWeek=8]="FirstDayOfWeek",G[G.WeekendRange=9]="WeekendRange",G[G.DateFormat=10]="DateFormat",G[G.TimeFormat=11]="TimeFormat",G[G.DateTimeFormat=12]="DateTimeFormat",G[G.NumberSymbols=13]="NumberSymbols",G[G.NumberFormats=14]="NumberFormats",G[G.CurrencyCode=15]="CurrencyCode",G[G.CurrencySymbol=16]="CurrencySymbol",G[G.CurrencyName=17]="CurrencyName",G[G.Currencies=18]="Currencies",G[G.Directionality=19]="Directionality",G[G.PluralCase=20]="PluralCase",G[G.ExtraData=21]="ExtraData",G))();const kd="en-US";let _I=kd;function pm(r){kn(r,"Expected localeId to be defined"),"string"==typeof r&&(_I=r.toLowerCase().replace(/_/g,"-"))}class $I{}const qI="ngComponent";class uB{resolveComponentFactory(e){throw function(r){const e=Error(`No component factory found for ${me(r)}. Did you add it to @NgModule.entryComponents?`);return e[qI]=r,e}(e)}}class Bi{}function Ld(...r){}function Xo(r,e){return new Nt(Jn(r,e))}Bi.NULL=new uB;const dB=function(){return Xo(Ct(),O())};let Nt=(()=>{class r{constructor(i){this.nativeElement=i}}return r.__NG_ELEMENT_ID__=dB,r})();class jd{}let di=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>fB(),r})();const fB=function(){const r=O(),i=Fn(Ct().index,r);return function(r){return r[11]}(kr(i)?i:r)};let Cm=(()=>{class r{}return r.\u0275prov=ee({token:r,providedIn:"root",factory:()=>null}),r})();class Wu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WI=new Wu("12.2.4");class KI{constructor(){}supports(e){return ju(e)}create(e){return new yB(e)}}const mB=(r,e)=>e;class yB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mB}forEachItem(e){let i;for(i=this._itHead;null!==i;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,s=this._removalsHead,o=0,a=null;for(;i||s;){const l=!s||i&&i.currentIndex<JI(s,o,a)?i:s,d=JI(l,o,a),f=l.currentIndex;if(l===s)o--,s=s._nextRemoved;else if(i=i._next,null==l.previousIndex)o++;else{a||(a=[]);const m=d-o,_=f-o;if(m!=_){for(let b=0;b<m;b++){const w=b<a.length?a[b]:a[b]=0,C=w+b;_<=C&&C<m&&(a[b]=w+1)}a[l.previousIndex]=_-m}}d!==f&&e(l,d,f)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)e(i)}diff(e){if(null==e&&(e=[]),!ju(e))throw new Error(`Error trying to diff '${me(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,a,l,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let d=0;d<this.length;d++)a=e[d],l=this._trackByFn(d,a),null!==i&&Object.is(i.trackById,l)?(s&&(i=this._verifyReinsertion(i,a,l,d)),Object.is(i.item,a)||this._addIdentityChange(i,a)):(i=this._mismatch(i,a,l,d),s=!0),i=i._next}else o=0,function(r,e){if(Array.isArray(r))for(let i=0;i<r.length;i++)e(r[i]);else{const i=r[Lo()]();let s;for(;!(s=i.next()).done;)e(s.value)}}(e,d=>{l=this._trackByFn(o,d),null!==i&&Object.is(i.trackById,l)?(s&&(i=this._verifyReinsertion(i,d,l,o)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,l,o),s=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,s,o){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,a,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(s,o))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,a,o)):e=this._addAfter(new _B(i,s),a,o),e}_verifyReinsertion(e,i,s,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==a?e=this._reinsertAfter(a,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const i=e._next;this._addToRemovals(this._unlink(e)),e=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,a=e._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(e,i,s),this._addToMoves(e,s),e}_moveAfter(e,i,s){return this._unlink(e),this._insertAfter(e,i,s),this._addToMoves(e,s),e}_addAfter(e,i,s){return this._insertAfter(e,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,i,s){const o=null===i?this._itHead:i._next;return e._next=o,e._prev=i,null===o?this._itTail=e:o._prev=e,null===i?this._itHead=e:i._next=e,null===this._linkedRecords&&(this._linkedRecords=new QI),this._linkedRecords.put(e),e.currentIndex=s,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const i=e._prev,s=e._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _B{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,e))return s;return null}remove(e){const i=e._prevDup,s=e._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class QI{constructor(){this.map=new Map}put(e){const i=e.trackById;let s=this.map.get(i);s||(s=new vB,this.map.set(i,s)),s.add(e)}get(e,i){const o=this.map.get(e);return o?o.get(e,i):null}remove(e){const i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JI(r,e,i){const s=r.previousIndex;if(null===s)return s;let o=0;return i&&s<i.length&&(o=i[s]),s+e+o}class YI{constructor(){}supports(e){return e instanceof Map||im(e)}create(){return new bB}}class bB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let i;for(i=this._mapHead;null!==i;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}diff(e){if(e){if(!(e instanceof Map||im(e)))throw new Error(`Error trying to diff '${me(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(s,o)=>{if(i&&i.key===o)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const a=this._getOrCreateRecordForKey(o,s);i=this._insertBeforeOrAppend(i,a)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){const s=e._prev;return i._next=e,i._prev=s,e._prev=i,s&&(s._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){const o=this._records.get(e);this._maybeAddToChanges(o,i);const a=o._prev,l=o._next;return a&&(a._next=l),l&&(l._prev=a),o._next=null,o._prev=null,o}const s=new wB(e);return this._records.set(e,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(s=>i(e[s],s))}}class wB{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XI(){return new Ku([new KI])}let Ku=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(null!=s){const o=s.factories.slice();i=i.concat(o)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||XI()),deps:[[r,new Fi,new Sn]]}}find(i){const s=this.factories.find(o=>o.supports(i));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'`)}}return r.\u0275prov=ee({token:r,providedIn:"root",factory:XI}),r})();function ZI(){return new Zo([new YI])}let Zo=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(s){const o=s.factories.slice();i=i.concat(o)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||ZI()),deps:[[r,new Fi,new Sn]]}}find(i){const s=this.factories.find(o=>o.supports(i));if(s)return s;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return r.\u0275prov=ee({token:r,providedIn:"root",factory:ZI}),r})();function Bd(r,e,i,s,o=!1){for(;null!==i;){const a=e[i.index];if(null!==a&&s.push(dt(a)),dr(a))for(let d=10;d<a.length;d++){const f=a[d],m=f[1].firstChild;null!==m&&Bd(f[1],f,m,s)}const l=i.type;if(8&l)Bd(r,e,i.child,s);else if(32&l){const d=bg(i,e);let f;for(;f=d();)s.push(f)}else if(16&l){const d=J0(e,i);if(Array.isArray(d))s.push(...d);else{const f=Ru(e[16]);Bd(f[1],f,d,s,!0)}}i=o?i.projectionNext:i.next}return s}class Qu{constructor(e,i){this._lView=e,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,i=e[1];return Bd(i,e,i.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(dr(e)){const i=e[8],s=i?i.indexOf(this):-1;s>-1&&(Ig(e,s),bs(i,s))}this._attachedToViewContainer=!1}U0(this._lView[1],this._lView)}onDestroy(e){!function(r,e,i,s){const o=NE(e);null===i?o.push(s):(o.push(i),r.firstCreatePass&&RE(r).push(s,o.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){zg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,e,i){Ql(!0);try{Kg(r,e,i)}finally{Ql(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(r,e){ku(r,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class EB extends Qu{constructor(e){super(e),this._view=e}detectChanges(){ME(this._view)}checkNoChanges(){!function(r){Ql(!0);try{ME(r)}finally{Ql(!1)}}(this._view)}get context(){return null}}const IB=function(r){return function(r,e,i){if(ql(r)&&!i){const s=Fn(r.index,e);return new Qu(s,s)}return 47&r.type?new Qu(e[16],e):null}(Ct(),O(),16==(16&r))};let Em=(()=>{class r{}return r.__NG_ELEMENT_ID__=IB,r})();const xB=[new YI],MB=new Ku([new KI]),NB=new Zo(xB),kB=function(){return function(r,e){return 4&r.type?new PB(e,r,Xo(r,e)):null}(Ct(),O())};let hi=(()=>{class r{}return r.__NG_ELEMENT_ID__=kB,r})();const OB=hi,PB=class extends OB{constructor(e,i,s){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=s}createEmbeddedView(e){const i=this._declarationTContainer.tViews,s=Ou(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(s[19]=a.createEmbeddedView(i)),Pu(i,s,e),new Qu(s)}};class qr{}class eT{}const LB=function(){return function(r,e){let i;const s=e[r.index];if(dr(s))i=s;else{let o;if(8&r.type)o=dt(s);else{const a=e[11];o=a.createComment("");const l=Jn(r,e);Ds(a,_d(a,l),o,function(r,e){return et(r)?r.nextSibling(e):e.nextSibling}(a,l),!1)}e[r.index]=i=AE(s,e,o,r),Id(e,i)}return new tT(i,r,e)}(Ct(),O())};let wr=(()=>{class r{}return r.__NG_ELEMENT_ID__=LB,r})();const BB=wr,tT=class extends BB{constructor(e,i,s){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=s}get element(){return Xo(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const e=id(this._hostTNode,this._hostLView);if(qC(e)){const i=vo(e,this._hostLView),s=_o(e);return new bo(i[1].data[s+8],i)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const i=nT(this._lContainer);return null!==i&&i[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,i,s){const o=e.createEmbeddedView(i||{});return this.insert(o,s),o}createComponent(e,i,s,o,a){const l=s||this.parentInjector;if(!a&&null==e.ngModule&&l){const f=l.get(qr,null);f&&(a=f)}const d=e.create(l,o,void 0,a);return this.insert(d.hostView,i),d}insert(e,i){const s=e._lView,o=s[1];if(function(r){return dr(r[3])}(s)){const _=this.indexOf(e);if(-1!==_)this.detach(_);else{const v=s[3],b=new tT(v,v[6],v[3]);b.detach(b.indexOf(e))}}const a=this._adjustIndex(i),l=this._lContainer;!function(r,e,i,s){const o=10+s,a=i.length;s>0&&(i[o-1][4]=e),s<a-10?(e[4]=i[o],cd(i,10+s,e)):(i.push(e),e[4]=null),e[3]=i;const l=e[17];null!==l&&i!==l&&function(r,e){const i=r[9];e[16]!==e[3][3][16]&&(r[2]=!0),null===i?r[9]=[e]:i.push(e)}(l,e);const d=e[19];null!==d&&d.insertView(r),e[2]|=128}(o,s,l,a);const d=xg(a,l),f=s[11],m=_d(f,l[7]);return null!==m&&function(r,e,i,s,o,a){s[0]=o,s[6]=e,ku(r,s,i,1,o,a)}(o,l[6],f,s,m,d),e.attachToViewContainerRef(),cd(Dm(l),a,e),e}move(e,i){return this.insert(e,i)}indexOf(e){const i=nT(this._lContainer);return null!==i?i.indexOf(e):-1}remove(e){const i=this._adjustIndex(e,-1),s=Ig(this._lContainer,i);s&&(bs(Dm(this._lContainer),i),U0(s[1],s))}detach(e){const i=this._adjustIndex(e,-1),s=Ig(this._lContainer,i);return s&&null!=bs(Dm(this._lContainer),i)?new Qu(s):null}_adjustIndex(e,i=0){return null==e?this.length+i:e}};function nT(r){return r[8]}function Dm(r){return r[8]||(r[8]=[])}const ra={};class ET extends Bi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const i=hn(e);return new IT(i,this.ngModule)}}function DT(r){const e=[];for(let i in r)r.hasOwnProperty(i)&&e.push({propName:r[i],templateName:i});return e}const FU=new ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>k0});class IT extends $I{constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=function(r){return r.map(TV).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return DT(this.componentDef.inputs)}get outputs(){return DT(this.componentDef.outputs)}create(e,i,s,o){const a=(o=o||this.ngModule)?function(r,e){return{get:(i,s,o)=>{const a=r.get(i,ra,o);return a!==ra||s===ra?a:e.get(i,s,o)}}}(e,o.injector):e,l=a.get(jd,xC),d=a.get(Cm,null),f=l.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=s?function(r,e,i){if(et(r))return r.selectRootElement(e,i===wt.ShadowDom);let s="string"==typeof e?r.querySelector(e):e;return s.textContent="",s}(f,s,this.componentDef.encapsulation):Dg(l.createRenderer(null,this.componentDef),m,function(r){const e=r.toLowerCase();return"svg"===e?TC:"math"===e?"http://www.w3.org/1998/MathML/":null}(m)),v=this.componentDef.onPush?576:528,b=function(r,e){return{components:[],scheduler:r||k0,clean:l2,playerHandler:e||null,flags:0}}(),w=Dd(0,null,null,1,0,null,null,null,null,null),C=Ou(null,w,b,v,null,null,l,f,d,a);let D,E;Jl(C);try{const S=function(r,e,i,s,o,a){const l=i[1];i[20]=r;const f=Ro(l,20,2,"#host",null),m=f.mergedAttrs=e.hostAttrs;null!==m&&(Td(f,m,!0),null!==r&&(td(o,r,m),null!==f.classes&&Mg(o,r,f.classes),null!==f.styles&&Z0(o,r,f.styles)));const _=s.createRenderer(r,e),v=Ou(i,_E(e),null,e.onPush?64:16,i[20],f,s,_,a||null,null);return l.firstCreatePass&&(sd(_u(f,i),l,e.type),TE(l,f),SE(f,i.length,1)),Id(i,v),i[20]=v}(_,this.componentDef,C,l,f);if(_)if(s)td(f,_,["ng-version",WI.full]);else{const{attrs:T,classes:B}=function(r){const e=[],i=[];let s=1,o=2;for(;s<r.length;){let a=r[s];if("string"==typeof a)2===o?""!==a&&e.push(a,r[++s]):8===o&&i.push(a);else{if(!fr(o))break;o=a}s++}return{attrs:e,classes:i}}(this.componentDef.selectors[0]);T&&td(f,_,T),B&&B.length>0&&Mg(f,_,B.join(" "))}if(E=Up(w,20),void 0!==i){const T=E.projection=[];for(let B=0;B<this.ngContentSelectors.length;B++){const W=i[B];T.push(null!=W?Array.from(W):null)}}D=function(r,e,i,s,o){const a=i[1],l=function(r,e,i){const s=Ct();r.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),xE(r,s,e,ko(r,e,1,null),i));const o=vu(e,r,s.directiveStart,s);Zt(o,e);const a=Jn(s,e);return a&&Zt(a,e),o}(a,i,e);if(s.components.push(l),r[8]=l,o&&o.forEach(f=>f(l,e)),e.contentQueries){const f=Ct();e.contentQueries(1,l,f.directiveStart)}const d=Ct();return!a.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ki(d.index),DE(i[1],d,0,d.directiveStart,d.directiveEnd,e),IE(e,l)),l}(S,this.componentDef,C,b,[F2]),Pu(w,C,null)}finally{Yl()}return new jU(this.componentType,D,Xo(E,C),C,E)}}class jU extends class{}{constructor(e,i,s,o,a){super(),this.location=s,this._rootLView=o,this._tNode=a,this.instance=i,this.hostView=this.changeDetectorRef=new EB(o),this.componentType=e}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const ia=new Map;class HU extends qr{constructor(e,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ET(this);const s=Wn(e),o=function(r){return r[GO]||null}(e);o&&pm(o),this._bootstrapComponents=jr(s.bootstrap),this._r3Injector=LE(e,i,[{provide:qr,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver}],me(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,i=Ee.THROW_IF_NOT_FOUND,s=X.Default){return e===Ee||e===qr||e===Po?this:this._r3Injector.get(e,i,s)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vm extends eT{constructor(e){super(),this.moduleType=e,null!==Wn(e)&&function(r){const e=new Set;!function i(s){const o=Wn(s,!0),a=o.id;null!==a&&(function(r,e,i){if(e&&e!==i)throw new Error(`Duplicate module registered for ${r} - ${me(e)} vs ${me(e.name)}`)}(a,ia.get(a),s),ia.set(a,s));const l=jr(o.imports);for(const d of l)e.has(d)||(e.add(d),i(d))}(r)}(e)}create(e){return new HU(this.moduleType,e)}}function xT(r,e,i,s){return function(r,e,i,s,o,a){const l=e+i;return en(r,l,o)?Ur(r,l+1,a?s.call(a,o):s(o)):rc(r,l+1)}(O(),fn(),r,e,i,s)}function fi(r,e,i,s,o){return function(r,e,i,s,o,a,l){const d=e+i;return function(r,e,i,s){const o=en(r,e,i);return en(r,e+1,s)||o}(r,d,o,a)?Ur(r,d+2,l?s.call(l,o,a):s(o,a)):rc(r,d+2)}(O(),fn(),r,e,i,s,o)}function rc(r,e){const i=r[e];return i===oe?void 0:i}function Lm(r){return e=>{setTimeout(r,void 0,e)}}const St=class extends ni{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,i,s){var o,a,l;let d=e,f=i||(()=>null),m=s;if(e&&"object"==typeof e){const v=e;d=null===(o=v.next)||void 0===o?void 0:o.bind(v),f=null===(a=v.error)||void 0===a?void 0:a.bind(v),m=null===(l=v.complete)||void 0===l?void 0:l.bind(v)}this.__isAsync&&(f=Lm(f),d&&(d=Lm(d)),m&&(m=Lm(m)));const _=super.subscribe({next:d,error:f,complete:m});return e instanceof Ze&&e.add(_),_}};Symbol;const ac=new ye("Application Initializer");let oa=(()=>{class r{constructor(i){this.appInits=i,this.resolve=Ld,this.reject=Ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,o)=>{this.resolve=s,this.reject=o})}runInitializers(){if(this.initialized)return;const i=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const a=this.appInits[o]();if(Uu(a))i.push(a);else if(Md(a)){const l=new Promise((d,f)=>{a.subscribe({complete:d,error:f})});i.push(l)}}Promise.all(i).then(()=>{s()}).catch(o=>{this.reject(o)}),0===i.length&&s(),this.initialized=!0}}return r.\u0275fac=function(i){return new(i||r)(j(ac,8))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const uc=new ye("AppId"),H3={provide:uc,useFactory:function(){return`${Xm()}${Xm()}${Xm()}`},deps:[]};function Xm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n1=new ye("Platform Initializer"),Qd=new ye("Platform ID"),r1=new ye("appBootstrapListener");let Jd=(()=>{class r{log(i){console.log(i)}warn(i){console.warn(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const Hi=new ye("LocaleId"),i1=new ye("DefaultCurrencyCode");class G3{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}}const Zm=function(r){return new Vm(r)},q3=Zm,z3=function(r){return Promise.resolve(Zm(r))},s1=function(r){const e=Zm(r),s=jr(Wn(r).declarations).reduce((o,a)=>{const l=hn(a);return l&&o.push(new IT(l)),o},[]);return new G3(e,s)},W3=s1,K3=function(r){return Promise.resolve(s1(r))};let As=(()=>{class r{constructor(){this.compileModuleSync=q3,this.compileModuleAsync=z3,this.compileModuleAndAllComponentsSync=W3,this.compileModuleAndAllComponentsAsync=K3}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const Y3=(()=>Promise.resolve(0))();function ey(r){"undefined"==typeof Zone?Y3.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ht{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new St(!1),this.onMicrotaskEmpty=new St(!1),this.onStable=new St(!1),this.onError=new St(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&i,o.shouldCoalesceRunChangeDetection=s,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let r=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&e){const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i);const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(r){const e=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Re,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,ny(r),r.isCheckStableRunning=!0,ty(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),ny(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,o,a,l,d)=>{try{return o1(r),i.invokeTask(o,a,l,d)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||r.shouldCoalesceRunChangeDetection)&&e(),a1(r)}},onInvoke:(i,s,o,a,l,d,f)=>{try{return o1(r),i.invoke(o,a,l,d,f)}finally{r.shouldCoalesceRunChangeDetection&&e(),a1(r)}},onHasTask:(i,s,o,a)=>{i.hasTask(o,a),s===o&&("microTask"==a.change?(r._hasPendingMicrotasks=a.microTask,ny(r),ty(r)):"macroTask"==a.change&&(r.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,s,o,a)=>(i.handleError(o,a),r.runOutsideAngular(()=>r.onError.emit(a)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ht.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ht.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,i,s){return this._inner.run(e,i,s)}runTask(e,i,s,o){const a=this._inner,l=a.scheduleEventTask("NgZoneEvent: "+o,e,Z3,Ld,Ld);try{return a.runTask(l,i,s)}finally{a.cancelTask(l)}}runGuarded(e,i,s){return this._inner.runGuarded(e,i,s)}runOutsideAngular(e){return this._outer.run(e)}}const Z3={};function ty(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function ny(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function o1(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function a1(r){r._nesting--,ty(r)}class nH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new St,this.onMicrotaskEmpty=new St,this.onStable=new St,this.onError=new St}run(e,i,s){return e.apply(i,s)}runGuarded(e,i,s){return e.apply(i,s)}runOutsideAngular(e){return e()}runTask(e,i,s,o){return e.apply(i,s)}}let ry=(()=>{class r{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ht.assertNotInAngularZone(),ey(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ey(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,o){let a=-1;s&&s>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:a,updateCb:o})}whenStable(i,s,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,s,o){return[]}}return r.\u0275fac=function(i){return new(i||r)(j(ht))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),u1=(()=>{class r{constructor(){this._applications=new Map,iy.addToWindow(this)}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return iy.findTestabilityInTree(this,i,s)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();class rH{addToWindow(e){}findTestabilityInTree(e,i,s){return null}}let iy=new rH,c1=!0,l1=!1;let Dr;const h1=new ye("AllowMultipleToken");class sy{constructor(e,i){this.name=e,this.token=i}}function f1(r,e,i=[]){const s=`Platform: ${e}`,o=new ye(s);return(a=[])=>{let l=p1();if(!l||l.injector.get(h1,!1))if(r)r(i.concat(a).concat({provide:o,useValue:!0}));else{const d=i.concat(a).concat({provide:o,useValue:!0},{provide:Fu,useValue:"platform"});!function(r){if(Dr&&!Dr.destroyed&&!Dr.injector.get(h1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Dr=r.get(g1);const e=r.get(n1,null);e&&e.forEach(i=>i())}(Ee.create({providers:d,name:s}))}return function(r){const e=p1();if(!e)throw new Error("No platform exists!");if(!e.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function p1(){return Dr&&!Dr.destroyed?Dr:null}let g1=(()=>{class r{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const d=function(r,e){let i;return i="noop"===r?new nH:("zone.js"===r?void 0:r)||new ht({enableLongStackTrace:(l1=!0,c1),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),i}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),f=[{provide:ht,useValue:d}];return d.run(()=>{const m=Ee.create({providers:f,parent:this.injector,name:i.moduleType.name}),_=i.create(m),v=_.injector.get(Es,null);if(!v)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:w=>{v.handleError(w)}});_.onDestroy(()=>{oy(this._modules,_),b.unsubscribe()})}),function(r,e,i){try{const s=i();return Uu(s)?s.catch(o=>{throw e.runOutsideAngular(()=>r.handleError(o)),o}):s}catch(s){throw e.runOutsideAngular(()=>r.handleError(s)),s}}(v,d,()=>{const b=_.injector.get(oa);return b.runInitializers(),b.donePromise.then(()=>(pm(_.injector.get(Hi,kd)||kd),this._moduleDoBootstrap(_),_))})})}bootstrapModule(i,s=[]){const o=m1({},s);return function(r,e,i){const s=new Vm(i);return Promise.resolve(s)}(0,0,i).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(i){const s=i.injector.get(aa);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>s.bootstrap(o));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${me(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(i){return new(i||r)(j(Ee))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();function m1(r,e){return Array.isArray(e)?e.reduce(m1,r):Object.assign(Object.assign({},r),e)}let aa=(()=>{class r{constructor(i,s,o,a,l){this._zone=i,this._injector=s,this._exceptionHandler=o,this._componentFactoryResolver=a,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new Ue(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),f=new Ue(m=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{ht.assertNotInAngularZone(),ey(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{ht.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),v.unsubscribe()}});this.isStable=function(...r){let e=Number.POSITIVE_INFINITY,i=null,s=r[r.length-1];return Vl(s)?(i=r.pop(),r.length>1&&"number"==typeof r[r.length-1]&&(e=r.pop())):"number"==typeof s&&(e=r.pop()),null===i&&1===r.length&&r[0]instanceof Ue?r[0]:lu(e)(Ip(r,i))}(d,f.pipe(r=>Tp()(function(r,e){return function(s){let o;o="function"==typeof r?r:function(){return r};const a=Object.create(s,DO);return a.source=s,a.subjectFactory=o,a}}(AO)(r))))}bootstrap(i,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=i instanceof $I?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(o.componentType);const a=function(r){return r.isBoundToModule}(o)?void 0:this._injector.get(qr),d=o.create(Ee.NULL,[],s||o.selector,a),f=d.location.nativeElement,m=d.injector.get(ry,null),_=m&&d.injector.get(u1);return m&&_&&_.registerApplication(f,m),d.onDestroy(()=>{this.detachView(d.hostView),oy(this.components,d),_&&_.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;oy(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(r1,[]).concat(this._bootstrapListeners).forEach(o=>o(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(i){return new(i||r)(j(ht),j(Ee),j(Es),j(Bi),j(oa))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();function oy(r,e){const i=r.indexOf(e);i>-1&&r.splice(i,1)}class Xd{}class _H{}const vH={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bH=(()=>{class r{constructor(i,s){this._compiler=i,this._config=s||vH}load(i){return this.loadAndCompile(i)}loadAndCompile(i){let[s,o]=i.split("#");return void 0===o&&(o="default"),uu(255)(s).then(a=>a[o]).then(a=>b1(a,s,o)).then(a=>this._compiler.compileModuleAsync(a))}loadFactory(i){let[s,o]=i.split("#"),a="NgFactory";return void 0===o&&(o="default",a=""),uu(255)(this._config.factoryPathPrefix+s+this._config.factoryPathSuffix).then(l=>l[o+a]).then(l=>b1(l,s,o))}}return r.\u0275fac=function(i){return new(i||r)(j(As),j(_H,8))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();function b1(r,e,i){if(!r)throw new Error(`Cannot find '${i}' in '${e}'`);return r}const MH=f1(null,"core",[{provide:Qd,useValue:"unknown"},{provide:g1,deps:[Ee]},{provide:u1,deps:[]},{provide:Jd,deps:[]}]),PH=[{provide:aa,useClass:aa,deps:[ht,Ee,Es,Bi,oa]},{provide:FU,deps:[ht],useFactory:function(r){let e=[];return r.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(i){e.push(i)}}},{provide:oa,useClass:oa,deps:[[new Sn,ac]]},{provide:As,useClass:As,deps:[]},H3,{provide:Ku,useFactory:function(){return MB},deps:[]},{provide:Zo,useFactory:function(){return NB},deps:[]},{provide:Hi,useFactory:function(r){return pm(r=r||"undefined"!=typeof $localize&&$localize.locale||kd),r},deps:[[new So(Hi),new Sn,new Fi]]},{provide:i1,useValue:"USD"}];let VH=(()=>{class r{constructor(i){}}return r.\u0275fac=function(i){return new(i||r)(j(aa))},r.\u0275mod=On({type:r}),r.\u0275inj=dn({providers:PH}),r})(),uh=null;function zr(){return uh}const Ot=new ye("DocumentToken");let Rs=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({factory:F$,token:r,providedIn:"platform"}),r})();function F$(){return j(G1)}const V$=new ye("Location Initialized");let G1=(()=>{class r extends Rs{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zr().getBaseHref(this._doc)}onPopState(i){const s=zr().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",i,!1),()=>s.removeEventListener("popstate",i)}onHashChange(i){const s=zr().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",i,!1),()=>s.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,s,o){q1()?this._history.pushState(i,s,o):this.location.hash=o}replaceState(i,s,o){q1()?this._history.replaceState(i,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return r.\u0275fac=function(i){return new(i||r)(j(Ot))},r.\u0275prov=ee({factory:L$,token:r,providedIn:"platform"}),r})();function q1(){return!!window.history.pushState}function L$(){return new G1(j(Ot))}function wy(r,e){if(0==r.length)return e;if(0==e.length)return r;let i=0;return r.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?r+e.substring(1):1==i?r+e:r+"/"+e}function z1(r){const e=r.match(/#|\?|$/),i=e&&e.index||r.length;return r.slice(0,i-("/"===r[i-1]?1:0))+r.slice(i)}function gi(r){return r&&"?"!==r[0]?"?"+r:r}let la=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({factory:j$,token:r,providedIn:"root"}),r})();function j$(r){const e=j(Ot).location;return new W1(j(Rs),e&&e.origin||"")}const Cy=new ye("appBaseHref");let W1=(()=>{class r extends la{constructor(i,s){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return wy(this._baseHref,i)}path(i=!1){const s=this._platformLocation.pathname+gi(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${s}${o}`:s}pushState(i,s,o,a){const l=this.prepareExternalUrl(o+gi(a));this._platformLocation.pushState(i,s,l)}replaceState(i,s,o,a){const l=this.prepareExternalUrl(o+gi(a));this._platformLocation.replaceState(i,s,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(j(Rs),j(Cy,8))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),B$=(()=>{class r extends la{constructor(i,s){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(i){const s=wy(this._baseHref,i);return s.length>0?"#"+s:s}pushState(i,s,o,a){let l=this.prepareExternalUrl(o+gi(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(i,s,l)}replaceState(i,s,o,a){let l=this.prepareExternalUrl(o+gi(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(i,s,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(j(Rs),j(Cy,8))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),ch=(()=>{class r{constructor(i,s){this._subject=new St,this._urlChangeListeners=[],this._platformStrategy=i;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=z1(K1(o)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,s=""){return this.path()==this.normalize(i+gi(s))}normalize(i){return r.stripTrailingSlash(function(r,e){return r&&e.startsWith(r)?e.substring(r.length):e}(this._baseHref,K1(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,s="",o=null){this._platformStrategy.pushState(o,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+gi(s)),o)}replaceState(i,s="",o=null){this._platformStrategy.replaceState(o,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+gi(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(i="",s){this._urlChangeListeners.forEach(o=>o(i,s))}subscribe(i,s,o){return this._subject.subscribe({next:i,error:s,complete:o})}}return r.\u0275fac=function(i){return new(i||r)(j(la),j(Rs))},r.normalizeQueryParams=gi,r.joinWithSlash=wy,r.stripTrailingSlash=z1,r.\u0275prov=ee({factory:U$,token:r,providedIn:"root"}),r})();function U$(){return new ch(j(la),j(Rs))}function K1(r){return r.replace(/\/index.html$/,"")}var ft=(()=>((ft=ft||{})[ft.Zero=0]="Zero",ft[ft.One=1]="One",ft[ft.Two=2]="Two",ft[ft.Few=3]="Few",ft[ft.Many=4]="Many",ft[ft.Other=5]="Other",ft))();const Q$=function(r){return function(r){const e=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let i=yI(e);if(i)return i;const s=e.split("-")[0];if(i=yI(s),i)return i;if("en"===s)return uj;throw new Error(`Missing locale data for the locale "${r}".`)}(r)[G.PluralCase]};class vh{}let D4=(()=>{class r extends vh{constructor(i){super(),this.locale=i}getPluralCategory(i,s){switch(Q$(s||this.locale)(i)){case ft.Zero:return"zero";case ft.One:return"one";case ft.Two:return"two";case ft.Few:return"few";case ft.Many:return"many";default:return"other"}}}return r.\u0275fac=function(i){return new(i||r)(j(Hi))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();function rS(r,e){e=encodeURIComponent(e);for(const i of r.split(";")){const s=i.indexOf("="),[o,a]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(o.trim()===e)return decodeURIComponent(a)}return null}let Ny=(()=>{class r{constructor(i,s,o,a){this._iterableDiffers=i,this._keyValueDiffers=s,this._ngEl=o,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&(ju(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${me(s.item)}`);this._toggleClass(s.item,!0)}),i.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!0)):Object.keys(i).forEach(s=>this._toggleClass(s,!!i[s])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!1)):Object.keys(i).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(i,s){(i=i.trim())&&i.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return r.\u0275fac=function(i){return new(i||r)(R(Ku),R(Zo),R(Nt),R(di))},r.\u0275dir=te({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class T4{constructor(e,i,s,o){this.$implicit=e,this.ngForOf=i,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bh=(()=>{class r{constructor(i,s,o){this._viewContainer=i,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=[];i.forEachOperation((o,a,l)=>{if(null==o.previousIndex){const d=this._viewContainer.createEmbeddedView(this._template,new T4(null,this._ngForOf,-1,-1),null===l?void 0:l),f=new iS(o,d);s.push(f)}else if(null==l)this._viewContainer.remove(null===a?void 0:a);else if(null!==a){const d=this._viewContainer.get(a);this._viewContainer.move(d,l);const f=new iS(o,d);s.push(f)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,a=this._viewContainer.length;o<a;o++){const l=this._viewContainer.get(o);l.context.index=o,l.context.count=a,l.context.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(i,s){i.context.$implicit=s.item}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(R(wr),R(hi),R(Ku))},r.\u0275dir=te({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class iS{constructor(e,i){this.record=e,this.view=i}}let yi=(()=>{class r{constructor(i,s){this._viewContainer=i,this._context=new x4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){sS("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){sS("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(R(wr),R(hi))},r.\u0275dir=te({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class x4{constructor(){this.$implicit=null,this.ngIf=null}}function sS(r,e){if(e&&!e.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${me(e)}'.`)}let uS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r}),r.\u0275inj=dn({providers:[{provide:vh,useClass:D4}]}),r})();let lS=(()=>{class r{}return r.\u0275prov=ee({token:r,providedIn:"root",factory:()=>new r8(j(Ot),window)}),r})();class r8{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function(r,e){const i=r.getElementById(e)||r.getElementsByName(e)[0];if(i)return i;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const a=o.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}o=s.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=e)}}scrollToElement(e){const i=e.getBoundingClientRect(),s=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(s-a[0],o-a[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=dS(this.window.history)||dS(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function dS(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class hS{}class Fy extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(r){uh||(uh=r)}(new Fy)}onAndCancel(e,i,s){return e.addEventListener(i,s,!1),()=>{e.removeEventListener(i,s,!1)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=(gc=gc||document.querySelector("base"),gc?gc.getAttribute("href"):null);return null==i?null:function(r){wh=wh||document.createElement("a"),wh.setAttribute("href",r);const e=wh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rS(document.cookie,e)}}let wh,gc=null;const fS=new ye("TRANSITION_ID"),c8=[{provide:ac,useFactory:function(r,e,i){return()=>{i.get(oa).donePromise.then(()=>{const s=zr(),o=e.querySelectorAll(`style[ng-transition="${r}"]`);for(let a=0;a<o.length;a++)s.remove(o[a])})}},deps:[fS,Ot,Ee],multi:!0}];class Vy{static init(){!function(r){iy=r}(new Vy)}addToWindow(e){Re.getAngularTestability=(s,o=!0)=>{const a=e.findTestabilityInTree(s,o);if(null==a)throw new Error("Could not find testability for element.");return a},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(s=>{const o=Re.getAllAngularTestabilities();let a=o.length,l=!1;const d=function(f){l=l||f,a--,0==a&&s(l)};o.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,i,s){if(null==i)return null;const o=e.getTestability(i);return null!=o?o:s?zr().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null}}let l8=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const mc=new ye("EventManagerPlugins");let Eh=(()=>{class r{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(o=>o.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,s,o){return this._findPluginFor(s).addEventListener(i,s,o)}addGlobalEventListener(i,s,o){return this._findPluginFor(s).addGlobalEventListener(i,s,o)}getZone(){return this._zone}_findPluginFor(i){const s=this._eventNameToPlugin.get(i);if(s)return s;const o=this._plugins;for(let a=0;a<o.length;a++){const l=o[a];if(l.supports(i))return this._eventNameToPlugin.set(i,l),l}throw new Error(`No event manager plugin found for event ${i}`)}}return r.\u0275fac=function(i){return new(i||r)(j(mc),j(ht))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();class Ly{constructor(e){this._doc=e}addGlobalEventListener(e,i,s){const o=zr().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${i}`);return this.addEventListener(o,i,s)}}let gS=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(i){const s=new Set;i.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),yc=(()=>{class r extends gS{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,s,o){i.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,o.push(s.appendChild(l))})}addHost(i){const s=[];this._addStylesToHost(this._stylesSet,i,s),this._hostNodes.set(i,s)}removeHost(i){const s=this._hostNodes.get(i);s&&s.forEach(mS),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(i,o,s)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(mS))}}return r.\u0275fac=function(i){return new(i||r)(j(Ot))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();function mS(r){zr().remove(r)}const jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},By=/%COMP%/g;function Dh(r,e,i){for(let s=0;s<e.length;s++){let o=e[s];Array.isArray(o)?Dh(r,o,i):(o=o.replace(By,r),i.push(o))}return i}function vS(r){return e=>{if("__ngUnwrap__"===e)return r;!1===r(e)&&(e.preventDefault(),e.returnValue=!1)}}let Uy=(()=>{class r{constructor(i,s,o){this.eventManager=i,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Hy(i)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;switch(s.encapsulation){case wt.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new I8(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(i),o}case 1:case wt.ShadowDom:return new T8(this.eventManager,this.sharedStylesHost,i,s);default:if(!this.rendererByCompId.has(s.id)){const o=Dh(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(i){return new(i||r)(j(Eh),j(yc),j(uc))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();class Hy{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,i){return i?document.createElementNS(jy[i]||i,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,i){e.appendChild(i)}insertBefore(e,i,s){e&&e.insertBefore(i,s)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return i||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,s,o){if(o){i=o+":"+i;const a=jy[o];a?e.setAttributeNS(a,i,s):e.setAttribute(i,s)}else e.setAttribute(i,s)}removeAttribute(e,i,s){if(s){const o=jy[s];o?e.removeAttributeNS(o,i):e.removeAttribute(`${s}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,s,o){o&(jn.DashCase|jn.Important)?e.style.setProperty(i,s,o&jn.Important?"important":""):e.style[i]=s}removeStyle(e,i,s){s&jn.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,s){e[i]=s}setValue(e,i){e.nodeValue=i}listen(e,i,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,i,vS(s)):this.eventManager.addEventListener(e,i,vS(s))}}class I8 extends Hy{constructor(e,i,s,o){super(e),this.component=s;const a=Dh(o+"-"+s.id,s.styles,[]);i.addStyles(a),this.contentAttr=function(r){return"_ngcontent-%COMP%".replace(By,r)}(o+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(By,r)}(o+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,i){const s=super.createElement(e,i);return super.setAttribute(s,this.contentAttr,""),s}}class T8 extends Hy{constructor(e,i,s,o){super(e),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Dh(o.id,o.styles,[]);for(let l=0;l<a.length;l++){const d=document.createElement("style");d.textContent=a[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,s){return super.insertBefore(this.nodeOrShadowRoot(e),i,s)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let S8=(()=>{class r extends Ly{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,o){return i.addEventListener(s,o,!1),()=>this.removeEventListener(i,s,o)}removeEventListener(i,s,o){return i.removeEventListener(s,o)}}return r.\u0275fac=function(i){return new(i||r)(j(Ot))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const CS=["alt","control","meta","shift"],O8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ES={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P8={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let F8=(()=>{class r extends Ly{constructor(i){super(i)}supports(i){return null!=r.parseEventName(i)}addEventListener(i,s,o){const a=r.parseEventName(s),l=r.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zr().onAndCancel(i,a.domEventName,l))}static parseEventName(i){const s=i.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const a=r._normalizeKey(s.pop());let l="";if(CS.forEach(f=>{const m=s.indexOf(f);m>-1&&(s.splice(m,1),l+=f+".")}),l+=a,0!=s.length||0===a.length)return null;const d={};return d.domEventName=o,d.fullKey=l,d}static getEventFullKey(i){let s="",o=function(r){let e=r.key;if(null==e){if(e=r.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===r.location&&ES.hasOwnProperty(e)&&(e=ES[e]))}return O8[e]||e}(i);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),CS.forEach(a=>{a!=o&&P8[a](i)&&(s+=a+".")}),s+=o,s}static eventCallback(i,s,o){return a=>{r.getEventFullKey(a)===i&&o.runGuarded(()=>s(a))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return r.\u0275fac=function(i){return new(i||r)(j(Ot))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const G8=f1(MH,"browser",[{provide:Qd,useValue:"browser"},{provide:n1,useValue:function(){Fy.makeCurrent(),Vy.init()},multi:!0},{provide:Ot,useFactory:function(){return function(r){jp=r}(document),document},deps:[]}]),q8=[[],{provide:Fu,useValue:"root"},{provide:Es,useFactory:function(){return new Es},deps:[]},{provide:mc,useClass:S8,multi:!0,deps:[Ot,ht,Qd]},{provide:mc,useClass:F8,multi:!0,deps:[Ot]},[],{provide:Uy,useClass:Uy,deps:[Eh,yc,uc]},{provide:jd,useExisting:Uy},{provide:gS,useExisting:yc},{provide:yc,useClass:yc,deps:[Ot]},{provide:ry,useClass:ry,deps:[ht]},{provide:Eh,useClass:Eh,deps:[mc,ht]},{provide:hS,useClass:l8,deps:[]},[]];let z8=(()=>{class r{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:r,providers:[{provide:uc,useValue:i.appId},{provide:fS,useExisting:uc},c8]}}}return r.\u0275fac=function(i){return new(i||r)(j(r,12))},r.\u0275mod=On({type:r}),r.\u0275inj=dn({providers:q8,imports:[uS,VH]}),r})();"undefined"!=typeof window&&window;let ox=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r}),r.\u0275inj=dn({}),r})(),Ex=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r}),r.\u0275inj=dn({imports:[[ox]]}),r})(),KG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r}),r.\u0275inj=dn({imports:[Ex]}),r})();function de(...r){let e=r[r.length-1];return Vl(e)?(r.pop(),wp(r,e)):Ip(r)}class Ar extends ni{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const i=super._subscribe(e);return i&&!i.closed&&e.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new co;return this._value}next(e){super.next(this._value=e)}}class QG extends Je{notifyNext(e,i,s,o,a){this.destination.next(i)}notifyError(e,i){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class JG extends Je{constructor(e,i,s){super(),this.parent=e,this.outerValue=i,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function YG(r,e,i,s,o=new JG(r,i,s)){if(!o.closed)return e instanceof Ue?e.subscribe(o):bp(e)(o)}const Dx={};class ZG{constructor(e){this.resultSelector=e}call(e,i){return i.subscribe(new eq(e,this.resultSelector))}}class eq extends QG{constructor(e,i){super(e),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Dx),this.observables.push(e)}_complete(){const e=this.observables,i=e.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let s=0;s<i;s++)this.add(YG(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,i,s){const o=this.values,l=this.toRespond?o[s]===Dx?--this.toRespond:this.toRespond:0;o[s]=i,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let i;try{i=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(i)}}const Ph=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();function g_(...r){return lu(1)(de(...r))}const ha=new Ue(r=>r.complete());function m_(r){return r?function(r){return new Ue(e=>r.schedule(()=>e.complete()))}(r):ha}function Ix(r){return new Ue(e=>{let i;try{i=r()}catch(o){return void e.error(o)}return(i?Ut(i):m_()).subscribe(e)})}function Qi(r,e){return"function"==typeof e?i=>i.pipe(Qi((s,o)=>Ut(r(s,o)).pipe(Me((a,l)=>e(s,a,o,l))))):i=>i.lift(new rq(r))}class rq{constructor(e){this.project=e}call(e,i){return i.subscribe(new iq(e,this.project))}}class iq extends Ep{constructor(e,i){super(e),this.project=i,this.index=0}_next(e){let i;const s=this.index++;try{i=this.project(e,s)}catch(o){return void this.destination.error(o)}this._innerSub(i)}_innerSub(e){const i=this.innerSubscription;i&&i.unsubscribe();const s=new Cp(this),o=this.destination;o.add(s),this.innerSubscription=Dp(e,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Tx=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();function y_(r){return e=>0===r?m_():e.lift(new sq(r))}class sq{constructor(e){if(this.total=e,this.total<0)throw new Tx}call(e,i){return i.subscribe(new oq(e,this.total))}}class oq extends Je{constructor(e,i){super(e),this.total=i,this.count=0}_next(e){const i=this.total,s=++this.count;s<=i&&(this.destination.next(e),s===i&&(this.destination.complete(),this.unsubscribe()))}}function Sx(r,e){let i=!1;return arguments.length>=2&&(i=!0),function(o){return o.lift(new uq(r,e,i))}}class uq{constructor(e,i,s=!1){this.accumulator=e,this.seed=i,this.hasSeed=s}call(e,i){return i.subscribe(new cq(e,this.accumulator,this.seed,this.hasSeed))}}class cq extends Je{constructor(e,i,s,o){super(e),this.accumulator=i,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const i=this.index++;let s;try{s=this.accumulator(this.seed,e,i)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function Os(r,e){return function(s){return s.lift(new lq(r,e))}}class lq{constructor(e,i){this.predicate=e,this.thisArg=i}call(e,i){return i.subscribe(new dq(e,this.predicate,this.thisArg))}}class dq extends Je{constructor(e,i,s){super(e),this.predicate=i,this.thisArg=s,this.count=0}_next(e){let i;try{i=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}i&&this.destination.next(e)}}function Ps(r){return function(i){const s=new hq(r),o=i.lift(s);return s.caught=o}}class hq{constructor(e){this.selector=e}call(e,i){return i.subscribe(new fq(e,this.selector,this.caught))}}class fq extends Ep{constructor(e,i,s){super(e),this.selector=i,this.caught=s}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const s=new Cp(this);this.add(s);const o=Dp(i,s);o!==s&&this.add(o)}}}function fa(r,e){return Ht(r,e,1)}function __(r){return function(i){return 0===r?m_():i.lift(new pq(r))}}class pq{constructor(e){if(this.total=e,this.total<0)throw new Tx}call(e,i){return i.subscribe(new gq(e,this.total))}}class gq extends Je{constructor(e,i){super(e),this.total=i,this.ring=new Array,this.count=0}_next(e){const i=this.ring,s=this.total,o=this.count++;i.length<s?i.push(e):i[o%s]=e}_complete(){const e=this.destination;let i=this.count;if(i>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let a=0;a<s;a++){const l=i++%s;e.next(o[l])}}e.complete()}}function xx(r=_q){return e=>e.lift(new mq(r))}class mq{constructor(e){this.errorFactory=e}call(e,i){return i.subscribe(new yq(e,this.errorFactory))}}class yq extends Je{constructor(e,i){super(e),this.errorFactory=i,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(i){e=i}this.destination.error(e)}}}function _q(){return new Ph}function Ax(r=null){return e=>e.lift(new vq(r))}class vq{constructor(e){this.defaultValue=e}call(e,i){return i.subscribe(new bq(e,this.defaultValue))}}class bq extends Je{constructor(e,i){super(e),this.defaultValue=i,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function pa(r,e){const i=arguments.length>=2;return s=>s.pipe(r?Os((o,a)=>r(o,a,s)):Fl,y_(1),i?Ax(e):xx(()=>new Ph))}function Ji(){}function Un(r,e,i){return function(o){return o.lift(new Cq(r,e,i))}}class Cq{constructor(e,i,s){this.nextOrObserver=e,this.error=i,this.complete=s}call(e,i){return i.subscribe(new Eq(e,this.nextOrObserver,this.error,this.complete))}}class Eq extends Je{constructor(e,i,s,o){super(e),this._tapNext=Ji,this._tapError=Ji,this._tapComplete=Ji,this._tapError=s||Ji,this._tapComplete=o||Ji,ti(i)?(this._context=this,this._tapNext=i):i&&(this._context=i,this._tapNext=i.next||Ji,this._tapError=i.error||Ji,this._tapComplete=i.complete||Ji)}_next(e){try{this._tapNext.call(this._context,e)}catch(i){return void this.destination.error(i)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(i){return void this.destination.error(i)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Iq{constructor(e){this.callback=e}call(e,i){return i.subscribe(new Tq(e,this.callback))}}class Tq extends Je{constructor(e,i){super(e),this.add(new Ze(i))}}class _i{constructor(e,i){this.id=e,this.url=i}}class v_ extends _i{constructor(e,i,s="imperative",o=null){super(e,i),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cc extends _i{constructor(e,i,s){super(e,i),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mx extends _i{constructor(e,i,s){super(e,i),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sq extends _i{constructor(e,i,s){super(e,i),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xq extends _i{constructor(e,i,s,o){super(e,i),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aq extends _i{constructor(e,i,s,o){super(e,i),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mq extends _i{constructor(e,i,s,o,a){super(e,i),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nq extends _i{constructor(e,i,s,o){super(e,i),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rq extends _i{constructor(e,i,s,o){super(e,i),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rx{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kq{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oq{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pq{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fq{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kx{constructor(e,i,s){this.routerEvent=e,this.position=i,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ve="primary";class Vq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function ga(r){return new Vq(r)}const Ox="ngNavigationCancelingError";function b_(r){const e=Error("NavigationCancelingError: "+r);return e[Ox]=!0,e}function jq(r,e,i){const s=i.path.split("/");if(s.length>r.length||"full"===i.pathMatch&&(e.hasChildren()||s.length<r.length))return null;const o={};for(let a=0;a<s.length;a++){const l=s[a],d=r[a];if(l.startsWith(":"))o[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:r.slice(0,s.length),posParams:o}}function Kr(r,e){const i=r?Object.keys(r):void 0,s=e?Object.keys(e):void 0;if(!i||!s||i.length!=s.length)return!1;let o;for(let a=0;a<i.length;a++)if(o=i[a],!Px(r[o],e[o]))return!1;return!0}function Px(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;const i=[...r].sort(),s=[...e].sort();return i.every((o,a)=>s[a]===o)}return r===e}function Fx(r){return Array.prototype.concat.apply([],r)}function Vx(r){return r.length>0?r[r.length-1]:null}function $t(r,e){for(const i in r)r.hasOwnProperty(i)&&e(r[i],i)}function Qr(r){return Md(r)?r:Uu(r)?Ut(Promise.resolve(r)):de(r)}const Hq={exact:function Bx(r,e,i){if(!Vs(r.segments,e.segments)||!Fh(r.segments,e.segments,i)||r.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!r.children[s]||!Bx(r.children[s],e.children[s],i))return!1;return!0},subset:Ux},Lx={exact:function(r,e){return Kr(r,e)},subset:function(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(i=>Px(r[i],e[i]))},ignored:()=>!0};function jx(r,e,i){return Hq[i.paths](r.root,e.root,i.matrixParams)&&Lx[i.queryParams](r.queryParams,e.queryParams)&&!("exact"===i.fragment&&r.fragment!==e.fragment)}function Ux(r,e,i){return Hx(r,e,e.segments,i)}function Hx(r,e,i,s){if(r.segments.length>i.length){const o=r.segments.slice(0,i.length);return!(!Vs(o,i)||e.hasChildren()||!Fh(o,i,s))}if(r.segments.length===i.length){if(!Vs(r.segments,i)||!Fh(r.segments,i,s))return!1;for(const o in e.children)if(!r.children[o]||!Ux(r.children[o],e.children[o],s))return!1;return!0}{const o=i.slice(0,r.segments.length),a=i.slice(r.segments.length);return!!(Vs(r.segments,o)&&Fh(r.segments,o,s)&&r.children[ve])&&Hx(r.children[ve],e,a,s)}}function Fh(r,e,i){return e.every((s,o)=>Lx[i](r[o].parameters,s.parameters))}class Fs{constructor(e,i,s){this.root=e,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return Wq.serialize(this)}}class we{constructor(e,i){this.segments=e,this.children=i,this.parent=null,$t(i,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vh(this)}}class Ec{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=ga(this.parameters)),this._parameterMap}toString(){return zx(this)}}function Vs(r,e){return r.length===e.length&&r.every((i,s)=>i.path===e[s].path)}class w_{}class $x{parse(e){const i=new n6(e);return new Fs(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){return`${`/${Dc(e.root,!0)}`}${function(r){const e=Object.keys(r).map(i=>{const s=r[i];return Array.isArray(s)?s.map(o=>`${Lh(i)}=${Lh(o)}`).join("&"):`${Lh(i)}=${Lh(s)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(r){return encodeURI(r)}(e.fragment)}`:""}`}}const Wq=new $x;function Vh(r){return r.segments.map(e=>zx(e)).join("/")}function Dc(r,e){if(!r.hasChildren())return Vh(r);if(e){const i=r.children[ve]?Dc(r.children[ve],!1):"",s=[];return $t(r.children,(o,a)=>{a!==ve&&s.push(`${a}:${Dc(o,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}{const i=function(r,e){let i=[];return $t(r.children,(s,o)=>{o===ve&&(i=i.concat(e(s,o)))}),$t(r.children,(s,o)=>{o!==ve&&(i=i.concat(e(s,o)))}),i}(r,(s,o)=>o===ve?[Dc(r.children[ve],!1)]:[`${o}:${Dc(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ve]?`${Vh(r)}/${i[0]}`:`${Vh(r)}/(${i.join("//")})`}}function Gx(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lh(r){return Gx(r).replace(/%3B/gi,";")}function C_(r){return Gx(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jh(r){return decodeURIComponent(r)}function qx(r){return jh(r.replace(/\+/g,"%20"))}function zx(r){return`${C_(r.path)}${function(r){return Object.keys(r).map(e=>`;${C_(e)}=${C_(r[e])}`).join("")}(r.parameters)}`}const Yq=/^[^\/()?;=#]+/;function Bh(r){const e=r.match(Yq);return e?e[0]:""}const Xq=/^[^=?&#]+/,e6=/^[^?&#]+/;class n6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(s[ve]=new we(e,i)),s}parseSegment(){const e=Bh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ec(jh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=Bh(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const o=Bh(this.remaining);o&&(s=o,this.capture(s))}e[jh(i)]=jh(s)}parseQueryParam(e){const i=function(r){const e=r.match(Xq);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const l=function(r){const e=r.match(e6);return e?e[0]:""}(this.remaining);l&&(s=l,this.capture(s))}const o=qx(i),a=qx(s);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(a)}else e[o]=a}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Bh(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let a;s.indexOf(":")>-1?(a=s.substr(0,s.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=ve);const l=this.parseChildren();i[a]=1===Object.keys(l).length?l[ve]:new we([],l),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Wx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=E_(e,this._root);return i?i.children.map(s=>s.value):[]}firstChild(e){const i=E_(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=D_(e,this._root);return i.length<2?[]:i[i.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return D_(e,this._root).map(i=>i.value)}}function E_(r,e){if(r===e.value)return e;for(const i of e.children){const s=E_(r,i);if(s)return s}return null}function D_(r,e){if(r===e.value)return[e];for(const i of e.children){const s=D_(r,i);if(s.length)return s.unshift(e),s}return[]}class vi{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function Ic(r){const e={};return r&&r.children.forEach(i=>e[i.value.outlet]=i),e}class Kx extends Wx{constructor(e,i){super(e),this.snapshot=i,I_(this,e)}toString(){return this.snapshot.toString()}}function Qx(r,e){const i=function(r,e){const l=new Uh([],{},{},"",{},ve,e,null,r.root,-1,{});return new Yx("",new vi(l,[]))}(r,e),s=new Ar([new Ec("",{})]),o=new Ar({}),a=new Ar({}),l=new Ar({}),d=new Ar(""),f=new ma(s,o,l,d,a,ve,e,i.root);return f.snapshot=i.root,new Kx(new vi(f,[]),i)}class ma{constructor(e,i,s,o,a,l,d,f){this.url=e,this.params=i,this.queryParams=s,this.fragment=o,this.data=a,this.outlet=l,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Me(e=>ga(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Me(e=>ga(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jx(r,e="emptyOnly"){const i=r.pathFromRoot;let s=0;if("always"!==e)for(s=i.length-1;s>=1;){const o=i[s],a=i[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(a.component)break;s--}}return function(r){return r.reduce((e,i)=>({params:Object.assign(Object.assign({},e.params),i.params),data:Object.assign(Object.assign({},e.data),i.data),resolve:Object.assign(Object.assign({},e.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(s))}class Uh{constructor(e,i,s,o,a,l,d,f,m,_,v){this.url=e,this.params=i,this.queryParams=s,this.fragment=o,this.data=a,this.outlet=l,this.component=d,this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=_,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yx extends Wx{constructor(e,i){super(i),this.url=e,I_(this,i)}toString(){return Xx(this._root)}}function I_(r,e){e.value._routerState=r,e.children.forEach(i=>I_(r,i))}function Xx(r){const e=r.children.length>0?` { ${r.children.map(Xx).join(", ")} } `:"";return`${r.value}${e}`}function T_(r){if(r.snapshot){const e=r.snapshot,i=r._futureSnapshot;r.snapshot=i,Kr(e.queryParams,i.queryParams)||r.queryParams.next(i.queryParams),e.fragment!==i.fragment&&r.fragment.next(i.fragment),Kr(e.params,i.params)||r.params.next(i.params),function(r,e){if(r.length!==e.length)return!1;for(let i=0;i<r.length;++i)if(!Kr(r[i],e[i]))return!1;return!0}(e.url,i.url)||r.url.next(i.url),Kr(e.data,i.data)||r.data.next(i.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function S_(r,e){return Kr(r.params,e.params)&&function(r,e){return Vs(r,e)&&r.every((i,s)=>Kr(i.parameters,e[s].parameters))}(r.url,e.url)&&!(!r.parent!=!e.parent)&&(!r.parent||S_(r.parent,e.parent))}function Hh(r,e,i){if(i&&r.shouldReuseRoute(e.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=e.value;const o=function(r,e,i){return e.children.map(s=>{for(const o of i.children)if(r.shouldReuseRoute(s.value,o.value.snapshot))return Hh(r,s,o);return Hh(r,s)})}(r,e,i);return new vi(s,o)}{if(r.shouldAttach(e.value)){const a=r.retrieve(e.value);if(null!==a){const l=a.route;return Zx(e,l),l}}const s=function(r){return new ma(new Ar(r.url),new Ar(r.params),new Ar(r.queryParams),new Ar(r.fragment),new Ar(r.data),r.outlet,r.component,r)}(e.value),o=e.children.map(a=>Hh(r,a));return new vi(s,o)}}function Zx(r,e){if(r.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=r.value;for(let i=0;i<r.children.length;++i)Zx(r.children[i],e.children[i])}function $h(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Tc(r){return"object"==typeof r&&null!=r&&r.outlets}function x_(r,e,i,s,o){let a={};return s&&$t(s,(l,d)=>{a[d]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),new Fs(i.root===r?e:eA(i.root,r,e),a,o)}function eA(r,e,i){const s={};return $t(r.children,(o,a)=>{s[a]=o===e?i:eA(o,e,i)}),new we(r.segments,s)}class tA{constructor(e,i,s){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=s,e&&s.length>0&&$h(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(Tc);if(o&&o!==Vx(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class A_{constructor(e,i,s){this.segmentGroup=e,this.processChildren=i,this.index=s}}function nA(r,e,i){if(r||(r=new we([],{})),0===r.segments.length&&r.hasChildren())return Gh(r,e,i);const s=function(r,e,i){let s=0,o=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<r.segments.length;){if(s>=i.length)return a;const l=r.segments[o],d=i[s];if(Tc(d))break;const f=`${d}`,m=s<i.length-1?i[s+1]:null;if(o>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!iA(f,m,l))return a;s+=2}else{if(!iA(f,{},l))return a;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(r,e,i),o=i.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const a=new we(r.segments.slice(0,s.pathIndex),{});return a.children[ve]=new we(r.segments.slice(s.pathIndex),r.children),Gh(a,0,o)}return s.match&&0===o.length?new we(r.segments,{}):s.match&&!r.hasChildren()?M_(r,e,i):s.match?Gh(r,0,o):M_(r,e,i)}function Gh(r,e,i){if(0===i.length)return new we(r.segments,{});{const s=function(r){return Tc(r[0])?r[0].outlets:{[ve]:r}}(i),o={};return $t(s,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[l]=nA(r.children[l],e,a))}),$t(r.children,(a,l)=>{void 0===s[l]&&(o[l]=a)}),new we(r.segments,o)}}function M_(r,e,i){const s=r.segments.slice(0,e);let o=0;for(;o<i.length;){const a=i[o];if(Tc(a)){const f=p6(a.outlets);return new we(s,f)}if(0===o&&$h(i[0])){s.push(new Ec(r.segments[e].path,rA(i[0]))),o++;continue}const l=Tc(a)?a.outlets[ve]:`${a}`,d=o<i.length-1?i[o+1]:null;l&&d&&$h(d)?(s.push(new Ec(l,rA(d))),o+=2):(s.push(new Ec(l,{})),o++)}return new we(s,{})}function p6(r){const e={};return $t(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(e[s]=M_(new we([],{}),0,i))}),e}function rA(r){const e={};return $t(r,(i,s)=>e[s]=`${i}`),e}function iA(r,e,i){return r==i.path&&Kr(e,i.parameters)}class m6{constructor(e,i,s,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=s,this.forwardEvent=o}activate(e){const i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,e),T_(this.futureState.root),this.activateChildRoutes(i,s,e)}deactivateChildRoutes(e,i,s){const o=Ic(i);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,o[l],s),delete o[l]}),$t(o,(a,l)=>{this.deactivateRouteAndItsChildren(a,s)})}deactivateRoutes(e,i,s){const o=e.value,a=i?i.value:null;if(o===a)if(o.component){const l=s.getContext(o.outlet);l&&this.deactivateChildRoutes(e,i,l.children)}else this.deactivateChildRoutes(e,i,s);else a&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(e,i){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const s=i.getContext(e.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),a=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){const s=i.getContext(e.value.outlet),o=s&&e.value.component?s.children:i,a=Ic(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,i,s){const o=Ic(i);e.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],s),this.forwardEvent(new Fq(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Oq(e.value.snapshot))}activateRoutes(e,i,s){const o=e.value,a=i?i.value:null;if(T_(o),o===a)if(o.component){const l=s.getOrCreateContext(o.outlet);this.activateChildRoutes(e,i,l.children)}else this.activateChildRoutes(e,i,s);else if(o.component){const l=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const d=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),sA(d.route)}else{const d=function(r){for(let e=r.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(o.snapshot),f=d?d.module.componentFactoryResolver:null;l.attachRef=null,l.route=o,l.resolver=f,l.outlet&&l.outlet.activateWith(o,f),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,s)}}function sA(r){T_(r.value),r.children.forEach(sA)}class N_{constructor(e,i){this.routes=e,this.module=i}}function Yi(r){return"function"==typeof r}function Ls(r){return r instanceof Fs}const Sc=Symbol("INITIAL_VALUE");function xc(){return Qi(r=>function(...r){let e,i;return Vl(r[r.length-1])&&(i=r.pop()),"function"==typeof r[r.length-1]&&(e=r.pop()),1===r.length&&kl(r[0])&&(r=r[0]),Ip(r,i).lift(new ZG(e))}(r.map(e=>e.pipe(y_(1),function(...r){const e=r[r.length-1];return Vl(e)?(r.pop(),i=>g_(r,i,e)):i=>g_(r,i)}(Sc)))).pipe(Sx((e,i)=>{let s=!1;return i.reduce((o,a,l)=>o!==Sc?o:(a===Sc&&(s=!0),s||!1!==a&&l!==i.length-1&&!Ls(a)?o:a),e)},Sc),Os(e=>e!==Sc),Me(e=>Ls(e)?e:!0===e),y_(1)))}let oA=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Dn({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,s){1&i&&I(0,"router-outlet")},directives:function(){return[L_]},encapsulation:2}),r})();function aA(r,e=""){for(let i=0;i<r.length;i++){const s=r[i];E6(s,D6(e,s))}}function E6(r,e){r.children&&aA(r.children,e)}function D6(r,e){return e?r||e.path?r&&!e.path?`${r}/`:!r&&e.path?e.path:`${r}/${e.path}`:"":r}function R_(r){const e=r.children&&r.children.map(R_),i=e?Object.assign(Object.assign({},r),{children:e}):Object.assign({},r);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ve&&(i.component=oA),i}function sr(r){return r.outlet||ve}function uA(r,e){const i=r.filter(s=>sr(s)===e);return i.push(...r.filter(s=>sr(s)!==e)),i}const cA={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qh(r,e,i){var s;if(""===e.path)return"full"===e.pathMatch&&(r.hasChildren()||i.length>0)?Object.assign({},cA):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||jq)(i,r,e);if(!a)return Object.assign({},cA);const l={};$t(a.posParams,(f,m)=>{l[m]=f.path});const d=a.consumed.length>0?Object.assign(Object.assign({},l),a.consumed[a.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:d,positionalParamSegments:null!==(s=a.posParams)&&void 0!==s?s:{}}}function zh(r,e,i,s,o="corrected"){if(i.length>0&&function(r,e,i){return i.some(s=>Wh(r,e,s)&&sr(s)!==ve)}(r,i,s)){const l=new we(e,function(r,e,i,s){const o={};o[ve]=s,s._sourceSegment=r,s._segmentIndexShift=e.length;for(const a of i)if(""===a.path&&sr(a)!==ve){const l=new we([],{});l._sourceSegment=r,l._segmentIndexShift=e.length,o[sr(a)]=l}return o}(r,e,s,new we(i,r.children)));return l._sourceSegment=r,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===i.length&&function(r,e,i){return i.some(s=>Wh(r,e,s))}(r,i,s)){const l=new we(r.segments,function(r,e,i,s,o,a){const l={};for(const d of s)if(Wh(r,i,d)&&!o[sr(d)]){const f=new we([],{});f._sourceSegment=r,f._segmentIndexShift="legacy"===a?r.segments.length:e.length,l[sr(d)]=f}return Object.assign(Object.assign({},o),l)}(r,e,i,s,r.children,o));return l._sourceSegment=r,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:i}}const a=new we(r.segments,r.children);return a._sourceSegment=r,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:i}}function Wh(r,e,i){return(!(r.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function lA(r,e,i,s){return!!(sr(r)===s||s!==ve&&Wh(e,i,r))&&("**"===r.path||qh(e,r,i).matched)}function dA(r,e,i){return 0===e.length&&!r.children[i]}class Ac{constructor(e){this.segmentGroup=e||null}}class hA{constructor(e){this.urlTree=e}}function Kh(r){return new Ue(e=>e.error(new Ac(r)))}function fA(r){return new Ue(e=>e.error(new hA(r)))}function A6(r){return new Ue(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class R6{constructor(e,i,s,o,a){this.configLoader=i,this.urlSerializer=s,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(qr)}apply(){const e=zh(this.urlTree.root,[],[],this.config).segmentGroup,i=new we(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ve).pipe(Me(a=>this.createUrlTree(k_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ps(a=>{if(a instanceof hA)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ac?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ve).pipe(Me(o=>this.createUrlTree(k_(o),e.queryParams,e.fragment))).pipe(Ps(o=>{throw o instanceof Ac?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,i,s){const o=e.segments.length>0?new we([],{[ve]:e}):e;return new Fs(o,i,s)}expandSegmentGroup(e,i,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,i,s).pipe(Me(a=>new we([],a))):this.expandSegment(e,s,i,s.segments,o,!0)}expandChildren(e,i,s){const o=[];for(const a of Object.keys(s.children))"primary"===a?o.unshift(a):o.push(a);return Ut(o).pipe(fa(a=>{const l=s.children[a],d=uA(i,a);return this.expandSegmentGroup(e,d,l,a).pipe(Me(f=>({segment:f,outlet:a})))}),Sx((a,l)=>(a[l.outlet]=l.segment,a),{}),function(r,e){const i=arguments.length>=2;return s=>s.pipe(r?Os((o,a)=>r(o,a,s)):Fl,__(1),i?Ax(e):xx(()=>new Ph))}())}expandSegment(e,i,s,o,a,l){return Ut(s).pipe(fa(d=>this.expandSegmentAgainstRoute(e,i,s,d,o,a,l).pipe(Ps(m=>{if(m instanceof Ac)return de(null);throw m}))),pa(d=>!!d),Ps((d,f)=>{if(d instanceof Ph||"EmptyError"===d.name){if(dA(i,o,a))return de(new we([],{}));throw new Ac(i)}throw d}))}expandSegmentAgainstRoute(e,i,s,o,a,l,d){return lA(o,i,a,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,i,o,a,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,s,o,a,l):Kh(i):Kh(i)}expandSegmentAgainstRouteUsingRedirect(e,i,s,o,a,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,s,o,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,o){const a=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?fA(a):this.lineralizeSegments(s,a).pipe(Ht(l=>{const d=new we(l,{});return this.expandSegment(e,d,i,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,s,o,a,l){const{matched:d,consumedSegments:f,lastChild:m,positionalParamSegments:_}=qh(i,o,a);if(!d)return Kh(i);const v=this.applyRedirectCommands(f,o.redirectTo,_);return o.redirectTo.startsWith("/")?fA(v):this.lineralizeSegments(o,v).pipe(Ht(b=>this.expandSegment(e,i,s,b.concat(a.slice(m)),l,!1)))}matchSegmentAgainstRoute(e,i,s,o,a){if("**"===s.path)return s.loadChildren?(s._loadedConfig?de(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe(Me(b=>(s._loadedConfig=b,new we(o,{})))):de(new we(o,{}));const{matched:l,consumedSegments:d,lastChild:f}=qh(i,s,o);if(!l)return Kh(i);const m=o.slice(f);return this.getChildConfig(e,s,o).pipe(Ht(v=>{const b=v.module,w=v.routes,{segmentGroup:C,slicedSegments:D}=zh(i,d,m,w),E=new we(C.segments,C.children);if(0===D.length&&E.hasChildren())return this.expandChildren(b,w,E).pipe(Me(W=>new we(d,W)));if(0===w.length&&0===D.length)return de(new we(d,{}));const S=sr(s)===a;return this.expandSegment(b,E,w,D,S?ve:a,!0).pipe(Me(B=>new we(d.concat(B.segments),B.children)))}))}getChildConfig(e,i,s){return i.children?de(new N_(i.children,e)):i.loadChildren?void 0!==i._loadedConfig?de(i._loadedConfig):this.runCanLoadGuards(e.injector,i,s).pipe(Ht(o=>o?this.configLoader.load(e.injector,i).pipe(Me(a=>(i._loadedConfig=a,a))):function(r){return new Ue(e=>e.error(b_(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`)))}(i))):de(new N_([],e))}runCanLoadGuards(e,i,s){const o=i.canLoad;return o&&0!==o.length?de(o.map(l=>{const d=e.get(l);let f;if(function(r){return r&&Yi(r.canLoad)}(d))f=d.canLoad(i,s);else{if(!Yi(d))throw new Error("Invalid CanLoad guard");f=d(i,s)}return Qr(f)})).pipe(xc(),Un(l=>{if(!Ls(l))return;const d=b_(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw d.url=l,d}),Me(l=>!0===l)):de(!0)}lineralizeSegments(e,i){let s=[],o=i.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return de(s);if(o.numberOfChildren>1||!o.children[ve])return A6(e.redirectTo);o=o.children[ve]}}applyRedirectCommands(e,i,s){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),e,s)}applyRedirectCreatreUrlTree(e,i,s,o){const a=this.createSegmentGroup(e,i.root,s,o);return new Fs(a,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const s={};return $t(e,(o,a)=>{if("string"==typeof o&&o.startsWith(":")){const d=o.substring(1);s[a]=i[d]}else s[a]=o}),s}createSegmentGroup(e,i,s,o){const a=this.createSegments(e,i.segments,s,o);let l={};return $t(i.children,(d,f)=>{l[f]=this.createSegmentGroup(e,d,s,o)}),new we(a,l)}createSegments(e,i,s,o){return i.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,o):this.findOrReturn(a,s))}findPosParam(e,i,s){const o=s[i.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${i.path}'.`);return o}findOrReturn(e,i){let s=0;for(const o of i){if(o.path===e.path)return i.splice(s),o;s++}return e}}function k_(r){const e={};for(const s of Object.keys(r.children)){const a=k_(r.children[s]);(a.segments.length>0||a.hasChildren())&&(e[s]=a)}return function(r){if(1===r.numberOfChildren&&r.children[ve]){const e=r.children[ve];return new we(r.segments.concat(e.segments),e.children)}return r}(new we(r.segments,e))}class pA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qh{constructor(e,i){this.component=e,this.route=i}}function P6(r,e,i){const s=r._root;return Mc(s,e?e._root:null,i,[s.value])}function Jh(r,e,i){const s=function(r){if(!r)return null;for(let e=r.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(e);return(s?s.module.injector:i).get(r)}function Mc(r,e,i,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ic(e);return r.children.forEach(l=>{(function(r,e,i,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=r.value,l=e?e.value:null,d=i?i.getContext(r.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const f=function(r,e,i){if("function"==typeof i)return i(r,e);switch(i){case"pathParamsChange":return!Vs(r.url,e.url);case"pathParamsOrQueryParamsChange":return!Vs(r.url,e.url)||!Kr(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S_(r,e)||!Kr(r.queryParams,e.queryParams);case"paramsChange":default:return!S_(r,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);f?o.canActivateChecks.push(new pA(s)):(a.data=l.data,a._resolvedData=l._resolvedData),Mc(r,e,a.component?d?d.children:null:i,s,o),f&&d&&d.outlet&&d.outlet.isActivated&&o.canDeactivateChecks.push(new Qh(d.outlet.component,l))}else l&&Nc(e,d,o),o.canActivateChecks.push(new pA(s)),Mc(r,null,a.component?d?d.children:null:i,s,o)})(l,a[l.value.outlet],i,s.concat([l.value]),o),delete a[l.value.outlet]}),$t(a,(l,d)=>Nc(l,i.getContext(d),o)),o}function Nc(r,e,i){const s=Ic(r),o=r.value;$t(s,(a,l)=>{Nc(a,o.component?e?e.children.getContext(l):null:e,i)}),i.canDeactivateChecks.push(new Qh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class K6{}function gA(r){return new Ue(e=>e.error(r))}class J6{constructor(e,i,s,o,a,l){this.rootComponentType=e,this.config=i,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=l}recognize(){const e=zh(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,e,ve);if(null===i)return null;const s=new Uh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ve,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new vi(s,i),a=new Yx(this.url,o);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const i=e.value,s=Jx(i,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,i):this.processSegment(e,i,i.segments,s)}processChildren(e,i){const s=[];for(const a of Object.keys(i.children)){const l=i.children[a],d=uA(e,a),f=this.processSegmentGroup(d,l,a);if(null===f)return null;s.push(...f)}const o=mA(s);return function(r){r.sort((e,i)=>e.value.outlet===ve?-1:i.value.outlet===ve?1:e.value.outlet.localeCompare(i.value.outlet))}(o),o}processSegment(e,i,s,o){for(const a of e){const l=this.processSegmentAgainstRoute(a,i,s,o);if(null!==l)return l}return dA(i,s,o)?[]:null}processSegmentAgainstRoute(e,i,s,o){if(e.redirectTo||!lA(e,i,s,o))return null;let a,l=[],d=[];if("**"===e.path){const w=s.length>0?Vx(s).parameters:{};a=new Uh(s,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vA(e),sr(e),e.component,e,yA(i),_A(i)+s.length,bA(e))}else{const w=qh(i,e,s);if(!w.matched)return null;l=w.consumedSegments,d=s.slice(w.lastChild),a=new Uh(l,w.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vA(e),sr(e),e.component,e,yA(i),_A(i)+l.length,bA(e))}const f=function(r){return r.children?r.children:r.loadChildren?r._loadedConfig.routes:[]}(e),{segmentGroup:m,slicedSegments:_}=zh(i,l,d,f.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution);if(0===_.length&&m.hasChildren()){const w=this.processChildren(f,m);return null===w?null:[new vi(a,w)]}if(0===f.length&&0===_.length)return[new vi(a,[])];const v=sr(e)===o,b=this.processSegment(f,m,_,v?ve:o);return null===b?null:[new vi(a,b)]}}function Z6(r){const e=r.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mA(r){const e=[],i=new Set;for(const s of r){if(!Z6(s)){e.push(s);continue}const o=e.find(a=>s.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...s.children),i.add(o)):e.push(s)}for(const s of i){const o=mA(s.children);e.push(new vi(s.value,o))}return e.filter(s=>!i.has(s))}function yA(r){let e=r;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _A(r){let e=r,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function vA(r){return r.data||{}}function bA(r){return r.resolve||{}}function O_(r){return Qi(e=>{const i=r(e);return i?Ut(i).pipe(Me(()=>e)):de(e)})}class a5 extends class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}{}const P_=new ye("ROUTES");class wA{constructor(e,i,s,o){this.loader=e,this.compiler=i,this.onLoadStartListener=s,this.onLoadEndListener=o}load(e,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactory(i.loadChildren).pipe(Me(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);const l=a.create(e);return new N_(Fx(l.injector.get(P_,void 0,X.Self|X.Optional)).map(R_),l)}),Ps(a=>{throw i._loader$=void 0,a}));return i._loader$=new lC(o,()=>new ni).pipe(Tp()),i._loader$}loadModuleFactory(e){return"string"==typeof e?Ut(this.loader.load(e)):Qr(e()).pipe(Ht(i=>i instanceof eT?de(i):Ut(this.compiler.compileModuleAsync(i))))}}class u5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ya,this.attachRef=null}}class ya{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new u5,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}class l5{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}function d5(r){throw r}function h5(r,e,i){return e.parse("/")}function CA(r,e){return de(null)}const f5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},p5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let We=(()=>{class r{constructor(i,s,o,a,l,d,f,m){this.rootComponentType=i,this.urlSerializer=s,this.rootContexts=o,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ni,this.errorHandler=d5,this.malformedUriErrorHandler=h5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:CA,afterPreactivation:CA},this.urlHandlingStrategy=new l5,this.routeReuseStrategy=new a5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(qr),this.console=l.get(Jd);const b=l.get(ht);this.isNgZoneEnabled=b instanceof ht&&ht.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=new Fs(new we([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wA(d,f,w=>this.triggerEvent(new Nx(w)),w=>this.triggerEvent(new Rx(w))),this.routerState=Qx(this.currentUrlTree,this.rootComponentType),this.transitions=new Ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const s=this.events;return i.pipe(Os(o=>0!==o.id),Me(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qi(o=>{let a=!1,l=!1;return de(o).pipe(Un(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qi(d=>{const f=!this.navigated||d.extractedUrl.toString()!==this.browserUrlTree.toString(),m=("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl);if(Yh(d.source)&&(this.browserUrlTree=d.rawUrl),m)return de(d).pipe(Qi(_=>{const v=this.transitions.getValue();return s.next(new v_(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),v!==this.transitions.getValue()?ha:Promise.resolve(_)}),function(r,e,i,s){return Qi(o=>function(r,e,i,s,o){return new R6(r,e,i,s,o).apply()}(r,e,i,o.extractedUrl,s).pipe(Me(a=>Object.assign(Object.assign({},o),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Un(_=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_.urlAfterRedirects})}),function(r,e,i,s,o){return Ht(a=>function(r,e,i,s,o="emptyOnly",a="legacy"){try{const l=new J6(r,e,i,s,o,a).recognize();return null===l?gA(new K6):de(l)}catch(l){return gA(l)}}(r,e,a.urlAfterRedirects,i(a.urlAfterRedirects),s,o).pipe(Me(l=>Object.assign(Object.assign({},a),{targetSnapshot:l}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),Un(_=>{"eager"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(_.urlAfterRedirects,_),this.browserUrlTree=_.urlAfterRedirects);const v=new xq(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);s.next(v)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:v,extractedUrl:b,source:w,restoredState:C,extras:D}=d,E=new v_(v,this.serializeUrl(b),w,C);s.next(E);const S=Qx(b,this.rootComponentType).snapshot;return de(Object.assign(Object.assign({},d),{targetSnapshot:S,urlAfterRedirects:b,extras:Object.assign(Object.assign({},D),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,this.browserUrlTree=d.urlAfterRedirects,d.resolve(null),ha}),O_(d=>{const{targetSnapshot:f,id:m,extractedUrl:_,rawUrl:v,extras:{skipLocationChange:b,replaceUrl:w}}=d;return this.hooks.beforePreactivation(f,{navigationId:m,appliedUrlTree:_,rawUrlTree:v,skipLocationChange:!!b,replaceUrl:!!w})}),Un(d=>{const f=new Aq(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),Me(d=>Object.assign(Object.assign({},d),{guards:P6(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function(r,e){return Ht(i=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:l}}=i;return 0===l.length&&0===a.length?de(Object.assign(Object.assign({},i),{guardsResult:!0})):function(r,e,i,s){return Ut(r).pipe(Ht(o=>function(r,e,i,s,o){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?de(a.map(d=>{const f=Jh(d,e,o);let m;if(function(r){return r&&Yi(r.canDeactivate)}(f))m=Qr(f.canDeactivate(r,e,i,s));else{if(!Yi(f))throw new Error("Invalid CanDeactivate guard");m=Qr(f(r,e,i,s))}return m.pipe(pa())})).pipe(xc()):de(!0)}(o.component,o.route,i,e,s)),pa(o=>!0!==o,!0))}(l,s,o,r).pipe(Ht(d=>d&&function(r){return"boolean"==typeof r}(d)?function(r,e,i,s){return Ut(e).pipe(fa(o=>g_(function(r,e){return null!==r&&e&&e(new kq(r)),de(!0)}(o.route.parent,s),function(r,e){return null!==r&&e&&e(new Pq(r)),de(!0)}(o.route,s),function(r,e,i){const s=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function(r){const e=r.routeConfig?r.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:r,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Ix(()=>de(l.guards.map(f=>{const m=Jh(f,l.node,i);let _;if(function(r){return r&&Yi(r.canActivateChild)}(m))_=Qr(m.canActivateChild(s,r));else{if(!Yi(m))throw new Error("Invalid CanActivateChild guard");_=Qr(m(s,r))}return _.pipe(pa())})).pipe(xc())));return de(a).pipe(xc())}(r,o.path,i),function(r,e,i){const s=e.routeConfig?e.routeConfig.canActivate:null;return s&&0!==s.length?de(s.map(a=>Ix(()=>{const l=Jh(a,e,i);let d;if(function(r){return r&&Yi(r.canActivate)}(l))d=Qr(l.canActivate(e,r));else{if(!Yi(l))throw new Error("Invalid CanActivate guard");d=Qr(l(e,r))}return d.pipe(pa())}))).pipe(xc()):de(!0)}(r,o.route,i))),pa(o=>!0!==o,!0))}(s,a,r,e):de(d)),Me(d=>Object.assign(Object.assign({},i),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),Un(d=>{if(Ls(d.guardsResult)){const m=b_(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw m.url=d.guardsResult,m}const f=new Mq(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),Os(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),O_(d=>{if(d.guards.canActivateChecks.length)return de(d).pipe(Un(f=>{const m=new Nq(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),Qi(f=>{let m=!1;return de(f).pipe(function(r,e){return Ht(i=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=i;if(!o.length)return de(i);let a=0;return Ut(o).pipe(fa(l=>function(r,e,i,s){return function(r,e,i,s){const o=Object.keys(r);if(0===o.length)return de({});const a={};return Ut(o).pipe(Ht(l=>function(r,e,i,s){const o=Jh(r,e,s);return Qr(o.resolve?o.resolve(e,i):o(e,i))}(r[l],e,i,s).pipe(Un(d=>{a[l]=d}))),__(1),Ht(()=>Object.keys(a).length===o.length?de(a):ha))}(r._resolve,r,e,s).pipe(Me(a=>(r._resolvedData=a,r.data=Object.assign(Object.assign({},r.data),Jx(r,i).resolve),null)))}(l.route,s,r,e)),Un(()=>a++),__(1),Ht(l=>a===o.length?de(i):ha))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Un({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),Un(f=>{const m=new Rq(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}))}),O_(d=>{const{targetSnapshot:f,id:m,extractedUrl:_,rawUrl:v,extras:{skipLocationChange:b,replaceUrl:w}}=d;return this.hooks.afterPreactivation(f,{navigationId:m,appliedUrlTree:_,rawUrlTree:v,skipLocationChange:!!b,replaceUrl:!!w})}),Me(d=>{const f=function(r,e,i){const s=Hh(r,e._root,i?i._root:void 0);return new Kx(s,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:f})}),Un(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((r,e,i)=>Me(s=>(new m6(e,s.targetRouterState,s.currentRouterState,i).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),Un({next(){a=!0},complete(){a=!0}}),function(r){return e=>e.lift(new Iq(r))}(()=>{if(!a&&!l){const d=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,d)):this.cancelNavigationTransition(o,d)}this.currentNavigation=null}),Ps(d=>{if(l=!0,function(r){return r&&r[Ox]}(d)){const f=Ls(d.url);f||(this.navigated=!0,this.restoreHistory(o,!0));const m=new Mx(o.id,this.serializeUrl(o.extractedUrl),d.message);s.next(m),f?setTimeout(()=>{const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),v={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yh(o.source)};this.scheduleNavigation(_,"imperative",null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const f=new Sq(o.id,this.serializeUrl(o.extractedUrl),d);s.next(f);try{o.resolve(this.errorHandler(d))}catch(m){o.reject(m)}}return ha}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const s=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:a,urlTree:l}=s,d={replaceUrl:!0};if(a){const f=Object.assign({},a);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(d.state=f)}this.scheduleNavigation(l,o,a,d)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(i){var s;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(s=i.state)||void 0===s?void 0:s.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,s){if(!i)return!0;const o=s.urlTree.toString()===i.urlTree.toString();return s.transitionId!==i.transitionId||!o||!("hashchange"===s.source&&"popstate"===i.source||"popstate"===s.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){aA(i),this.config=i.map(R_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,s={}){const{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:f}=s,m=o||this.routerState.root,_=f?this.currentUrlTree.fragment:l;let v=null;switch(d){case"merge":v=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}return null!==v&&(v=this.removeEmptyProps(v)),function(r,e,i,s,o){if(0===i.length)return x_(e.root,e.root,e,s,o);const a=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new tA(!0,0,r);let e=0,i=!1;const s=r.reduce((o,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const d={};return $t(a.outlets,(f,m)=>{d[m]="string"==typeof f?f.split("/"):f}),[...o,{outlets:d}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===l?(a.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?i=!0:".."===d?e++:""!=d&&o.push(d))}),o):[...o,a]},[]);return new tA(i,e,s)}(i);if(a.toRoot())return x_(e.root,new we([],{}),e,s,o);const l=function(r,e,i){if(r.isAbsolute)return new A_(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){const a=i.snapshot._urlSegment;return new A_(a,a===e.root,0)}const s=$h(r.commands[0])?0:1;return function(r,e,i){let s=r,o=e,a=i;for(;a>o;){if(a-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new A_(s,!1,o-a)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(a,e,r),d=l.processChildren?Gh(l.segmentGroup,l.index,a.commands):nA(l.segmentGroup,l.index,a.commands);return x_(l.segmentGroup,d,e,s,o)}(m,this.currentUrlTree,i,v,null!=_?_:null)}navigateByUrl(i,s={skipLocationChange:!1}){const o=Ls(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,s)}navigate(i,s={skipLocationChange:!1}){return function(r){for(let e=0;e<r.length;e++){const i=r[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let s;try{s=this.urlSerializer.parse(i)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,i)}return s}isActive(i,s){let o;if(o=!0===s?Object.assign({},f5):!1===s?Object.assign({},p5):s,Ls(i))return jx(this.currentUrlTree,i,o);const a=this.parseUrl(i);return jx(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.keys(i).reduce((s,o)=>{const a=i[o];return null!=a&&(s[o]=a),s},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new Cc(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,s,o,a,l){var d,f;if(this.disposed)return Promise.resolve(!1);const m=this.getTransition(),_=Yh(s)&&m&&!Yh(m.source),w=(this.lastSuccessfulId===m.id||this.currentNavigation?m.rawUrl:m.urlAfterRedirects).toString()===i.toString();if(_&&w)return Promise.resolve(!0);let C,D,E;l?(C=l.resolve,D=l.reject,E=l.promise):E=new Promise((B,W)=>{C=B,D=W});const S=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),T=o&&o.\u0275routerPageId?o.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):T=0,this.setTransition({id:S,targetPageId:T,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:a,resolve:C,reject:D,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(B=>Promise.reject(B))}setBrowserUrl(i,s){const o=this.urlSerializer.serialize(i),a=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",a):this.location.go(o,"",a)}restoreHistory(i,s=!1){var o,a;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===l?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===l&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,s){const o=new Mx(i.id,this.serializeUrl(i.extractedUrl),s);this.triggerEvent(o),i.resolve(!1)}generateNgRouterState(i,s){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}}return r.\u0275fac=function(i){return new(i||r)(j(ad),j(w_),j(ya),j(ch),j(Ee),j(Xd),j(As),j(void 0))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();function Yh(r){return"imperative"!==r}let L_=(()=>{class r{constructor(i,s,o,a,l){this.parentContexts=i,this.location=s,this.resolver=o,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new St,this.deactivateEvents=new St,this.name=a||ve,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const l=(s=s||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new _5(i,d,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(i){return new(i||r)(R(ya),R(wr),R(Bi),function(r){return function(r,e){if("class"===e)return r.classes;if("style"===e)return r.styles;const i=r.attrs;if(i){const s=i.length;let o=0;for(;o<s;){const a=i[o];if($C(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<s&&"string"==typeof i[o];)o++;else{if(a===e)return i[o+1];o+=2}}}return null}(Ct(),r)}("name"),R(Em))},r.\u0275dir=te({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class _5{constructor(e,i,s){this.route=e,this.childContexts=i,this.parent=s}get(e,i){return e===ma?this.route:e===ya?this.childContexts:this.parent.get(e,i)}}class EA{}class DA{preload(e,i){return de(null)}}let IA=(()=>{class r{constructor(i,s,o,a,l){this.router=i,this.injector=a,this.preloadingStrategy=l,this.loader=new wA(s,o,m=>i.triggerEvent(new Nx(m)),m=>i.triggerEvent(new Rx(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(Os(i=>i instanceof Cc),fa(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(qr);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,s){const o=[];for(const a of s)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const l=a._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else a.loadChildren&&!a.canLoad?o.push(this.preloadConfig(i,a)):a.children&&o.push(this.processRoutes(i,a.children));return Ut(o).pipe(lu(),Me(a=>{}))}preloadConfig(i,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?de(s._loadedConfig):this.loader.load(i.injector,s)).pipe(Ht(a=>(s._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return r.\u0275fac=function(i){return new(i||r)(j(We),j(Xd),j(As),j(Ee),j(EA))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),j_=(()=>{class r{constructor(i,s,o={}){this.router=i,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof v_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Cc&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof kx&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,s){this.router.triggerEvent(new kx(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(j(We),j(lS),j(void 0))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const js=new ye("ROUTER_CONFIGURATION"),TA=new ye("ROUTER_FORROOT_GUARD"),b5=[ch,{provide:w_,useClass:$x},{provide:We,useFactory:function(r,e,i,s,o,a,l,d={},f,m){const _=new We(null,r,e,i,s,o,a,Fx(l));return f&&(_.urlHandlingStrategy=f),m&&(_.routeReuseStrategy=m),function(r,e){r.errorHandler&&(e.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(e.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(e.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(e.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(e.urlUpdateStrategy=r.urlUpdateStrategy)}(d,_),d.enableTracing&&_.events.subscribe(v=>{var b,w;null===(b=console.group)||void 0===b||b.call(console,`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),null===(w=console.groupEnd)||void 0===w||w.call(console)}),_},deps:[w_,ya,ch,Ee,Xd,As,P_,js,[class{},new Sn],[class{},new Sn]]},ya,{provide:ma,useFactory:function(r){return r.routerState.root},deps:[We]},{provide:Xd,useClass:bH},IA,DA,class{preload(e,i){return i().pipe(Ps(()=>de(null)))}},{provide:js,useValue:{enableTracing:!1}}];function w5(){return new sy("Router",We)}let SA=(()=>{class r{constructor(i,s){}static forRoot(i,s){return{ngModule:r,providers:[b5,xA(i),{provide:TA,useFactory:D5,deps:[[We,new Sn,new Fi]]},{provide:js,useValue:s||{}},{provide:la,useFactory:E5,deps:[Rs,[new So(Cy),new Sn],js]},{provide:j_,useFactory:C5,deps:[We,lS,js]},{provide:EA,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:DA},{provide:sy,multi:!0,useFactory:w5},[B_,{provide:ac,multi:!0,useFactory:x5,deps:[B_]},{provide:AA,useFactory:A5,deps:[B_]},{provide:r1,multi:!0,useExisting:AA}]]}}static forChild(i){return{ngModule:r,providers:[xA(i)]}}}return r.\u0275fac=function(i){return new(i||r)(j(TA,8),j(We,8))},r.\u0275mod=On({type:r}),r.\u0275inj=dn({}),r})();function C5(r,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new j_(r,e,i)}function E5(r,e,i={}){return i.useHash?new B$(r,e):new W1(r,e)}function D5(r){return"guarded"}function xA(r){return[{provide:BP,multi:!0,useValue:r},{provide:P_,multi:!0,useValue:r}]}let B_=(()=>{class r{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ni}appInitializer(){return this.injector.get(V$,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(d=>s=d),a=this.injector.get(We),l=this.injector.get(js);return"disabled"===l.initialNavigation?(a.setUpLocationChangeListener(),s(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?de(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),a.initialNavigation()):s(!0),o})}bootstrapListener(i){const s=this.injector.get(js),o=this.injector.get(IA),a=this.injector.get(j_),l=this.injector.get(We),d=this.injector.get(aa);i===d.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&l.initialNavigation(),o.setUpPreloading(),a.init(),l.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(i){return new(i||r)(j(Ee))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();function x5(r){return r.appInitializer.bind(r)}function A5(r){return r.bootstrapListener.bind(r)}const AA=new ye("Router Initializer");function MA(r,e,i,s,o,a,l){try{var d=r[a](l),f=d.value}catch(m){return void i(m)}d.done?e(f):Promise.resolve(f).then(s,o)}function q(r){return function(){var e=this,i=arguments;return new Promise(function(s,o){var a=r.apply(e,i);function l(f){MA(a,s,o,l,d,"next",f)}function d(f){MA(a,s,o,l,d,"throw",f)}l(void 0)})}}class Xi{constructor(e,i,s){this.mail=e,this.password=i,this.alias=null!=s?s:""}}var U_=function(r,e){return(U_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])})(r,e)};function Rc(r){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&r[e],s=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kc(r,e){var i="function"==typeof Symbol&&r[Symbol.iterator];if(!i)return r;var o,l,s=i.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(d){l={error:d}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(l)throw l.error}}return a}function kA(r,e,i){if(i||2===arguments.length)for(var a,s=0,o=e.length;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return r.concat(a||Array.prototype.slice.call(e))}var B5=function(){function r(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(i,s){e.resolve=i,e.reject=s})}return r.prototype.wrapCallback=function(e){var i=this;return function(s,o){s?i.reject(s):i.resolve(o),"function"==typeof e&&(i.promise.catch(function(){}),1===e.length?e(s):e(s,o))}},r}();function Zh(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var Q5=function(r){function e(i,s,o){var a=r.call(this,s)||this;return a.code=i,a.customData=o,a.name="FirebaseError",Object.setPrototypeOf(a,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,jA.prototype.create),a}return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=r}U_(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,r),e}(Error),jA=function(){function r(e,i,s){this.service=e,this.serviceName=i,this.errors=s}return r.prototype.create=function(e){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];var o=i[0]||{},a=this.service+"/"+e,l=this.errors[e],d=l?J5(l,o):"Error",f=this.serviceName+": "+d+" ("+a+").",m=new Q5(a,f,o);return m},r}();function J5(r,e){return r.replace(Y5,function(i,s){var o=e[s];return null!=o?String(o):"<"+s+"?>"})}var Y5=/\{\$([^}]+)}/g;function $_(r,e){if(r===e)return!0;for(var i=Object.keys(r),s=Object.keys(e),o=0,a=i;o<a.length;o++){if(!s.includes(l=a[o]))return!1;var d=r[l],f=e[l];if(UA(d)&&UA(f)){if(!$_(d,f))return!1}else if(d!==f)return!1}for(var m=0,_=s;m<_.length;m++){var l;if(!i.includes(l=_[m]))return!1}return!0}function UA(r){return null!==r&&"object"==typeof r}function G_(){}function Oc(r){return r&&r._delegate?r._delegate:r}!function(){function r(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}r.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},r.prototype.compress_=function(e,i){i||(i=0);var s=this.W_;if("string"==typeof e)for(var o=0;o<16;o++)s[o]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(o=0;o<16;o++)s[o]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(o=16;o<80;o++)s[o]=4294967295&((a=s[o-3]^s[o-8]^s[o-14]^s[o-16])<<1|a>>>31);var v,b,l=this.chain_[0],d=this.chain_[1],f=this.chain_[2],m=this.chain_[3],_=this.chain_[4];for(o=0;o<80;o++){o<40?o<20?(v=m^d&(f^m),b=1518500249):(v=d^f^m,b=1859775393):o<60?(v=d&f|m&(d|f),b=2400959708):(v=d^f^m,b=3395469782);var a=(l<<5|l>>>27)+v+_+b+s[o]&4294967295;_=m,m=f,f=4294967295&(d<<30|d>>>2),d=l,l=a}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+d&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295},r.prototype.update=function(e,i){if(null!=e){void 0===i&&(i=e.length);for(var s=i-this.blockSize,o=0,a=this.buf_,l=this.inbuf_;o<i;){if(0===l)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if("string"==typeof e){for(;o<i;)if(a[l]=e.charCodeAt(o),++o,++l===this.blockSize){this.compress_(a),l=0;break}}else for(;o<i;)if(a[l]=e[o],++o,++l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=i}},r.prototype.digest=function(){var e=[],i=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var s=this.blockSize-1;s>=56;s--)this.buf_[s]=255&i,i/=256;this.compress_(this.buf_);var o=0;for(s=0;s<5;s++)for(var a=24;a>=0;a-=8)e[o]=this.chain_[s]>>a&255,++o;return e}}(),function(){function r(e,i){var s=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(function(){e(s)}).catch(function(o){s.error(o)})}r.prototype.next=function(e){this.forEachObserver(function(i){i.next(e)})},r.prototype.error=function(e){this.forEachObserver(function(i){i.error(e)}),this.close(e)},r.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},r.prototype.subscribe=function(e,i,s){var a,o=this;if(void 0===e&&void 0===i&&void 0===s)throw new Error("Missing Observer.");void 0===(a=function(r,e){if("object"!=typeof r||null===r)return!1;for(var i=0,s=["next","error","complete"];i<s.length;i++){var o=s[i];if(o in r&&"function"==typeof r[o])return!0}return!1}(e)?e:{next:e,error:i,complete:s}).next&&(a.next=G_),void 0===a.error&&(a.error=G_),void 0===a.complete&&(a.complete=G_);var l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?a.error(o.finalError):a.complete()}catch(d){}}),this.observers.push(a),l},r.prototype.unsubscribeOne=function(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},r.prototype.forEachObserver=function(e){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,e)},r.prototype.sendOne=function(e,i){var s=this;this.task.then(function(){if(void 0!==s.observers&&void 0!==s.observers[e])try{i(s.observers[e])}catch(o){"undefined"!=typeof console&&console.error&&console.error(o)}})},r.prototype.close=function(e){var i=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){i.observers=void 0,i.onNoObservers=void 0}))}}();var tf=function(){function r(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return r.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},r.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},r.prototype.setServiceProps=function(e){return this.serviceProps=e,this},r.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},r}(),Bs="[DEFAULT]",sz=function(){function r(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return r.prototype.get=function(e){var i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){var s=new B5;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch(a){}}return this.instancesDeferred.get(i).promise},r.prototype.getImmediate=function(e){var i,s=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),o=null!==(i=null==e?void 0:e.optional)&&void 0!==i&&i;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(o)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}},r.prototype.getComponent=function(){return this.component},r.prototype.setComponent=function(e){var i,s;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(r){return"EAGER"===r.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch(v){}try{for(var o=Rc(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var l=kc(a.value,2),f=l[1],m=this.normalizeInstanceIdentifier(l[0]);try{var _=this.getOrInitializeService({instanceIdentifier:m});f.resolve(_)}catch(v){}}}catch(v){i={error:v}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}},r.prototype.clearInstance=function(e){void 0===e&&(e=Bs),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},r.prototype.delete=function(){return function(r,e,i,s){return new(i||(i=Promise))(function(a,l){function d(_){try{m(s.next(_))}catch(v){l(v)}}function f(_){try{m(s.throw(_))}catch(v){l(v)}}function m(_){_.done?a(_.value):function(a){return a instanceof i?a:new i(function(l){l(a)})}(_.value).then(d,f)}m((s=s.apply(r,e||[])).next())})}(this,void 0,void 0,function(){var e;return function(r,e){var s,o,a,l,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function d(m){return function(_){return function(m){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,o&&(a=2&m[0]?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,o=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){i=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){i.label=m[1];break}if(6===m[0]&&i.label<a[1]){i.label=a[1],a=m;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(m);break}a[2]&&i.ops.pop(),i.trys.pop();continue}m=e.call(r,i)}catch(_){m=[6,_],o=0}finally{s=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,_])}}}(this,function(i){switch(i.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(kA(kA([],kc(e.filter(function(s){return"INTERNAL"in s}).map(function(s){return s.INTERNAL.delete()}))),kc(e.filter(function(s){return"_delete"in s}).map(function(s){return s._delete()}))))];case 1:return i.sent(),[2]}})})},r.prototype.isComponentSet=function(){return null!=this.component},r.prototype.isInitialized=function(e){return void 0===e&&(e=Bs),this.instances.has(e)},r.prototype.getOptions=function(e){return void 0===e&&(e=Bs),this.instancesOptions.get(e)||{}},r.prototype.initialize=function(e){var i,s;void 0===e&&(e={});var o=e.options,a=void 0===o?{}:o,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var d=this.getOrInitializeService({instanceIdentifier:l,options:a});try{for(var f=Rc(this.instancesDeferred.entries()),m=f.next();!m.done;m=f.next()){var _=kc(m.value,2),b=_[1];l===this.normalizeInstanceIdentifier(_[0])&&b.resolve(d)}}catch(C){i={error:C}}finally{try{m&&!m.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return d},r.prototype.onInit=function(e,i){var s,o=this.normalizeInstanceIdentifier(i),a=null!==(s=this.onInitCallbacks.get(o))&&void 0!==s?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);var l=this.instances.get(o);return l&&e(l,o),function(){a.delete(e)}},r.prototype.invokeOnInitCallbacks=function(e,i){var s,o,a=this.onInitCallbacks.get(i);if(a)try{for(var l=Rc(a),d=l.next();!d.done;d=l.next()){var f=d.value;try{f(e,i)}catch(m){}}}catch(m){s={error:m}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(s)throw s.error}}},r.prototype.getOrInitializeService=function(e){var i=e.instanceIdentifier,s=e.options,o=void 0===s?{}:s,a=this.instances.get(i);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oz(i),options:o}),this.instances.set(i,a),this.instancesOptions.set(i,o),this.invokeOnInitCallbacks(a,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,a)}catch(l){}return a||null},r.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Bs),this.component?this.component.multipleInstances?e:Bs:e},r.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},r}();function oz(r){return r===Bs?void 0:r}var uz=function(){function r(e){this.name=e,this.providers=new Map}return r.prototype.addComponent=function(e){var i=this.getProvider(e.name);if(i.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);i.setComponent(e)},r.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},r.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var i=new sz(e,this);return this.providers.set(e,i),i},r.prototype.getProviders=function(){return Array.from(this.providers.values())},r}();function Mr(){for(var r=0,e=0,i=arguments.length;e<i;e++)r+=arguments[e].length;var s=Array(r),o=0;for(e=0;e<i;e++)for(var a=arguments[e],l=0,d=a.length;l<d;l++,o++)s[o]=a[l];return s}var Us,z_=[],Se=(()=>(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"}(Se||(Se={})),Se))(),HA={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},cz=Se.INFO,lz=((Us={})[Se.DEBUG]="log",Us[Se.VERBOSE]="log",Us[Se.INFO]="info",Us[Se.WARN]="warn",Us[Se.ERROR]="error",Us),dz=function(r,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(!(e<r.logLevel)){var o=(new Date).toISOString(),a=lz[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,Mr(["["+o+"]  "+r.name+":"],i))}},$A=function(){function r(e){this.name=e,this._logLevel=cz,this._logHandler=dz,this._userLogHandler=null,z_.push(this)}return Object.defineProperty(r.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Se))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),r.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?HA[e]:e},Object.defineProperty(r.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),r.prototype.debug=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,Mr([this,Se.DEBUG],e)),this._logHandler.apply(this,Mr([this,Se.DEBUG],e))},r.prototype.log=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,Mr([this,Se.VERBOSE],e)),this._logHandler.apply(this,Mr([this,Se.VERBOSE],e))},r.prototype.info=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,Mr([this,Se.INFO],e)),this._logHandler.apply(this,Mr([this,Se.INFO],e))},r.prototype.warn=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,Mr([this,Se.WARN],e)),this._logHandler.apply(this,Mr([this,Se.WARN],e))},r.prototype.error=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,Mr([this,Se.ERROR],e)),this._logHandler.apply(this,Mr([this,Se.ERROR],e))},r}();class hz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(function(r){const e=r.getComponent();return"VERSION"===(null==e?void 0:e.type)}(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}return null}).filter(i=>i).join(" ")}}const GA="@firebase/app",W_=new $A("@firebase/app"),K_="[DEFAULT]",Bz={[GA]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hs=new Map,nf=new Map;function Uz(r,e){try{r.container.addComponent(e)}catch(i){W_.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Q_(r){const e=r.name;if(nf.has(e))return W_.debug(`There were multiple attempts to register component ${e}.`),!1;nf.set(e,r);for(const i of Hs.values())Uz(i,r);return!0}const Pc=new jA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class $z{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new tf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pc.create("app-deleted",{appName:this._name})}}function rf(r,e,i){var s;let o=null!==(s=Bz[r])&&void 0!==s?s:r;i&&(o+=`-${i}`);const a=o.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${o}" with version "${e}":`];return a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void W_.warn(d.join(" "))}Q_(new tf(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}Q_(new tf("platform-logger",e=>new hz(e),"PRIVATE")),rf(GA,"0.7.0",void 0),rf("fire-js","");var Y_=function(r,e){return(Y_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])})(r,e)};function zA(r){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&r[e],s=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var z,Qz="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},X_=X_||{},ue=Qz||self;function sf(){}function Z_(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Fc(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ev="closure_uid_"+(1e9*Math.random()>>>0),Yz=0;function Xz(r,e,i){return r.call.apply(r.bind,arguments)}function Zz(r,e,i){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),r.apply(e,o)}}return function(){return r.apply(e,arguments)}}function Gt(r,e,i){return(Gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xz:Zz).apply(null,arguments)}function of(r,e){var i=Array.prototype.slice.call(arguments,1);return function(){var s=i.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function qt(r,e){function i(){}i.prototype=e.prototype,r.Z=e.prototype,r.prototype=new i,r.prototype.constructor=r,r.Vb=function(s,o,a){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return e.prototype[o].apply(s,l)}}function Zi(){this.s=this.s,this.o=this.o}var t7={};Zi.prototype.s=!1,Zi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,ev)&&r[ev]||(r[ev]=++Yz)}(this);delete t7[r]}},Zi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var WA=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(var i=0;i<r.length;i++)if(i in r&&r[i]===e)return i;return-1},KA=Array.prototype.forEach?function(r,e,i){Array.prototype.forEach.call(r,e,i)}:function(r,e,i){for(var s=r.length,o="string"==typeof r?r.split(""):r,a=0;a<s;a++)a in o&&e.call(i,o[a],a,r)};function QA(r){return Array.prototype.concat.apply([],arguments)}function tv(r){var e=r.length;if(0<e){for(var i=Array(e),s=0;s<e;s++)i[s]=r[s];return i}return[]}function af(r){return/^[\s\xa0]*$/.test(r)}var wn,JA=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function bn(r,e){return-1!=r.indexOf(e)}function nv(r,e){return r<e?-1:r>e?1:0}e:{var YA=ue.navigator;if(YA){var XA=YA.userAgent;if(XA){wn=XA;break e}}wn=""}function rv(r,e,i){for(var s in r)e.call(i,r[s],s,r)}function ZA(r){var e={};for(var i in r)e[i]=r[i];return e}var eM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tM(r,e){for(var i,s,o=1;o<arguments.length;o++){for(i in s=arguments[o])r[i]=s[i];for(var a=0;a<eM.length;a++)i=eM[a],Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}}function iv(r){return iv[" "](r),r}iv[" "]=sf;var uf,i7=bn(wn,"Opera"),va=bn(wn,"Trident")||bn(wn,"MSIE"),nM=bn(wn,"Edge"),sv=nM||va,rM=bn(wn,"Gecko")&&!(bn(wn.toLowerCase(),"webkit")&&!bn(wn,"Edge"))&&!(bn(wn,"Trident")||bn(wn,"MSIE"))&&!bn(wn,"Edge"),s7=bn(wn.toLowerCase(),"webkit")&&!bn(wn,"Edge");function iM(){var r=ue.document;return r?r.documentMode:void 0}e:{var ov="",av=function(){var r=wn;return rM?/rv:([^\);]+)(\)|;)/.exec(r):nM?/Edge\/([\d\.]+)/.exec(r):va?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):s7?/WebKit\/(\S+)/.exec(r):i7?/(?:Version)[ \/]?(\S+)/.exec(r):void 0}();if(av&&(ov=av?av[1]:""),va){var uv=iM();if(null!=uv&&uv>parseFloat(ov)){uf=String(uv);break e}}uf=ov}var o7={};function a7(){return e=o7,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var r=0,e=JA(String(uf)).split("."),i=JA("9").split("."),s=Math.max(e.length,i.length),o=0;0==r&&o<s;o++){var a=e[o]||"",l=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;r=nv(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||nv(0==a[2].length,0==l[2].length)||nv(a[2],l[2]),a=a[3],l=l[3]}while(0==r)}return 0<=r}();var e}var u7=ue.document&&va&&(iM()||parseInt(uf,10))||void 0,c7=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ue.addEventListener("test",sf,e),ue.removeEventListener("test",sf,e)}catch(i){}return r}();function sn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function Vc(r,e){if(sn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var i=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(rM){e:{try{iv(e.nodeName);var o=!0;break e}catch(a){}o=!1}o||(e=null)}}else"mouseover"==i?e=r.fromElement:"mouseout"==i&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:l7[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Vc.Z.h.call(this)}}sn.prototype.h=function(){this.defaultPrevented=!0},qt(Vc,sn);var l7={2:"touch",3:"pen",4:"mouse"};Vc.prototype.h=function(){Vc.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Lc="closure_listenable_"+(1e6*Math.random()|0),d7=0;function h7(r,e,i,s,o){this.listener=r,this.proxy=null,this.src=e,this.type=i,this.capture=!!s,this.ia=o,this.key=++d7,this.ca=this.fa=!1}function cf(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function lf(r){this.src=r,this.g={},this.h=0}function lv(r,e){var i=e.type;if(i in r.g){var a,s=r.g[i],o=WA(s,e);(a=0<=o)&&Array.prototype.splice.call(s,o,1),a&&(cf(e),0==r.g[i].length&&(delete r.g[i],r.h--))}}function dv(r,e,i,s){for(var o=0;o<r.length;++o){var a=r[o];if(!a.ca&&a.listener==e&&a.capture==!!i&&a.ia==s)return o}return-1}lf.prototype.add=function(r,e,i,s,o){var a=r.toString();(r=this.g[a])||(r=this.g[a]=[],this.h++);var l=dv(r,e,s,o);return-1<l?(e=r[l],i||(e.fa=!1)):((e=new h7(e,this.src,a,!!s,o)).fa=i,r.push(e)),e};var hv="closure_lm_"+(1e6*Math.random()|0),fv={};function oM(r,e,i,s,o){if(s&&s.once)return uM(r,e,i,s,o);if(Array.isArray(e)){for(var a=0;a<e.length;a++)oM(r,e[a],i,s,o);return null}return i=yv(i),r&&r[Lc]?r.N(e,i,Fc(s)?!!s.capture:!!s,o):aM(r,e,i,!1,s,o)}function aM(r,e,i,s,o,a){if(!e)throw Error("Invalid event type");var l=Fc(o)?!!o.capture:!!o,d=gv(r);if(d||(r[hv]=d=new lf(r)),(i=d.add(e,i,s,l,a)).proxy)return i;if(s=function(){var e=p7;return function r(i){return e.call(r.src,r.listener,i)}}(),i.proxy=s,s.src=r,s.listener=i,r.addEventListener)c7||(o=l),void 0===o&&(o=!1),r.addEventListener(e.toString(),s,o);else if(r.attachEvent)r.attachEvent(lM(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return i}function uM(r,e,i,s,o){if(Array.isArray(e)){for(var a=0;a<e.length;a++)uM(r,e[a],i,s,o);return null}return i=yv(i),r&&r[Lc]?r.O(e,i,Fc(s)?!!s.capture:!!s,o):aM(r,e,i,!0,s,o)}function cM(r,e,i,s,o){if(Array.isArray(e))for(var a=0;a<e.length;a++)cM(r,e[a],i,s,o);else s=Fc(s)?!!s.capture:!!s,i=yv(i),r&&r[Lc]?(r=r.i,(e=String(e).toString())in r.g&&-1<(i=dv(a=r.g[e],i,s,o))&&(cf(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete r.g[e],r.h--))):r&&(r=gv(r))&&(e=r.g[e.toString()],r=-1,e&&(r=dv(e,i,s,o)),(i=-1<r?e[r]:null)&&pv(i))}function pv(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[Lc])lv(e.i,r);else{var i=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(i,s,r.capture):e.detachEvent?e.detachEvent(lM(i),s):e.addListener&&e.removeListener&&e.removeListener(s),(i=gv(e))?(lv(i,r),0==i.h&&(i.src=null,e[hv]=null)):cf(r)}}}function lM(r){return r in fv?fv[r]:fv[r]="on"+r}function p7(r,e){if(r.ca)r=!0;else{e=new Vc(e,this);var i=r.listener,s=r.ia||r.src;r.fa&&pv(r),r=i.call(s,e)}return r}function gv(r){return(r=r[hv])instanceof lf?r:null}var mv="__closure_events_fn_"+(1e9*Math.random()>>>0);function yv(r){return"function"==typeof r?r:(r[mv]||(r[mv]=function(e){return r.handleEvent(e)}),r[mv])}function Pt(){Zi.call(this),this.i=new lf(this),this.P=this,this.I=null}function zt(r,e){var i,s=r.I;if(s)for(i=[];s;s=s.I)i.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new sn(e,r);else if(e instanceof sn)e.target=e.target||r;else{var o=e;tM(e=new sn(s,r),o)}if(o=!0,i)for(var a=i.length-1;0<=a;a--){var l=e.g=i[a];o=df(l,s,!0,e)&&o}if(o=df(l=e.g=r,s,!0,e)&&o,o=df(l,s,!1,e)&&o,i)for(a=0;a<i.length;a++)o=df(l=e.g=i[a],s,!1,e)&&o}function df(r,e,i,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ca&&l.capture==i){var d=l.listener,f=l.ia||l.src;l.fa&&lv(r.i,l),o=!1!==d.call(f,s)&&o}}return o&&!s.defaultPrevented}qt(Pt,Zi),Pt.prototype[Lc]=!0,Pt.prototype.removeEventListener=function(r,e,i,s){cM(this,r,e,i,s)},Pt.prototype.M=function(){if(Pt.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var i=r.g[e],s=0;s<i.length;s++)cf(i[s]);delete r.g[e],r.h--}}this.I=null},Pt.prototype.N=function(r,e,i,s){return this.i.add(String(r),e,!1,i,s)},Pt.prototype.O=function(r,e,i,s){return this.i.add(String(r),e,!0,i,s)};var _v=ue.JSON.stringify;function g7(){var r=hM,e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var bv,m7=function(){function r(){this.h=this.g=null}return r.prototype.add=function(e,i){var s=dM.get();s.set(e,i),this.h?this.h.next=s:this.g=s,this.h=s},r}(),dM=new(function(){function r(e,i){this.i=e,this.j=i,this.h=0,this.g=null}return r.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},r}())(function(){return new y7},function(r){return r.reset()}),y7=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(e,i){this.h=e,this.g=i,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function _7(r){ue.setTimeout(function(){throw r},0)}function vv(r,e){bv||function(){var r=ue.Promise.resolve(void 0);bv=function(){r.then(b7)}}(),wv||(bv(),wv=!0),hM.add(r,e)}var wv=!1,hM=new m7;function b7(){for(var r;r=g7();){try{r.h.call(r.g)}catch(i){_7(i)}var e=dM;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}wv=!1}function hf(r,e){Pt.call(this),this.h=r||1,this.g=e||ue,this.j=Gt(this.kb,this),this.l=Date.now()}function Cv(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Ev(r,e,i){if("function"==typeof r)i&&(r=Gt(r,i));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Gt(r.handleEvent,r)}return 2147483647<Number(e)?-1:ue.setTimeout(r,e||0)}function fM(r){r.g=Ev(function(){r.g=null,r.i&&(r.i=!1,fM(r))},r.j);var e=r.h;r.h=null,r.m.apply(null,e)}qt(hf,Pt),(z=hf.prototype).da=!1,z.S=null,z.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zt(this,"tick"),this.da&&(Cv(this),this.start()))}},z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){hf.Z.M.call(this),Cv(this),delete this.g};var w7=function(r){function e(i,s){var o=r.call(this)||this;return o.m=i,o.j=s,o.h=null,o.i=!1,o.g=null,o}return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=r}Y_(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,r),e.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:fM(this)},e.prototype.M=function(){r.prototype.M.call(this),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Zi);function jc(r){Zi.call(this),this.h=r,this.g={}}qt(jc,Zi);var pM=[];function gM(r,e,i,s){Array.isArray(i)||(i&&(pM[0]=i.toString()),i=pM);for(var o=0;o<i.length;o++){var a=oM(e,i[o],s||r.handleEvent,!1,r.h||r);if(!a)break;r.g[a.key]=a}}function mM(r){rv(r.g,function(e,i){this.g.hasOwnProperty(i)&&pv(e)},r),r.g={}}function ff(){this.g=!0}function ba(r,e,i,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(r,e){if(!r.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(r=0;r<i.length;r++)if(Array.isArray(i[r])){var s=i[r];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<o.length;l++)o[l]=""}}}return _v(i)}catch(d){return e}}(r,i)+(s?" "+s:"")})}jc.prototype.M=function(){jc.Z.M.call(this),mM(this)},jc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ff.prototype.Aa=function(){this.g=!1},ff.prototype.info=function(){};var $s={},yM=null;function pf(){return yM=yM||new Pt}function _M(r){sn.call(this,$s.Ma,r)}function Bc(r){var e=pf();zt(e,new _M(e,r))}function vM(r,e){sn.call(this,$s.STAT_EVENT,r),this.stat=e}function Cn(r){var e=pf();zt(e,new vM(e,r))}function bM(r,e){sn.call(this,$s.Na,r),this.size=e}function Uc(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){r()},e)}$s.Ma="serverreachability",qt(_M,sn),$s.STAT_EVENT="statevent",qt(vM,sn),$s.Na="timingevent",qt(bM,sn);var gf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dv(){}function EM(){}Dv.prototype.h=null;var Sv,Hc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Iv(){sn.call(this,"d")}function Tv(){sn.call(this,"c")}function mf(){}function $c(r,e,i,s){this.l=r,this.j=e,this.m=i,this.X=s||1,this.V=new jc(this),this.P=T7,this.W=new hf(r=sv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new DM}function DM(){this.i=null,this.g="",this.h=!1}qt(Iv,sn),qt(Tv,sn),qt(mf,Dv),mf.prototype.g=function(){return new XMLHttpRequest},mf.prototype.i=function(){return{}},Sv=new mf;var T7=45e3,xv={},yf={};function Av(r,e,i){r.K=1,r.v=Cf(bi(e)),r.s=i,r.U=!0,IM(r,null)}function IM(r,e){r.F=Date.now(),Gc(r),r.A=bi(r.v);var i=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),OM(i.h,"t",s),r.C=0,i=r.l.H,r.h=new DM,r.g=rN(r.l,i?e:null,!r.s),0<r.O&&(r.L=new w7(Gt(r.Ia,r,r.g),r.O)),gM(r.V,r.g,"readystatechange",r.gb),e=r.H?ZA(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),Bc(1),function(r,e,i,s,o,a){r.info(function(){if(r.g)if(a)for(var l="",d=a.split("&"),f=0;f<d.length;f++){var m=d[f].split("=");if(1<m.length){var _=m[0];m=m[1];var v=_.split("_");l=2<=v.length&&"type"==v[1]?l+(_+"=")+m+"&":l+(_+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+e+"\n"+i+"\n"+l})}(r.j,r.u,r.A,r.m,r.X,r.s)}function TM(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function SM(r,e,i){for(var o,s=!0;!r.I&&r.C<i.length;){if((o=S7(r,i))==yf){4==e&&(r.o=4,Cn(14),s=!1),ba(r.j,r.m,null,"[Incomplete Response]");break}if(o==xv){r.o=4,Cn(15),ba(r.j,r.m,i,"[Invalid Chunk]"),s=!1;break}ba(r.j,r.m,o,null),Mv(r,o)}TM(r)&&o!=yf&&o!=xv&&(r.h.g="",r.C=0),4!=e||0!=i.length||r.h.h||(r.o=1,Cn(16),s=!1),r.i=r.i&&s,s?0<i.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Uv(e),e.L=!0,Cn(11))):(ba(r.j,r.m,i,"[Invalid Chunked Response]"),Gs(r),qc(r))}function S7(r,e){var i=r.C,s=e.indexOf("\n",i);return-1==s?yf:(i=Number(e.substring(i,s)),isNaN(i)?xv:(s+=1)+i>e.length?yf:(e=e.substr(s,i),r.C=s+i,e))}function Gc(r){r.Y=Date.now()+r.P,xM(r,r.P)}function xM(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Uc(Gt(r.eb,r),e)}function _f(r){r.B&&(ue.clearTimeout(r.B),r.B=null)}function qc(r){0==r.l.G||r.I||ZM(r.l,r)}function Gs(r){_f(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Cv(r.W),mM(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Mv(r,e){try{var i=r.l;if(0!=i.G&&(i.g==r||kv(i.i,r)))if(i.I=r.N,!r.J&&kv(i.i,r)&&3==i.G){try{var s=i.Ca.g.parse(e)}catch(E){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(i.u)i.ta=o[1],0<i.ta-i.U&&37500>o[2]&&i.N&&0==i.A&&!i.v&&(i.v=Uc(Gt(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<r.F))break e;xf(i),Tf(i)}Bv(i),Cn(18)}if(1>=VM(i.i)&&i.ka){try{i.ka()}catch(E){}i.ka=void 0}}else Ws(i,11)}else if((r.J||i.g==r)&&xf(i),!af(e))for(o=i.Ca.g.parse(e),e=0;e<o.length;e++){var a=o[e];if(i.U=a[0],a=a[1],2==i.G)if("c"==a[0]){i.J=a[1],i.la=a[2];var l=a[3];null!=l&&(i.ma=l,i.h.info("VER="+i.ma));var d=a[4];null!=d&&(i.za=d,i.h.info("SVER="+i.za));var f=a[5];null!=f&&"number"==typeof f&&0<f&&(i.K=s=1.5*f,i.h.info("backChannelRequestTimeoutMs_="+s)),s=i;var m=r.g;if(m){var _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var v=s.i;!v.g&&(bn(_,"spdy")||bn(_,"quic")||bn(_,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Ov(v,v.h),v.h=null))}if(s.D){var b=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(s.sa=b,Ke(s.F,s.D,b))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-r.F,i.h.info("Handshake RTT: "+i.O+"ms"));var w=r;if((s=i).oa=nN(s,s.H?s.la:null,s.W),w.J){LM(s.i,w);var C=w,D=s.K;D&&C.setTimeout(D),C.B&&(_f(C),Gc(C)),s.g=w}else YM(s);0<i.l.length&&Sf(i)}else"stop"!=a[0]&&"close"!=a[0]||Ws(i,7);else 3==i.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ws(i,7):Lv(i):"noop"!=a[0]&&i.j&&i.j.wa(a),i.A=0)}Bc(4)}catch(E){}}function Nv(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Z_(r)||"string"==typeof r)KA(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var i=r.T();else if(r.R&&"function"==typeof r.R)i=void 0;else if(Z_(r)||"string"==typeof r){i=[];for(var s=r.length,o=0;o<s;o++)i.push(o)}else for(o in i=[],s=0,r)i[s++]=o;o=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Z_(r)){for(var e=[],i=r.length,s=0;s<i;s++)e.push(r[s]);return e}for(s in e=[],i=0,r)e[i++]=r[s];return e}(r)).length;for(var a=0;a<o;a++)e.call(void 0,s[a],i&&i[a],r)}}function wa(r,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var s=0;s<i;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof wa)for(i=r.T(),s=0;s<i.length;s++)this.set(i[s],r.get(i[s]));else for(s in r)this.set(s,r[s])}function Rv(r){if(r.i!=r.g.length){for(var e=0,i=0;e<r.g.length;){var s=r.g[e];qs(r.h,s)&&(r.g[i++]=s),e++}r.g.length=i}if(r.i!=r.g.length){var o={};for(i=e=0;e<r.g.length;)qs(o,s=r.g[e])||(r.g[i++]=s,o[s]=1),e++;r.g.length=i}}function qs(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(z=$c.prototype).setTimeout=function(r){this.P=r},z.gb=function(r){r=r.target;var e=this.L;e&&3==wi(r)?e.l():this.Ia(r)},z.Ia=function(r){try{if(r==this.g)e:{var e=wi(this.g),i=this.g.Da(),s=this.g.ba();if(!(3>e)&&(3!=e||sv||this.g&&(this.h.h||this.g.ga()||zM(this.g)))){this.I||4!=e||7==i||Bc(8==i||0>=s?3:2),_f(this);var o=this.g.ba();this.N=o;t:if(TM(this)){var a=zM(this.g);r="";var l=a.length,d=4==wi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gs(this),qc(this);var f="";break t}this.h.i=new ue.TextDecoder}for(i=0;i<l;i++)this.h.h=!0,r+=this.h.i.decode(a[i],{stream:d&&i==l-1});a.splice(0,l),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==o,function(r,e,i,s,o,a,l){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+e+"\n"+i+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!af(m)){var v=m;break t}}v=null}if(!(o=v)){this.i=!1,this.o=3,Cn(12),Gs(this),qc(this);break e}ba(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mv(this,o)}this.U?(SM(this,e,f),sv&&this.i&&3==e&&(gM(this.V,this.W,"tick",this.fb),this.W.start())):(ba(this.j,this.m,f,null),Mv(this,f)),4==e&&Gs(this),this.i&&!this.I&&(4==e?ZM(this.l,this):(this.i=!1,Gc(this)))}else 400==o&&0<f.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),Gs(this),qc(this)}}}catch(b){}},z.fb=function(){if(this.g){var r=wi(this.g),e=this.g.ga();this.C<e.length&&(_f(this),SM(this,r,e),this.i&&4!=r&&Gc(this))}},z.cancel=function(){this.I=!0,Gs(this)},z.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bc(3),Cn(17)),Gs(this),this.o=2,qc(this)):xM(this,this.Y-r)},(z=wa.prototype).R=function(){Rv(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},z.T=function(){return Rv(this),this.g.concat()},z.get=function(r,e){return qs(this.h,r)?this.h[r]:e},z.set=function(r,e){qs(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},z.forEach=function(r,e){for(var i=this.T(),s=0;s<i.length;s++){var o=i[s],a=this.get(o);r.call(e,a,o,this)}};var AM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zs(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof zs){this.g=void 0!==e?e:r.g,vf(this,r.j),this.s=r.s,bf(this,r.i),wf(this,r.m),this.l=r.l,e=r.h;var i=new Kc;i.i=e.i,e.g&&(i.g=new wa(e.g),i.h=e.h),MM(this,i),this.o=r.o}else r&&(i=String(r).match(AM))?(this.g=!!e,vf(this,i[1]||"",!0),this.s=zc(i[2]||""),bf(this,i[3]||"",!0),wf(this,i[4]),this.l=zc(i[5]||"",!0),MM(this,i[6]||"",!0),this.o=zc(i[7]||"")):(this.g=!!e,this.h=new Kc(null,this.g))}function bi(r){return new zs(r)}function vf(r,e,i){r.j=i?zc(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function bf(r,e,i){r.i=i?zc(e,!0):e}function wf(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function MM(r,e,i){e instanceof Kc?(r.h=e,function(r,e){e&&!r.j&&(es(r),r.i=null,r.g.forEach(function(i,s){var o=s.toLowerCase();s!=o&&(RM(this,s),OM(this,o,i))},r)),r.j=e}(r.h,r.g)):(i||(e=Wc(e,P7)),r.h=new Kc(e,r.g))}function Ke(r,e,i){r.h.set(e,i)}function Cf(r){return Ke(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function zc(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Wc(r,e,i){return"string"==typeof r?(r=encodeURI(r).replace(e,R7),i&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function R7(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}zs.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Wc(e,NM,!0),":");var i=this.i;return(i||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Wc(e,NM,!0),"@"),r.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&r.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&r.push("/"),r.push(Wc(i,"/"==i.charAt(0)?O7:k7,!0))),(i=this.h.toString())&&r.push("?",i),(i=this.o)&&r.push("#",Wc(i,F7)),r.join("")};var NM=/[#\/\?@]/g,k7=/[#\?:]/g,O7=/[#\?]/g,P7=/[#\?@]/g,F7=/#/g;function Kc(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function es(r){r.g||(r.g=new wa,r.h=0,r.i&&function(r,e){if(r){r=r.split("&");for(var i=0;i<r.length;i++){var s=r[i].indexOf("="),o=null;if(0<=s){var a=r[i].substring(0,s);o=r[i].substring(s+1)}else a=r[i];e(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(r.i,function(e,i){r.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function RM(r,e){es(r),e=Ca(r,e),qs(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,qs((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&Rv(r)))}function kM(r,e){return es(r),e=Ca(r,e),qs(r.g.h,e)}function OM(r,e,i){RM(r,e),0<i.length&&(r.i=null,r.g.set(Ca(r,e),tv(i)),r.h+=i.length)}function Ca(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}(z=Kc.prototype).add=function(r,e){es(this),this.i=null,r=Ca(this,r);var i=this.g.get(r);return i||this.g.set(r,i=[]),i.push(e),this.h+=1,this},z.forEach=function(r,e){es(this),this.g.forEach(function(i,s){KA(i,function(o){r.call(e,o,s,this)},this)},this)},z.T=function(){es(this);for(var r=this.g.R(),e=this.g.T(),i=[],s=0;s<e.length;s++)for(var o=r[s],a=0;a<o.length;a++)i.push(e[s]);return i},z.R=function(r){es(this);var e=[];if("string"==typeof r)kM(this,r)&&(e=QA(e,this.g.get(Ca(this,r))));else{r=this.g.R();for(var i=0;i<r.length;i++)e=QA(e,r[i])}return e},z.set=function(r,e){return es(this),this.i=null,kM(this,r=Ca(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},z.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),i=0;i<e.length;i++){var s=e[i],o=encodeURIComponent(String(s));s=this.R(s);for(var a=0;a<s.length;a++){var l=o;""!==s[a]&&(l+="="+encodeURIComponent(String(s[a]))),r.push(l)}}return this.i=r.join("&")};var L7=function(e,i){this.h=e,this.g=i};function PM(r){this.l=r||j7,r=ue.PerformanceNavigationTiming?0<(r=ue.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ue.g&&ue.g.Ea&&ue.g.Ea()&&ue.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var j7=10;function FM(r){return!!r.h||!!r.g&&r.g.size>=r.j}function VM(r){return r.h?1:r.g?r.g.size:0}function kv(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ov(r,e){r.g?r.g.add(e):r.h=e}function LM(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function jM(r){var e,i;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var o=zA(r.g.values()),a=o.next();!a.done;a=o.next())s=s.concat(a.value.D)}catch(d){e={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}return s}return tv(r.i)}function Pv(){}function B7(){this.g=new Pv}function U7(r,e,i){var s=i||"";try{Nv(r,function(o,a){var l=o;Fc(o)&&(l=_v(o)),e.push(s+a+"="+encodeURIComponent(l))})}catch(o){throw e.push(s+"type="+encodeURIComponent("_badmap")),o}}function Ef(r,e,i,s,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(s)}catch(a){}}function Qc(r){this.l=r.$b||null,this.j=r.ib||!1}function Df(r,e){Pt.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Fv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PM.prototype.cancel=function(){var r,e;if(this.i=jM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=zA(this.g.values()),s=i.next();!s.done;s=i.next())s.value.cancel()}catch(a){r={error:a}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}this.g.clear()}},Pv.prototype.stringify=function(r){return ue.JSON.stringify(r,void 0)},Pv.prototype.parse=function(r){return ue.JSON.parse(r,void 0)},qt(Qc,Dv),Qc.prototype.g=function(){return new Df(this.l,this.j)},Qc.prototype.i=function(r){return function(){return r}}({}),qt(Df,Pt);var Fv=0;function BM(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Jc(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Yc(r)}function Yc(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(z=Df.prototype).open=function(r,e){if(this.readyState!=Fv)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Yc(this)},z.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ue).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jc(this)),this.readyState=Fv},z.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ue.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BM(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},z.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Jc(this):Yc(this),3==this.readyState&&BM(this)}},z.Ua=function(r){this.g&&(this.response=this.responseText=r,Jc(this))},z.Ta=function(r){this.g&&(this.response=r,Jc(this))},z.ha=function(){this.g&&Jc(this)},z.setRequestHeader=function(r,e){this.v.append(r,e)},z.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],e=this.h.entries(),i=e.next();!i.done;)r.push((i=i.value)[0]+": "+i[1]),i=e.next();return r.join("\r\n")},Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var $7=ue.JSON.parse;function gt(r){Pt.call(this),this.headers=new wa,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UM,this.K=this.L=!1}qt(gt,Pt);var UM="",G7=/^https?$/i,q7=["POST","PUT"];function W7(r){return"content-type"==r.toLowerCase()}function HM(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,$M(r),If(r)}function $M(r){r.D||(r.D=!0,zt(r,"complete"),zt(r,"error"))}function GM(r){if(r.h&&void 0!==X_&&(!r.C[1]||4!=wi(r)||2!=r.ba()))if(r.v&&4==wi(r))Ev(r.Fa,0,r);else if(zt(r,"readystatechange"),4==wi(r)){r.h=!1;try{var s,e=r.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(s=i)){var o;if(o=0===e){var a=String(r.H).match(AM)[1]||null;if(!a&&ue.self&&ue.self.location){var l=ue.self.location.protocol;a=l.substr(0,l.length-1)}o=!G7.test(a?a.toLowerCase():"")}s=o}if(s)zt(r,"complete"),zt(r,"success");else{r.m=6;try{var d=2<wi(r)?r.g.statusText:""}catch(f){d=""}r.j=d+" ["+r.ba()+"]",$M(r)}}finally{If(r)}}}function If(r,e){if(r.g){qM(r);var i=r.g,s=r.C[0]?sf:null;r.g=null,r.C=null,e||zt(r,"ready");try{i.onreadystatechange=s}catch(o){}}}function qM(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ue.clearTimeout(r.A),r.A=null)}function wi(r){return r.g?r.g.readyState:0}function zM(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case UM:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vv(r,e,i){e:{for(s in i){var s=!1;break e}s=!0}s||(i=function(r){var e="";return rv(r,function(i,s){e+=s,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof r?null!=i&&encodeURIComponent(String(i)):Ke(r,e,i))}function Xc(r,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[r]||e}function WM(r){this.za=0,this.l=[],this.h=new ff,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xc("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xc("baseRetryDelayMs",5e3,r),this.$a=Xc("retryDelaySeedMs",1e4,r),this.Ya=Xc("forwardChannelMaxRetries",2,r),this.ra=Xc("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new PM(r&&r.concurrentRequestLimit),this.Ca=new B7,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function Lv(r){if(KM(r),3==r.G){var e=r.V++,i=bi(r.F);Ke(i,"SID",r.J),Ke(i,"RID",e),Ke(i,"TYPE","terminate"),Zc(r,i),(e=new $c(r,r.h,e,void 0)).K=2,e.v=Cf(bi(i)),i=!1,ue.navigator&&ue.navigator.sendBeacon&&(i=ue.navigator.sendBeacon(e.v.toString(),"")),!i&&ue.Image&&((new Image).src=e.v,i=!0),i||(e.g=rN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gc(e)}tN(r)}function Tf(r){r.g&&(Uv(r),r.g.cancel(),r.g=null)}function KM(r){Tf(r),r.u&&(ue.clearTimeout(r.u),r.u=null),xf(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ue.clearTimeout(r.m),r.m=null)}function jv(r,e){r.l.push(new L7(r.Za++,e)),3==r.G&&Sf(r)}function Sf(r){FM(r.i)||r.m||(r.m=!0,vv(r.Ha,r),r.C=0)}function QM(r,e){var i;i=e?e.m:r.V++;var s=bi(r.F);Ke(s,"SID",r.J),Ke(s,"RID",i),Ke(s,"AID",r.U),Zc(r,s),r.o&&r.s&&Vv(s,r.o,r.s),i=new $c(r,r.h,i,r.C+1),null===r.o&&(i.H=r.s),e&&(r.l=e.D.concat(r.l)),e=JM(r,i,1e3),i.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),Ov(r.i,i),Av(i,s,e)}function Zc(r,e){r.j&&Nv({},function(i,s){Ke(e,s,i)})}function JM(r,e,i){i=Math.min(r.l.length,i);var s=r.j?Gt(r.j.Oa,r.j,r):null;e:for(var o=r.l,a=-1;;){var l=["count="+i];-1==a?0<i?l.push("ofs="+(a=o[0].h)):a=0:l.push("ofs="+a);for(var d=!0,f=0;f<i;f++){var m=o[f].h,_=o[f].g;if(0>(m-=a))a=Math.max(0,o[f].h-100),d=!1;else try{U7(_,l,"req"+m+"_")}catch(v){s&&s(_)}}if(d){s=l.join("&");break e}}return r=r.l.splice(0,i),e.D=r,s}function YM(r){r.g||r.u||(r.Y=1,vv(r.Ga,r),r.A=0)}function Bv(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Uc(Gt(r.Ga,r),eN(r,r.A)),r.A++,0))}function Uv(r){null!=r.B&&(ue.clearTimeout(r.B),r.B=null)}function XM(r){r.g=new $c(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=bi(r.oa);Ke(e,"RID","rpc"),Ke(e,"SID",r.J),Ke(e,"CI",r.N?"0":"1"),Ke(e,"AID",r.U),Zc(r,e),Ke(e,"TYPE","xmlhttp"),r.o&&r.s&&Vv(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var i=r.g;r=r.la,i.K=1,i.v=Cf(bi(e)),i.s=null,i.U=!0,IM(i,r)}function xf(r){null!=r.v&&(ue.clearTimeout(r.v),r.v=null)}function ZM(r,e){var i=null;if(r.g==e){xf(r),Uv(r),r.g=null;var s=2}else{if(!kv(r.i,e))return;i=e.D,LM(r.i,e),s=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==s){i=e.s?e.s.length:0,e=Date.now()-e.F;var o=r.C;zt(s=pf(),new bM(s,i,e,o)),Sf(r)}else YM(r);else if(3==(o=e.o)||0==o&&0<r.I||!(1==s&&function(r,e){return!(VM(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Uc(Gt(r.Ha,r,e),eN(r,r.C)),r.C++,0)))}(r,e)||2==s&&Bv(r)))switch(i&&0<i.length&&(e=r.i,e.i=e.i.concat(i)),o){case 1:Ws(r,5);break;case 4:Ws(r,10);break;case 3:Ws(r,6);break;default:Ws(r,2)}}function eN(r,e){var i=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(i*=2),i*e}function Ws(r,e){if(r.h.info("Error code "+e),2==e){var i=null;r.j&&(i=null);var s=Gt(r.jb,r);i||(i=new zs("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||vf(i,"https"),Cf(i)),function(r,e){var i=new ff;if(ue.Image){var s=new Image;s.onload=of(Ef,i,s,"TestLoadImage: loaded",!0,e),s.onerror=of(Ef,i,s,"TestLoadImage: error",!1,e),s.onabort=of(Ef,i,s,"TestLoadImage: abort",!1,e),s.ontimeout=of(Ef,i,s,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(i.toString(),s)}else Cn(2);r.G=0,r.j&&r.j.va(e),tN(r),KM(r)}function tN(r){r.G=0,r.I=-1,r.j&&((0!=jM(r.i).length||0!=r.l.length)&&(r.i.i.length=0,tv(r.l),r.l.length=0),r.j.ua())}function nN(r,e,i){var s=function(r){return r instanceof zs?bi(r):new zs(r,void 0)}(i);if(""!=s.i)e&&bf(s,e+"."+s.i),wf(s,s.m);else{var o=ue.location;s=function(r,e,i,s){var o=new zs(null,void 0);return r&&vf(o,r),e&&bf(o,e),i&&wf(o,i),s&&(o.l=s),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,i)}return r.aa&&rv(r.aa,function(a,l){Ke(s,l,a)}),i=r.sa,(e=r.D)&&i&&Ke(s,e,i),Ke(s,"VER",r.ma),Zc(r,s),s}function rN(r,e,i){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gt(i&&r.Ba&&!r.qa?new Qc({ib:!0}):r.qa)).L=r.H,e}function iN(){}function Af(){if(va&&!(10<=Number(u7)))throw Error("Environmental error: no available transport.")}function Hn(r,e){Pt.call(this),this.g=new WM(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!af(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!af(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ea(this)}function sN(r){Iv.call(this);var e=r.__sm__;if(e){e:{for(var i in e){r=i;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function oN(){Tv.call(this),this.status=1}function Ea(r){this.g=r}(z=gt.prototype).ea=function(r,e,i,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sv.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:Sv),this.g.onreadystatechange=Gt(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(a){return void HM(this,a)}r=i||"";var o=new wa(this.headers);s&&Nv(s,function(a,l){o.set(l,a)}),s=function(r){e:{for(var e=W7,i=r.length,s="string"==typeof r?r.split(""):r,o=0;o<i;o++)if(o in s&&e.call(void 0,s[o],o,r)){e=o;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(o.T()),i=ue.FormData&&r instanceof ue.FormData,!(0<=WA(q7,e))||s||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(a,l){this.g.setRequestHeader(l,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qM(this),0<this.B&&((this.K=function(r){return va&&a7()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.pa,this)):this.A=Ev(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(a){HM(this,a)}},z.pa=function(){void 0!==X_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))},z.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,zt(this,"complete"),zt(this,"abort"),If(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),If(this,!0)),gt.Z.M.call(this)},z.Fa=function(){this.s||(this.F||this.v||this.l?GM(this):this.cb())},z.cb=function(){GM(this)},z.ba=function(){try{return 2<wi(this)?this.g.status:-1}catch(r){return-1}},z.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},z.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),$7(e)}},z.Da=function(){return this.m},z.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=WM.prototype).ma=8,z.G=1,z.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},z.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var e=new $c(this,this.h,r,void 0),i=this.s;if(this.P&&(i?tM(i=ZA(i),this.P):i=this.P),null===this.o&&(e.H=i),this.ja)e:{for(var s=0,o=0;o<this.l.length;o++){var a=this.l[o];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(s+=a)){s=o;break e}if(4096===s||o===this.l.length-1){s=o+1;break e}}s=1e3}else s=1e3;s=JM(this,e,s),Ke(o=bi(this.F),"RID",r),Ke(o,"CVER",22),this.D&&Ke(o,"X-HTTP-Session-Id",this.D),Zc(this,o),this.o&&i&&Vv(o,this.o,i),Ov(this.i,e),this.Ra&&Ke(o,"TYPE","init"),this.ja?(Ke(o,"$req",s),Ke(o,"SID","null"),e.$=!0,Av(e,o,null)):Av(e,o,s),this.G=2}}else 3==this.G&&(r?QM(this,r):0==this.l.length||FM(this.i)||QM(this))},z.Ga=function(){if(this.u=null,XM(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Uc(Gt(this.bb,this),r)}},z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Cn(10),Tf(this),XM(this))},z.ab=function(){null!=this.v&&(this.v=null,Tf(this),Bv(this),Cn(19))},z.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Cn(2)):(this.h.info("Failed to ping google.com"),Cn(1))},(z=iN.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Oa=function(){},Af.prototype.g=function(r,e){return new Hn(r,e)},qt(Hn,Pt),Hn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,i=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),vv(Gt(r.hb,r,e))),Cn(0),r.W=e,r.aa=i||{},r.N=r.X,r.F=nN(r,null,r.W),Sf(r)},Hn.prototype.close=function(){Lv(this.g)},Hn.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,jv(this.g,e)}else this.v?((e={}).__data__=_v(r),jv(this.g,e)):jv(this.g,r)},Hn.prototype.M=function(){this.g.j=null,delete this.j,Lv(this.g),delete this.g,Hn.Z.M.call(this)},qt(sN,Iv),qt(oN,Tv),qt(Ea,iN),Ea.prototype.xa=function(){zt(this.g,"a")},Ea.prototype.wa=function(r){zt(this.g,new sN(r))},Ea.prototype.va=function(r){zt(this.g,new oN(r))},Ea.prototype.ua=function(){zt(this.g,"b")},Af.prototype.createWebChannel=Af.prototype.g,Hn.prototype.send=Hn.prototype.u,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,gf.NO_ERROR=0,gf.TIMEOUT=8,gf.HTTP_ERROR=6,wM.COMPLETE="complete",EM.EventType=Hc,Hc.OPEN="a",Hc.CLOSE="b",Hc.ERROR="c",Hc.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,gt.prototype.listenOnce=gt.prototype.O,gt.prototype.getLastError=gt.prototype.La,gt.prototype.getLastErrorCode=gt.prototype.Da,gt.prototype.getStatus=gt.prototype.ba,gt.prototype.getResponseJson=gt.prototype.Qa,gt.prototype.getResponseText=gt.prototype.ga,gt.prototype.send=gt.prototype.ea;var Mf=gf,cN=wM,lN=$s,Hv_PROXY=10,Hv_NOPROXY=11,dN=Qc,el=EM,hN=gt;class Wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Da="9.0.1";const ts=new $A("@firebase/firestore");function $v(){return ts.logLevel}function L(r,...e){if(ts.logLevel<=Se.DEBUG){const i=e.map(Gv);ts.debug(`Firestore (${Da}): ${r}`,...i)}}function mt(r,...e){if(ts.logLevel<=Se.ERROR){const i=e.map(Gv);ts.error(`Firestore (${Da}): ${r}`,...i)}}function Nf(r,...e){if(ts.logLevel<=Se.WARN){const i=e.map(Gv);ts.warn(`Firestore (${Da}): ${r}`,...i)}}function Gv(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(i){return r}}function Q(r="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+r;throw mt(e),new Error(e)}function re(r,e){r||Q()}function H(r,e){return r}const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ft{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class fN{constructor(e,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class J7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Wt.UNAUTHENTICATED))}shutdown(){}}class X7{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var s=this;let o=this.i;const a=f=>this.i!==o?(o=this.i,i(f)):Promise.resolve();let l=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ft,e.enqueueRetryable(()=>a(this.currentUser))};const d=f=>{e.enqueueRetryable(q(function*(){L("FirebaseCredentialsProvider","Auth detected"),s.auth=f,s.auth.addAuthTokenListener(s.o),yield l.promise,yield a(s.currentUser)}))};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(L("FirebaseCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ft)}},0),e.enqueueRetryable(q(function*(){0===s.i&&(yield l.promise,yield a(s.currentUser))}))}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(L("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(re("string"==typeof s.accessToken),new fN(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return re(null===e||"string"==typeof e),new Wt(e)}}class Z7{constructor(e,i,s){this.h=e,this.l=i,this.m=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class eW{constructor(e,i,s){this.h=e,this.l=i,this.m=s}getToken(){return Promise.resolve(new Z7(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.g(s),this.p=s=>i.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function tW(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}$n.T=-1;class pN{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=tW(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<i&&(s+=e.charAt(o[a]%e.length))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function Ia(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}class Kt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new P(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new P(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new P(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*i));return new Kt(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Kt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mN(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ks(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function yN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class tl{constructor(e,i,s){void 0===i?i=0:i>e.length&&Q(),void 0===s?s=e.length-i:s>e.length-i&&Q(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return 0===tl.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof tl?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const a=e.get(o),l=i.get(o);if(a<l)return-1;if(a>l)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class xe extends tl{construct(e,i,s){return new xe(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new P(A.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new xe(i)}static emptyPath(){return new xe([])}}const nW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends tl{construct(e,i,s){return new on(e,i,s)}static isValidIdentifier(e){return nW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const i=[];let s="",o=0;const a=()=>{if(0===s.length)throw new P(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let l=!1;for(;o<e.length;){const d=e[o];if("\\"===d){if(o+1===e.length)throw new P(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new P(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,o+=2}else"`"===d?(l=!l,o++):"."!==d||l?(s+=d,o++):(a(),o++)}if(a(),l)throw new P(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}class Ta{constructor(e){this.fields=e,e.sort(on.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(i,s)=>i.isEqual(s))}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new Vt(i)}static fromUint8Array(e){const i=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Vt(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const rW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(re(!!r),"string"==typeof r){let e=0;const i=rW.exec(r);if(re(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Sa(r){return"string"==typeof r?Vt.fromBase64String(r):Vt.fromUint8Array(r)}function qv(r){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function _N(r){const e=r.mapValue.fields.__previous_value__;return qv(e)?_N(e):e}function nl(r){const e=ns(r.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}function Qs(r){return null==r}function Rf(r){return 0===r&&1/r==-1/0}class K{constructor(e){this.path=e}static fromPath(e){return new K(xe.fromString(e))}static fromName(e){return new K(xe.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===xe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return xe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new xe(e.slice()))}}function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qv(r)?4:10:Q()}function Jr(r,e){const i=Js(r);if(i!==Js(e))return!1;switch(i){case 0:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nl(r).isEqual(nl(e));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=ns(s.timestampValue),l=ns(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return o=e,Sa(r.bytesValue).isEqual(Sa(o.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,o){return yt(s.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(o.geoPointValue.longitude)}(r,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return yt(s.integerValue)===yt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=yt(s.doubleValue),l=yt(o.doubleValue);return a===l?Rf(a)===Rf(l):isNaN(a)&&isNaN(l)}return!1}(r,e);case 9:return Ia(r.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(s,o){const a=s.mapValue.fields||{},l=o.mapValue.fields||{};if(mN(a)!==mN(l))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(void 0===l[d]||!Jr(a[d],l[d])))return!1;return!0}(r,e);default:return Q()}var o}function rl(r,e){return void 0!==(r.values||[]).find(i=>Jr(i,e))}function xa(r,e){const i=Js(r),s=Js(e);if(i!==s)return Ce(i,s);switch(i){case 0:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(o,a){const l=yt(o.integerValue||o.doubleValue),d=yt(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(r,e);case 3:return bN(r.timestampValue,e.timestampValue);case 4:return bN(nl(r),nl(e));case 5:return Ce(r.stringValue,e.stringValue);case 6:return function(o,a){const l=Sa(o),d=Sa(a);return l.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),d=a.split("/");for(let f=0;f<l.length&&f<d.length;f++){const m=Ce(l[f],d[f]);if(0!==m)return m}return Ce(l.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,a){const l=Ce(yt(o.latitude),yt(a.latitude));return 0!==l?l:Ce(yt(o.longitude),yt(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(o,a){const l=o.values||[],d=a.values||[];for(let f=0;f<l.length&&f<d.length;++f){const m=xa(l[f],d[f]);if(m)return m}return Ce(l.length,d.length)}(r.arrayValue,e.arrayValue);case 10:return function(o,a){const l=o.fields||{},d=Object.keys(l),f=a.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let _=0;_<d.length&&_<m.length;++_){const v=Ce(d[_],m[_]);if(0!==v)return v;const b=xa(l[d[_]],f[m[_]]);if(0!==b)return b}return Ce(d.length,m.length)}(r.mapValue,e.mapValue);default:throw Q()}}function bN(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Ce(r,e);const i=ns(r),s=ns(e),o=Ce(i.seconds,s.seconds);return 0!==o?o:Ce(i.nanos,s.nanos)}function zv(r){return Wv(r)}function Wv(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const o=ns(s);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Sa(r.bytesValue).toBase64():"referenceValue"in r?K.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let o="[",a=!0;for(const l of s.values||[])a?a=!1:o+=",",o+=Wv(l);return o+"]"}(r.arrayValue):"mapValue"in r?function(s){const o=Object.keys(s.fields||{}).sort();let a="{",l=!0;for(const d of o)l?l=!1:a+=",",a+=`${d}:${Wv(s.fields[d])}`;return a+"}"}(r.mapValue):Q();var e}function Kv(r){return!!r&&"integerValue"in r}function Qv(r){return!!r&&"arrayValue"in r}function wN(r){return!!r&&"nullValue"in r}function CN(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Of(r){return!!r&&"mapValue"in r}function il(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ks(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=il(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=il(r.arrayValue.values[i]);return e}return Object.assign({},r)}class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Of(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(i)}setAll(e){let i=on.emptyPath(),s={},o=[];e.forEach((l,d)=>{if(!i.isImmediateParentOf(d)){const f=this.getFieldsMap(i);this.applyChanges(f,s,o),s={},o=[],i=d.popLast()}l?s[d.lastSegment()]=il(l):o.push(d.lastSegment())});const a=this.getFieldsMap(i);this.applyChanges(a,s,o)}delete(e){const i=this.field(e.popLast());Of(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ks(i,(o,a)=>e[o]=a);for(const o of s)delete e[o]}clone(){return new an(il(this.value))}}function EN(r){const e=[];return Ks(r.fields,(i,s)=>{const o=new on([i]);if(Of(s)){const a=EN(s.mapValue).fields;if(0===a.length)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)}),new Ta(e)}class Qe{constructor(e,i,s,o,a){this.key=e,this.documentType=i,this.version=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,fe.min(),an.empty(),0)}static newFoundDocument(e,i,s){return new Qe(e,1,i,s,0)}static newNoDocument(e,i){return new Qe(e,2,i,an.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,an.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Qe(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iW{constructor(e,i=null,s=[],o=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=l,this.endAt=d,this.A=null}}function DN(r,e=null,i=[],s=[],o=null,a=null,l=null){return new iW(r,e,i,s,o,a,l)}function sl(r){const e=H(r);if(null===e.A){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+zv(r.value)}(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>{return(o=s).field.canonicalString()+o.dir;var o}).join(","),Qs(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=Vf(e.startAt)),e.endAt&&(i+="|ub:",i+=Vf(e.endAt)),e.A=i}return e.A}function Pf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<r.orderBy.length;o++)if(!pW(r.orderBy[o],e.orderBy[o]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let o=0;o<r.filters.length;o++)if((i=r.filters[o]).op!==(s=e.filters[o]).op||!i.field.isEqual(s.field)||!Jr(i.value,s.value))return!1;var i,s;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!SN(r.startAt,e.startAt)&&SN(r.endAt,e.endAt)}function Ff(r){return K.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class En extends class{}{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?"in"===i||"not-in"===i?this.R(e,i,s):new aW(e,i,s):"array-contains"===i?new lW(e,s):"in"===i?new dW(e,s):"not-in"===i?new hW(e,s):"array-contains-any"===i?new fW(e,s):new En(e,i,s)}static R(e,i,s){return"in"===i?new uW(e,s):new cW(e,s)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.P(xa(i,this.value)):null!==i&&Js(this.value)===Js(i)&&this.P(xa(i,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Q()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aW extends En{constructor(e,i,s){super(e,i,s),this.key=K.fromName(s.referenceValue)}matches(e){const i=K.comparator(e.key,this.key);return this.P(i)}}class uW extends En{constructor(e,i){super(e,"in",i),this.keys=IN(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class cW extends En{constructor(e,i){super(e,"not-in",i),this.keys=IN(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function IN(r,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>K.fromName(s.referenceValue))}class lW extends En{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qv(i)&&rl(i.arrayValue,this.value)}}class dW extends En{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&rl(this.value.arrayValue,i)}}class hW extends En{constructor(e,i){super(e,"not-in",i)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!rl(this.value.arrayValue,i)}}class fW extends En{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qv(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>rl(this.value.arrayValue,s))}}class ol{constructor(e,i){this.position=e,this.before=i}}function Vf(r){return`${r.before?"b":"a"}:${r.position.map(e=>zv(e)).join(",")}`}class Aa{constructor(e,i="asc"){this.field=e,this.dir=i}}function pW(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function TN(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const a=e[o],l=r.position[o];if(s=a.field.isKeyField()?K.comparator(K.fromName(l.referenceValue),i.key):xa(l,i.data.field(a.field)),"desc"===a.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function SN(r,e){if(null===r)return null===e;if(null===e||r.before!==e.before||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Jr(r.position[i],e.position[i]))return!1;return!0}class Ci{constructor(e,i=null,s=[],o=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.V=null,this.S=null}}function Ma(r){return new Ci(r)}function Lf(r){return!Qs(r.limit)&&"F"===r.limitType}function jf(r){return!Qs(r.limit)&&"L"===r.limitType}function Na(r){const e=H(r);if(null===e.V){e.V=[];const i=function(r){for(const e of r.filters)if(e.v())return e.field;return null}(e),s=function(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}(e);if(null!==i&&null===s)i.isKeyField()||e.V.push(new Aa(i)),e.V.push(new Aa(on.keyField(),"asc"));else{let o=!1;for(const a of e.explicitOrderBy)e.V.push(a),a.field.isKeyField()&&(o=!0);if(!o){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Aa(on.keyField(),a))}}}return e.V}function or(r){const e=H(r);if(!e.S)if("F"===e.limitType)e.S=DN(e.path,e.collectionGroup,Na(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const a of Na(e))i.push(new Aa(a.field,"desc"===a.dir?"asc":"desc"));const s=e.endAt?new ol(e.endAt.position,!e.endAt.before):null,o=e.startAt?new ol(e.startAt.position,!e.startAt.before):null;e.S=DN(e.path,e.collectionGroup,i,e.filters,e.limit,s,o)}return e.S}function al(r,e){return Pf(or(r),or(e))&&r.limitType===e.limitType}function MN(r){return`${sl(or(r))}|lt:${r.limitType}`}function Zv(r){return`Query(target=${function(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(i=>{return`${(s=i).field.canonicalString()} ${s.op} ${zv(s.value)}`;var s}).join(", ")}]`),Qs(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(e+=", startAt: "+Vf(r.startAt)),r.endAt&&(e+=", endAt: "+Vf(r.endAt)),`Target(${e})`}(or(r))}; limitType=${r.limitType})`}function ul(r,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return null!==i.collectionGroup?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):K.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(r,e)&&function(i,s){for(const o of i.explicitOrderBy)if(!o.field.isKeyField()&&null===s.data.field(o.field))return!1;return!0}(r,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(r,e)&&(s=e,!((i=r).startAt&&!TN(i.startAt,Na(i),s)||i.endAt&&TN(i.endAt,Na(i),s)));var i,s}function NN(r){return(e,i)=>{let s=!1;for(const o of Na(r)){const a=gW(o,e,i);if(0!==a)return a;s=s||o.field.isKeyField()}return 0}}function gW(r,e,i){const s=r.field.isKeyField()?K.comparator(e.key,i.key):function(o,a,l){const d=a.data.field(o),f=l.data.field(o);return null!==d&&null!==f?xa(d,f):Q()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Q()}}function RN(r,e){if(r.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function kN(r){return{integerValue:""+r}}function ON(r,e){return function(r){return"number"==typeof r&&Number.isInteger(r)&&!Rf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?kN(e):RN(r,e)}class Bf{constructor(){this._=void 0}}function mW(r,e,i){return r instanceof Ra?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&(a.fields.__previous_value__=o),{mapValue:a}}(i,e):r instanceof Ys?FN(r,e):r instanceof Xs?VN(r,e):function(s,o){const a=PN(s,o),l=LN(a)+LN(s.C);return Kv(a)&&Kv(s.C)?kN(l):RN(s.N,l)}(r,e)}function yW(r,e,i){return r instanceof Ys?FN(r,e):r instanceof Xs?VN(r,e):i}function PN(r,e){return r instanceof ka?Kv(i=e)||(s=i)&&"doubleValue"in s?e:{integerValue:0}:null;var s,i}class Ra extends Bf{}class Ys extends Bf{constructor(e){super(),this.elements=e}}function FN(r,e){const i=jN(e);for(const s of r.elements)i.some(o=>Jr(o,s))||i.push(s);return{arrayValue:{values:i}}}class Xs extends Bf{constructor(e){super(),this.elements=e}}function VN(r,e){let i=jN(e);for(const s of r.elements)i=i.filter(o=>!Jr(o,s));return{arrayValue:{values:i}}}class ka extends Bf{constructor(e,i){super(),this.N=e,this.C=i}}function LN(r){return yt(r.integerValue||r.doubleValue)}function jN(r){return Qv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class vW{constructor(e,i){this.version=e,this.transformResults=i}}class _t{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _t}static exists(e){return new _t(void 0,e)}static updateTime(e){return new _t(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Hf{}function bW(r,e,i){r instanceof ll?function(s,o,a){const l=s.value.clone(),d=$N(s.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(r,e,i):r instanceof rs?function(s,o,a){if(!Uf(s.precondition,o))return void o.convertToUnknownDocument(a.version);const l=$N(s.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(HN(s)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(r,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function eb(r,e,i){var o;r instanceof ll?function(s,o,a){if(!Uf(s.precondition,o))return;const l=s.value.clone(),d=GN(s.fieldTransforms,a,o);l.setAll(d),o.convertToFoundDocument(UN(o),l).setHasLocalMutations()}(r,e,i):r instanceof rs?function(s,o,a){if(!Uf(s.precondition,o))return;const l=GN(s.fieldTransforms,a,o),d=o.data;d.setAll(HN(s)),d.setAll(l),o.convertToFoundDocument(UN(o),d).setHasLocalMutations()}(r,e,i):Uf(r.precondition,o=e)&&o.convertToNoDocument(fe.min())}function wW(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),a=PN(s.transform,o||null);null!=a&&(null==i&&(i=an.empty()),i.set(s.field,a))}return i||null}function BN(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(i=r.fieldTransforms)&&void 0===s||i&&s&&Ia(i,s,(o,a)=>function(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(i=r.transform)instanceof Ys&&s instanceof Ys||i instanceof Xs&&s instanceof Xs?Ia(i.elements,s.elements,Jr):i instanceof ka&&s instanceof ka?Jr(i.C,s.C):i instanceof Ra&&s instanceof Ra);var i,s}(o,a))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var i,s}function UN(r){return r.isFoundDocument()?r.version:fe.min()}class ll extends Hf{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}}class rs extends Hf{constructor(e,i,s,o,a=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}}function HN(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function $N(r,e,i){const s=new Map;re(r.length===i.length);for(let o=0;o<i.length;o++){const a=r[o],l=a.transform,d=e.data.field(a.field);s.set(a.field,yW(l,d,i[o]))}return s}function GN(r,e,i){const s=new Map;for(const o of r){const a=o.transform,l=i.data.field(o.field);s.set(o.field,mW(a,l,e))}return s}class dl extends Hf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class tb extends Hf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class CW{constructor(e){this.count=e}}var vt,Te;function qN(r){switch(r){case A.OK:return Q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return Q()}}function zN(r){if(void 0===r)return mt("GRPC error has no .code"),A.UNKNOWN;switch(r){case vt.OK:return A.OK;case vt.CANCELLED:return A.CANCELLED;case vt.UNKNOWN:return A.UNKNOWN;case vt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case vt.INTERNAL:return A.INTERNAL;case vt.UNAVAILABLE:return A.UNAVAILABLE;case vt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case vt.NOT_FOUND:return A.NOT_FOUND;case vt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case vt.ABORTED:return A.ABORTED;case vt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case vt.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(Te=vt||(vt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";class At{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(0===o)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=i?s(e.key,i):1,o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,s,o,a){this.key=e,this.value=i,this.color=null!=s?s:Qt.RED,this.left=null!=o?o:Qt.EMPTY,this.right=null!=a?a:Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,a){return new Qt(null!=e?e:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,s),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===i(e,o.key)){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1,Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(r,e,i,s,o){return this}insert(r,e,i){return new Qt(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new WN(this.data.getIterator())}getIteratorFrom(e){return new WN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,a=s.getNext().key;if(0!==this.comparator(o,a))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new it(this.comparator);return i.data=e,i}}class WN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const EW=new At(K.comparator);function ar(){return EW}const DW=new At(K.comparator);function nb(){return DW}const IW=new At(K.comparator);const TW=new it(K.comparator);function Oe(...r){let e=TW;for(const i of r)e=e.add(i);return e}const SW=new it(Ce);function Gf(){return SW}class hl{constructor(e,i,s,o,a){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,i){const s=new Map;return s.set(e,fl.createSynthesizedTargetChangeForCurrentChange(e,i)),new hl(fe.min(),s,Gf(),ar(),Oe())}}class fl{constructor(e,i,s,o,a){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,i){return new fl(Vt.EMPTY_BYTE_STRING,i,Oe(),Oe(),Oe())}}class qf{constructor(e,i,s,o){this.k=e,this.removedTargetIds=i,this.key=s,this.$=o}}class QN{constructor(e,i){this.targetId=e,this.O=i}}class JN{constructor(e,i,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class YN{constructor(){this.F=0,this.M=ZN(),this.L=Vt.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Oe(),i=Oe(),s=Oe();return this.M.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Q()}}),new fl(this.L,this.B,e,i,s)}G(){this.U=!1,this.M=ZN()}H(e,i){this.U=!0,this.M=this.M.insert(e,i)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class xW{constructor(e){this.tt=e,this.et=new Map,this.nt=ar(),this.st=XN(),this.it=new it(Ce)}rt(e){for(const i of e.k)e.$&&e.$.isFoundDocument()?this.ot(i,e.$):this.at(i,e.key,e.$);for(const i of e.removedTargetIds)this.at(i,e.key,e.$)}ct(e){this.forEachTarget(e,i=>{const s=this.ut(i);switch(e.state){case 0:this.ht(i)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(i);break;case 3:this.ht(i)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),s.j(e.resumeToken));break;default:Q()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.et.forEach((s,o)=>{this.ht(o)&&i(o)})}ft(e){const i=e.targetId,s=e.O.count,o=this.dt(i);if(o){const a=o.target;if(Ff(a))if(0===s){const l=new K(a.path);this.at(i,l,Qe.newNoDocument(l,fe.min()))}else re(1===s);else this.wt(i)!==s&&(this.lt(i),this.it=this.it.add(i))}}_t(e){const i=new Map;this.et.forEach((a,l)=>{const d=this.dt(l);if(d){if(a.current&&Ff(d.target)){const f=new K(d.target.path);null!==this.nt.get(f)||this.gt(l,f)||this.at(l,f,Qe.newNoDocument(f,e))}a.K&&(i.set(l,a.W()),a.G())}});let s=Oe();this.st.forEach((a,l)=>{let d=!0;l.forEachWhile(f=>{const m=this.dt(f);return!m||2===m.purpose||(d=!1,!1)}),d&&(s=s.add(a))});const o=new hl(e,i,this.it,this.nt,s);return this.nt=ar(),this.st=XN(),this.it=new it(Ce),o}ot(e,i){if(!this.ht(e))return;const s=this.gt(e,i.key)?2:0;this.ut(e).H(i.key,s),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(e))}at(e,i,s){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,i)?o.H(i,1):o.J(i),this.st=this.st.insert(i,this.yt(i).delete(e)),s&&(this.nt=this.nt.insert(i,s))}removeTarget(e){this.et.delete(e)}wt(e){const i=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let i=this.et.get(e);return i||(i=new YN,this.et.set(e,i)),i}yt(e){let i=this.st.get(e);return i||(i=new it(Ce),this.st=this.st.insert(e,i)),i}ht(e){const i=null!==this.dt(e);return i||L("WatchChangeAggregator","Detected inactive target",e),i}dt(e){const i=this.et.get(e);return i&&i.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new YN),this.tt.getRemoteKeysForTarget(e).forEach(i=>{this.at(e,i,null)})}gt(e,i){return this.tt.getRemoteKeysForTarget(e).has(i)}}function XN(){return new At(K.comparator)}function ZN(){return new At(K.comparator)}const AW={asc:"ASCENDING",desc:"DESCENDING"},MW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class NW{constructor(e,i){this.databaseId=e,this.D=i}}function pl(r,e){return r.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eR(r,e){return r.D?e.toBase64():e.toUint8Array()}function RW(r,e){return pl(r,e.toTimestamp())}function Lt(r){return re(!!r),fe.fromTimestamp(function(e){const i=ns(e);return new Kt(i.seconds,i.nanos)}(r))}function rb(r,e){return(i=r,new xe(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function tR(r){const e=xe.fromString(r);return re(fR(e)),e}function gl(r,e){return rb(r.databaseId,e.path)}function Yr(r,e){const i=tR(e);if(i.get(1)!==r.databaseId.projectId)throw new P(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new P(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new K(rR(i))}function ib(r,e){return rb(r.databaseId,e)}function ml(r){return new xe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rR(r){return re(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function iR(r,e,i){return{name:gl(r,e),fields:i.value.mapValue.fields}}function aR(r,e){return{documents:[ib(r,e.path)]}}function uR(r,e){const i={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(i.parent=ib(r,s),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=ib(r,s.popLast()),i.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(d){if(0===d.length)return;const f=d.map(m=>function(_){if("=="===_.op){if(CN(_.value))return{unaryFilter:{field:Oa(_.field),op:"IS_NAN"}};if(wN(_.value))return{unaryFilter:{field:Oa(_.field),op:"IS_NULL"}}}else if("!="===_.op){if(CN(_.value))return{unaryFilter:{field:Oa(_.field),op:"IS_NOT_NAN"}};if(wN(_.value))return{unaryFilter:{field:Oa(_.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(_.field),op:LW(_.op),value:_.value}}}(m));return 1===f.length?f[0]:{compositeFilter:{op:"AND",filters:f}}}(e.filters);o&&(i.structuredQuery.where=o);const a=function(d){if(0!==d.length)return d.map(f=>{return{field:Oa((m=f).field),direction:VW(m.dir)};var m})}(e.orderBy);a&&(i.structuredQuery.orderBy=a);const l=(f=e.limit,r.D||Qs(f)?f:{value:f});var f;return null!==l&&(i.structuredQuery.limit=l),e.startAt&&(i.structuredQuery.startAt=dR(e.startAt)),e.endAt&&(i.structuredQuery.endAt=dR(e.endAt)),i}function cR(r){let e=function(r){const e=tR(r);return 4===e.length?xe.emptyPath():rR(e)}(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){re(1===s);const _=i.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];i.where&&(a=lR(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(_=>{return new Aa(Pa((v=_).field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let d=null;i.limit&&(d=function(_){let v;return v="object"==typeof _?_.value:_,Qs(v)?null:v}(i.limit));let f=null;i.startAt&&(f=hR(i.startAt));let m=null;return i.endAt&&(m=hR(i.endAt)),function(r,e,i,s,o,a,l,d){return new Ci(r,e,i,s,o,a,l,d)}(e,o,l,a,d,"F",f,m)}function lR(r){return r?void 0!==r.unaryFilter?[BW(r)]:void 0!==r.fieldFilter?[jW(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>lR(e)).reduce((e,i)=>e.concat(i)):Q():[]}function dR(r){return{before:r.before,values:r.position}}function hR(r){return new ol(r.values||[],!!r.before)}function VW(r){return AW[r]}function LW(r){return MW[r]}function Oa(r){return{fieldPath:r.canonicalString()}}function Pa(r){return on.fromServerFormat(r.fieldPath)}function jW(r){return En.create(Pa(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Q()}}(r.fieldFilter.op),r.fieldFilter.value)}function BW(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Pa(r.unaryFilter.field);return En.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Pa(r.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pa(r.unaryFilter.field);return En.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pa(r.unaryFilter.field);return En.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Q()}}function UW(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function fR(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Nr(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=pR(e)),e=HW(r.get(i),e);return pR(e)}function HW(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const a=r.charAt(o);switch(a){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=a}}return i}function pR(r){return r+"\x01\x01"}class Gn{constructor(e,i,s){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=s}}Gn.store="owner",Gn.key="owner";class is{constructor(e,i,s){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=s}}is.store="mutationQueues",is.keyPath="userId";class Ge{constructor(e,i,s,o,a){this.userId=e,this.batchId=i,this.localWriteTimeMs=s,this.baseMutations=o,this.mutations=a}}Ge.store="mutations",Ge.keyPath="batchId",Ge.userMutationsIndex="userMutationsIndex",Ge.userMutationsKeyPath=["userId","batchId"];class un{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,i){return[e,Nr(i)]}static key(e,i,s){return[e,Nr(i),s]}}un.store="documentMutations",un.PLACEHOLDER=new un;class st{constructor(e,i,s,o,a,l){this.unknownDocument=e,this.noDocument=i,this.document=s,this.hasCommittedMutations=o,this.readTime=a,this.parentPath=l}}st.store="remoteDocuments",st.readTimeIndex="readTimeIndex",st.readTimeIndexPath="readTime",st.collectionReadTimeIndex="collectionReadTimeIndex",st.collectionReadTimeIndexPath=["parentPath","readTime"];class Xr{constructor(e){this.byteSize=e}}Xr.store="remoteDocumentGlobal",Xr.key="remoteDocumentGlobalKey";class An{constructor(e,i,s,o,a,l,d){this.targetId=e,this.canonicalId=i,this.readTime=s,this.resumeToken=o,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=l,this.query=d}}An.store="targets",An.keyPath="targetId",An.queryTargetsIndexName="queryTargetsIndex",An.queryTargetsKeyPath=["canonicalId","targetId"];class Jt{constructor(e,i,s){this.targetId=e,this.path=i,this.sequenceNumber=s}}Jt.store="targetDocuments",Jt.keyPath=["targetId","path"],Jt.documentTargetsIndex="documentTargetsIndex",Jt.documentTargetsKeyPath=["path","targetId"];class qn{constructor(e,i,s,o){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=s,this.targetCount=o}}qn.key="targetGlobalKey",qn.store="targetGlobal";class Zs{constructor(e,i){this.collectionId=e,this.parent=i}}Zs.store="collectionParents",Zs.keyPath=["collectionId","parent"];class Di{constructor(e,i,s,o){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=s,this.inForeground=o}}Di.store="clientMetadata",Di.keyPath="clientId";class Fa{constructor(e,i,s){this.bundleId=e,this.createTime=i,this.version=s}}Fa.store="bundles",Fa.keyPath="bundleId";class Va{constructor(e,i,s){this.name=e,this.readTime=i,this.bundledQuery=s}}Va.store="namedQueries",Va.keyPath="name";const gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new k((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(i,a).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof k?i:k.resolve(i)}catch(i){return k.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):k.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):k.reject(i)}static resolve(e){return new k((i,s)=>{i(e)})}static reject(e){return new k((i,s)=>{s(e)})}static waitFor(e){return new k((i,s)=>{let o=0,a=0,l=!1;e.forEach(d=>{++o,d.next(()=>{++a,l&&a===o&&i()},f=>s(f))}),l=!0,a===o&&i()})}static or(e){let i=k.resolve(!1);for(const s of e)i=i.next(o=>o?k.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,a)=>{s.push(i.call(this,o,a))}),this.waitFor(s)}}function eo(r){return"IndexedDbTransactionError"===r.name}class ob{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&bW(a,e,s[o])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&eb(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&eb(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const s=e.get(i.key),o=s;this.applyToLocalView(o),s.isValidDocument()||o.convertToNoDocument(fe.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(i,s)=>BN(i,s))&&Ia(this.baseMutations,e.baseMutations,(i,s)=>BN(i,s))}}class ab{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){re(e.mutations.length===s.length);let o=IW;const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,s[l].version);return new ab(e,i,s,o)}}class ss{constructor(e,i,s,o,a=fe.min(),l=fe.min(),d=Vt.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _R{constructor(e){this.Wt=e}}function lb(r){const e=cR({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?function(r,e,i){return new Ci(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}(e,e.limit,"L"):e}class YW{constructor(){this.Gt=new db}addToCollectionParentIndex(e,i){return this.Gt.add(i),k.resolve()}getCollectionParents(e,i){return k.resolve(this.Gt.getEntries(i))}}class db{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new it(xe.comparator),a=!o.has(s);return this.index[i]=o.add(s),a}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new it(xe.comparator)).toArray()}}class Nn{constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class no{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new no(0)}static ie(){return new no(-1)}}function ro(r){return fb.apply(this,arguments)}function fb(){return(fb=q(function*(r){if(r.code!==A.FAILED_PRECONDITION||r.message!==gR)throw r;L("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class $a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(void 0!==s)for(const[o,a]of s)if(this.equalsFn(o,e))return a}has(e){return void 0!==this.get(e)}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(void 0!==o){for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,i]);o.push([e,i])}else this.inner[s]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(void 0===s)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return 1===s.length?delete this.inner[i]:s.splice(o,1),!0;return!1}forEach(e){Ks(this.inner,(i,s)=>{for(const[o,a]of s)e(o,a)})}isEmpty(){return yN(this.inner)}}class kR{constructor(e,i,s){this.He=e,this.In=i,this.Ht=s}An(e,i){return this.In.getAllMutationBatchesAffectingDocumentKey(e,i).next(s=>this.Rn(e,i,s))}Rn(e,i,s){return this.He.getEntry(e,i).next(o=>{for(const a of s)a.applyToLocalView(o);return o})}Pn(e,i){e.forEach((s,o)=>{for(const a of i)a.applyToLocalView(o)})}bn(e,i){return this.He.getEntries(e,i).next(s=>this.vn(e,s).next(()=>s))}vn(e,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,i).next(s=>this.Pn(i,s))}getDocumentsMatchingQuery(e,i,s){return K.isDocumentKey((o=i).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,i.path):function(r){return null!==r.collectionGroup}(i)?this.Sn(e,i,s):this.Dn(e,i,s);var o}Vn(e,i){return this.An(e,new K(i)).next(s=>{let o=nb();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}Sn(e,i,s){const o=i.collectionGroup;let a=nb();return this.Ht.getCollectionParents(e,o).next(l=>k.forEach(l,d=>{const f=(m=i,_=d.child(o),new Ci(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,_;return this.Dn(e,f,s).next(m=>{m.forEach((_,v)=>{a=a.insert(_,v)})})}).next(()=>a))}Dn(e,i,s){let o,a;return this.He.getDocumentsMatchingQuery(e,i,s).next(l=>(o=l,this.In.getAllMutationBatchesAffectingQuery(e,i))).next(l=>(a=l,this.Cn(e,a,o).next(d=>{o=d;for(const f of a)for(const m of f.mutations){const _=m.key;let v=o.get(_);null==v&&(v=Qe.newInvalidDocument(_),o=o.insert(_,v)),eb(m,v,f.localWriteTime),v.isFoundDocument()||(o=o.remove(_))}}))).next(()=>(o.forEach((l,d)=>{ul(i,d)||(o=o.remove(l))}),o))}Cn(e,i,s){let o=Oe();for(const l of i)for(const d of l.mutations)d instanceof rs&&null===s.get(d.key)&&(o=o.add(d.key));let a=s;return this.He.getEntries(e,o).next(l=>(l.forEach((d,f)=>{f.isFoundDocument()&&(a=a.insert(d,f))}),a))}}class yb{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Nn=s,this.xn=o}static kn(e,i){let s=Oe(),o=Oe();for(const a of i.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new yb(e,i.fromCache,s,o)}}class OR{$n(e){this.On=e}getDocumentsMatchingQuery(e,i,s,o){return 0===(a=i).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||s.isEqual(fe.min())?this.Fn(e,i):this.On.bn(e,o).next(a=>{const l=this.Mn(i,a);return(Lf(i)||jf(i))&&this.Ln(i.limitType,l,o,s)?this.Fn(e,i):($v()<=Se.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zv(i)),this.On.getDocumentsMatchingQuery(e,i,s).next(d=>(l.forEach(f=>{d=d.insert(f.key,f)}),d)))});var a}Mn(e,i){let s=new it(NN(e));return i.forEach((o,a)=>{ul(e,a)&&(s=s.add(a))}),s}Ln(e,i,s,o){if(s.size!==i.size)return!0;const a="F"===e?i.last():i.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Fn(e,i){return $v()<=Se.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Zv(i)),this.On.getDocumentsMatchingQuery(e,i,fe.min())}}class c9{constructor(e,i,s,o){this.persistence=e,this.Bn=i,this.N=o,this.Un=new At(Ce),this.qn=new $a(a=>sl(a),Pf),this.Kn=fe.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new kR(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Un))}}function FR(r,e){return _b.apply(this,arguments)}function _b(){return(_b=q(function*(r,e){const i=H(r);let s=i.In,o=i.Qn;const a=yield i.persistence.runTransaction("Handle user change","readonly",l=>{let d;return i.In.getAllMutationBatches(l).next(f=>(d=f,s=i.persistence.getMutationQueue(e),o=new kR(i.jn,s,i.persistence.getIndexManager()),s.getAllMutationBatches(l))).next(f=>{const m=[],_=[];let v=Oe();for(const b of d){m.push(b.batchId);for(const w of b.mutations)v=v.add(w.key)}for(const b of f){_.push(b.batchId);for(const w of b.mutations)v=v.add(w.key)}return o.bn(l,v).next(b=>({Wn:b,removedBatchIds:m,addedBatchIds:_}))})});return i.In=s,i.Qn=o,i.Bn.$n(i.Qn),a})).apply(this,arguments)}function l9(r,e){const i=H(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),a=i.jn.newChangeBuffer({trackRemovals:!0});return function(l,d,f,m){const _=f.batch,v=_.keys();let b=k.resolve();return v.forEach(w=>{b=b.next(()=>m.getEntry(d,w)).next(C=>{const D=f.docVersions.get(w);re(null!==D),C.version.compareTo(D)<0&&(_.applyToRemoteDocument(C,f),C.isValidDocument()&&m.addEntry(C,f.commitVersion))})}),b.next(()=>l.In.removeMutationBatch(d,_))}(i,s,e,a).next(()=>a.apply(s)).next(()=>i.In.performConsistencyCheck(s)).next(()=>i.Qn.bn(s,o))})}function VR(r){const e=H(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ze.getLastRemoteSnapshotVersion(i))}function d9(r,e){const i=H(r),s=e.snapshotVersion;let o=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=i.jn.newChangeBuffer({trackRemovals:!0});o=i.Un;const d=[];e.targetChanges.forEach((m,_)=>{const v=o.get(_);if(!v)return;d.push(i.ze.removeMatchingKeys(a,m.removedDocuments,_).next(()=>i.ze.addMatchingKeys(a,m.addedDocuments,_)));const b=m.resumeToken;if(b.approximateByteSize()>0){const w=v.withResumeToken(b,s).withSequenceNumber(a.currentSequenceNumber);o=o.insert(_,w),C=v,E=m,re((D=w).resumeToken.approximateByteSize()>0),(0===C.resumeToken.approximateByteSize()||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0)&&d.push(i.ze.updateTargetData(a,w))}var C,D,E});let f=ar();if(e.documentUpdates.forEach((m,_)=>{e.resolvedLimboDocuments.has(m)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(a,m))}),d.push(function(r,e,i,s,o){let a=Oe();return i.forEach(l=>a=a.add(l)),e.getEntries(r,a).next(l=>{let d=ar();return i.forEach((f,m)=>{const _=l.get(f),v=(null==o?void 0:o.get(f))||s;m.isNoDocument()&&m.version.isEqual(fe.min())?(e.removeEntry(f,v),d=d.insert(f,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(m,v),d=d.insert(f,m)):L("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",m.version)}),d})}(a,l,e.documentUpdates,s,void 0).next(m=>{f=m})),!s.isEqual(fe.min())){const m=i.ze.getLastRemoteSnapshotVersion(a).next(_=>i.ze.setTargetsMetadata(a,a.currentSequenceNumber,s));d.push(m)}return k.waitFor(d).next(()=>l.apply(a)).next(()=>i.Qn.vn(a,f)).next(()=>f)}).then(a=>(i.Un=o,a))}function h9(r,e){const i=H(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),i.In.getNextMutationBatchAfterBatchId(s,e)))}function Ga(r,e){const i=H(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.ze.getTargetData(s,e).next(a=>a?(o=a,k.resolve(o)):i.ze.allocateTargetId(s).next(l=>(o=new ss(e,l,0,s.currentSequenceNumber),i.ze.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Un.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Un=i.Un.insert(s.targetId,s),i.qn.set(e,s.targetId)),s})}function qa(r,e,i){return vb.apply(this,arguments)}function vb(){return(vb=q(function*(r,e,i){const s=H(r),o=s.Un.get(e),a=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",a,l=>s.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!eo(l))throw l;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}s.Un=s.Un.remove(e),s.qn.delete(o.target)})).apply(this,arguments)}function Xf(r,e,i){const s=H(r);let o=fe.min(),a=Oe();return s.persistence.runTransaction("Execute query","readonly",l=>function(d,f,m){const _=H(d),v=_.qn.get(m);return void 0!==v?k.resolve(_.Un.get(v)):_.ze.getTargetData(f,m)}(s,l,or(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(l,d.targetId).next(f=>{a=f})}).next(()=>s.Bn.getDocumentsMatchingQuery(l,e,i?o:fe.min(),i?a:Oe())).next(d=>({documents:d,Gn:a})))}class m9{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,i){return k.resolve(this.Yn.get(i))}saveBundleMetadata(e,i){var s;return this.Yn.set(i.id,{id:(s=i).id,version:s.version,createTime:Lt(s.createTime)}),k.resolve()}getNamedQuery(e,i){return k.resolve(this.Xn.get(i))}saveNamedQuery(e,i){return this.Xn.set(i.name,{name:(s=i).name,query:lb(s.bundledQuery),readTime:Lt(s.readTime)}),k.resolve();var s}}class Eb{constructor(){this.Zn=new it(jt.ts),this.es=new it(jt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,i){const s=new jt(e,i);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.rs(new jt(e,i))}os(e,i){e.forEach(s=>this.removeReference(s,i))}cs(e){const i=new K(new xe([])),s=new jt(i,e),o=new jt(i,e+1),a=[];return this.es.forEachInRange([s,o],l=>{this.rs(l),a.push(l.key)}),a}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const i=new K(new xe([])),s=new jt(i,e),o=new jt(i,e+1);let a=Oe();return this.es.forEachInRange([s,o],l=>{a=a.add(l.key)}),a}containsKey(e){const i=new jt(e,0),s=this.Zn.firstAfterOrEqual(i);return null!==s&&e.isEqual(s.key)}}class jt{constructor(e,i){this.key=e,this.ls=i}static ts(e,i){return K.comparator(e.key,i.key)||Ce(e.ls,i.ls)}static ns(e,i){return Ce(e.ls,i.ls)||K.comparator(e.key,i.key)}}class y9{constructor(e,i){this.Ht=e,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new it(jt.ts)}checkEmpty(e){return k.resolve(0===this.In.length)}addMutationBatch(e,i,s,o){const a=this.fs;this.fs++;const l=new ob(a,i,s,o);this.In.push(l);for(const d of o)this.ds=this.ds.add(new jt(d.key,a)),this.Ht.addToCollectionParentIndex(e,d.key.path.popLast());return k.resolve(l)}lookupMutationBatch(e,i){return k.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(e,i){const o=this._s(i+1),a=o<0?0:o;return k.resolve(this.In.length>a?this.In[a]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return k.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([s,o],l=>{const d=this.ws(l.ls);a.push(d)}),k.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new it(Ce);return i.forEach(o=>{const a=new jt(o,0),l=new jt(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,l],d=>{s=s.add(d.ls)})}),k.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let a=s;K.isDocumentKey(a)||(a=a.child(""));const l=new jt(new K(a),0);let d=new it(Ce);return this.ds.forEachWhile(f=>{const m=f.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.ls)),!0)},l),k.resolve(this.gs(d))}gs(e){const i=[];return e.forEach(s=>{const o=this.ws(s);null!==o&&i.push(o)}),i}removeMutationBatch(e,i){re(0===this.ys(i.batchId,"removed")),this.In.shift();let s=this.ds;return k.forEach(i.mutations,o=>{const a=new jt(o.key,i.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,i){const s=new jt(i,0),o=this.ds.firstAfterOrEqual(s);return k.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return k.resolve()}ys(e,i){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const i=this._s(e);return i<0||i>=this.In.length?null:this.In[i]}}class _9{constructor(e,i){this.Ht=e,this.ps=i,this.docs=new At(K.comparator),this.size=0}addEntry(e,i,s){const o=i.key,a=this.docs.get(o),l=a?a.size:0,d=this.ps(i);return this.docs=this.docs.insert(o,{document:i.clone(),size:d,readTime:s}),this.size+=d-l,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return k.resolve(s?s.document.clone():Qe.newInvalidDocument(i))}getEntries(e,i){let s=ar();return i.forEach(o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.clone():Qe.newInvalidDocument(o))}),k.resolve(s)}getDocumentsMatchingQuery(e,i,s){let o=ar();const a=new K(i.path.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:f,readTime:m}}=l.getNext();if(!i.path.isPrefixOf(d.path))break;m.compareTo(s)<=0||ul(i,f)&&(o=o.insert(f.key,f.clone()))}return k.resolve(o)}Es(e,i){return k.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new v9(this)}getSize(e){return k.resolve(this.size)}}class v9 extends class{constructor(){this.changes=new $a(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}getReadTime(e){const i=this.changes.get(e);return i?i.readTime:fe.min()}addEntry(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})}removeEntry(e,i=null){this.assertNotApplied(),this.changes.set(e,{document:Qe.newInvalidDocument(e),readTime:i})}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?k.resolve(s.document):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.document.isValidDocument()?i.push(this.Se.addEntry(e,o.document,this.getReadTime(s))):this.Se.removeEntry(s)}),k.waitFor(i)}getFromCache(e,i){return this.Se.getEntry(e,i)}getAllFromCache(e,i){return this.Se.getEntries(e,i)}}class b9{constructor(e){this.persistence=e,this.Ts=new $a(i=>sl(i),Pf),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Is=0,this.As=new Eb,this.targetCount=0,this.Rs=no.se()}forEachTarget(e,i){return this.Ts.forEach((s,o)=>i(o)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Is&&(this.Is=i),k.resolve()}ae(e){this.Ts.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Rs=new no(i),this.highestTargetId=i),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,i){return this.ae(i),this.targetCount+=1,k.resolve()}updateTargetData(e,i){return this.ae(i),k.resolve()}removeTargetData(e,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,i,s){let o=0;const a=[];return this.Ts.forEach((l,d)=>{d.sequenceNumber<=i&&null===s.get(d.targetId)&&(this.Ts.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),k.waitFor(a).next(()=>o)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,i){const s=this.Ts.get(i)||null;return k.resolve(s)}addMatchingKeys(e,i,s){return this.As.ss(i,s),k.resolve()}removeMatchingKeys(e,i,s){this.As.os(i,s);const o=this.persistence.referenceDelegate,a=[];return o&&i.forEach(l=>{a.push(o.markPotentiallyOrphaned(e,l))}),k.waitFor(a)}removeMatchingKeysForTargetId(e,i){return this.As.cs(i),k.resolve()}getMatchingKeysForTargetId(e,i){const s=this.As.hs(i);return k.resolve(s)}containsKey(e,i){return k.resolve(this.As.containsKey(i))}}class w9{constructor(e,i){this.Ps={},this.Le=new $n(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new b9(this),this.Ht=new YW,this.He=new _9(this.Ht,s=>this.referenceDelegate.bs(s)),this.N=new _R(i),this.Je=new m9(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let i=this.Ps[e.toKey()];return i||(i=new y9(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,i,s){L("MemoryPersistence","Starting transaction:",e);const o=new C9(this.Le.next());return this.referenceDelegate.vs(),s(o).next(a=>this.referenceDelegate.Vs(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ss(e,i){return k.or(Object.values(this.Ps).map(s=>()=>s.containsKey(e,i)))}}class C9 extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Db{constructor(e){this.persistence=e,this.Ds=new Eb,this.Cs=null}static Ns(e){return new Db(e)}get xs(){if(this.Cs)return this.Cs;throw Q()}addReference(e,i,s){return this.Ds.addReference(s,i),this.xs.delete(s.toString()),k.resolve()}removeReference(e,i,s){return this.Ds.removeReference(s,i),this.xs.add(s.toString()),k.resolve()}markPotentiallyOrphaned(e,i){return this.xs.add(i.toString()),k.resolve()}removeTarget(e,i){this.Ds.cs(i.targetId).forEach(o=>this.xs.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(a=>this.xs.add(a.toString()))}).next(()=>s.removeTargetData(e,i))}vs(){this.Cs=new Set}Vs(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.xs,s=>{const o=K.fromPath(s);return this.ks(e,o).next(a=>{a||i.removeEntry(o)})}).next(()=>(this.Cs=null,i.apply(e)))}updateLimboDocument(e,i){return this.ks(e,i).next(s=>{s?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(e){return 0}ks(e,i){return k.or([()=>k.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ss(e,i)])}}class Sb{constructor(){this.activeTargetIds=Gf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(){this.yi=new Sb,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,i,s){this.pi[e]=i}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Sb,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class E9{Ei(e){}shutdown(){}}class GR{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const D9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class I9{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class T9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,i,s,o){const a=this.Bi(e,i);L("RestConnection","Sending: ",a,s);const l={};return this.Ui(l,o),this.qi(e,a,l,s).then(d=>(L("RestConnection","Received: ",d),d),d=>{throw Nf("RestConnection",`${e} failed with error: `,d,"url: ",a,"request:",s),d})}Ki(e,i,s,o){return this.Li(e,i,s,o)}Ui(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const s in i.authHeaders)i.authHeaders.hasOwnProperty(s)&&(e[s]=i.authHeaders[s])}Bi(e,i){return`${this.Fi}/v1/${i}:${D9[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,i,s,o){return new Promise((a,l)=>{const d=new hN;d.listenOnce(cN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Mf.NO_ERROR:const m=d.getResponseJson();L("Connection","XHR received:",JSON.stringify(m)),a(m);break;case Mf.TIMEOUT:L("Connection",'RPC "'+e+'" timed out'),l(new P(A.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const _=d.getStatus();if(L("Connection",'RPC "'+e+'" failed with status:',_,"response text:",d.getResponseText()),_>0){const v=d.getResponseJson().error;if(v&&v.status&&v.message){const b=function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(C)>=0?C:A.UNKNOWN}(v.status);l(new P(b,v.message))}else l(new P(A.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new P(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{L("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(o);d.send(i,"POST",f,s,15)})}ji(e,i){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=new Af,a=pf(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new dN({})),this.Ui(l.initMessageHeaders,i),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zh())||"object"==typeof navigator&&"ReactNative"===navigator.product||Zh().indexOf("Electron/")>=0||function(){var r=Zh();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}()||Zh().indexOf("MSAppHost/")>=0||function(){var r="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof r&&void 0!==r.id}()||(l.httpHeadersOverwriteParam="$httpHeaders");const d=s.join("");L("Connection","Creating WebChannel: "+d,l);const f=o.createWebChannel(d,l);let m=!1,_=!1;const v=new I9({vi:w=>{_?L("Connection","Not sending because WebChannel is closed:",w):(m||(L("Connection","Opening WebChannel transport."),f.open(),m=!0),L("Connection","WebChannel sending:",w),f.send(w))},Vi:()=>f.close()}),b=(w,C,D)=>{w.listen(C,E=>{try{D(E)}catch(S){setTimeout(()=>{throw S},0)}})};return b(f,el.EventType.OPEN,()=>{_||L("Connection","WebChannel transport opened.")}),b(f,el.EventType.CLOSE,()=>{_||(_=!0,L("Connection","WebChannel transport closed"),v.$i())}),b(f,el.EventType.ERROR,w=>{_||(_=!0,Nf("Connection","WebChannel transport errored:",w),v.$i(new P(A.UNAVAILABLE,"The operation could not be completed")))}),b(f,el.EventType.MESSAGE,w=>{var C;if(!_){const D=w.data[0];re(!!D);const E=D,S=E.error||(null===(C=E[0])||void 0===C?void 0:C.error);if(S){L("Connection","WebChannel received error:",S);const T=S.status;let B=function(le){const at=vt[le];if(void 0!==at)return zN(at)}(T),W=S.message;void 0===B&&(B=A.INTERNAL,W="Unknown error status: "+T+" with message "+S.message),_=!0,v.$i(new P(B,W)),f.close()}else L("Connection","WebChannel received:",D),v.Oi(D)}}),b(a,lN.STAT_EVENT,w=>{w.stat===Hv_PROXY?L("Connection","Detected buffering proxy"):w.stat===Hv_NOPROXY&&L("Connection","Detected no buffering proxy")}),setTimeout(()=>{v.ki()},0),v}}function tp(){return"undefined"!=typeof document?document:null}function wl(r){return new NW(r,!0)}class Ab{constructor(e,i,s=1e3,o=1.5,a=6e4){this.Oe=e,this.timerId=i,this.Qi=s,this.Wi=o,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const i=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),o=Math.max(0,i-s);o>0&&L("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class zR{constructor(e,i,s,o,a,l){this.Oe=e,this.er=s,this.nr=o,this.credentialsProvider=a,this.listener=l,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Ab(e,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return q(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return q(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,i){var s=this;return q(function*(){s._r(),s.rr.cancel(),s.sr++,3!==e?s.rr.reset():i&&i.code===A.RESOURCE_EXHAUSTED?(mt(i.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):i&&i.code===A.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(i)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===i&&this.yr(s)},s=>{e(()=>{const o=new P(A.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(o)})})}yr(e){const i=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{i(()=>this.pr(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}ur(){var e=this;this.state=4,this.rr.Xi(q(function*(){e.state=0,e.start()}))}pr(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return i=>{this.Oe.enqueueAndForget(()=>this.sr===e?i():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S9 extends zR{constructor(e,i,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle",i,s,a),this.N=o}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const i=function(r,e){let i;if("targetChange"in e){const s="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Q(),o=e.targetChange.targetIds||[],a=function(f,m){return f.D?(re(void 0===m||"string"==typeof m),Vt.fromBase64String(m||"")):(re(void 0===m||m instanceof Uint8Array),Vt.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(f){const m=void 0===f.code?A.UNKNOWN:zN(f.code);return new P(m,f.message||"")}(l);i=new JN(s,o,a,d||null)}else if("documentChange"in e){const s=e.documentChange,o=Yr(r,s.document.name),a=Lt(s.document.updateTime),l=new an({mapValue:{fields:s.document.fields}}),d=Qe.newFoundDocument(o,a,l);i=new qf(s.targetIds||[],s.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const s=e.documentDelete,o=Yr(r,s.document),a=s.readTime?Lt(s.readTime):fe.min(),l=Qe.newNoDocument(o,a);i=new qf([],s.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const s=e.documentRemove,o=Yr(r,s.document);i=new qf([],s.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Q();{const s=e.filter,a=new CW(s.count||0);i=new QN(s.targetId,a)}}var f;return i}(this.N,e),s=function(o){if(!("targetChange"in o))return fe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?fe.min():a.readTime?Lt(a.readTime):fe.min()}(e);return this.listener.Tr(i,s)}Ir(e){const i={};i.database=ml(this.N),i.addTarget=function(o,a){let l;const d=a.target;return l=Ff(d)?{documents:aR(o,d)}:{query:uR(o,d)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=eR(o,a.resumeToken):a.snapshotVersion.compareTo(fe.min())>0&&(l.readTime=pl(o,a.snapshotVersion.toTimestamp())),l}(this.N,e);const s=function(r,e){const i=function(s,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Q()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);s&&(i.labels=s),this.wr(i)}Ar(e){const i={};i.database=ml(this.N),i.removeTarget=e,this.wr(i)}}class x9 extends zR{constructor(e,i,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle",i,s,a),this.N=o,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const i=function(r,e){return r&&r.length>0?(re(void 0!==e),r.map(i=>function(s,o){let a=Lt(s.updateTime?s.updateTime:o);return a.isEqual(fe.min())&&(a=Lt(o)),new vW(a,s.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),s=Lt(e.commitTime);return this.listener.vr(s,i)}return re(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=ml(this.N),this.wr(e)}br(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>function(r,e){let i;if(e instanceof ll)i={update:iR(r,e.key,e.value)};else if(e instanceof dl)i={delete:gl(r,e.key)};else if(e instanceof rs)i={update:iR(r,e.key,e.data),updateMask:UW(e.fieldMask)};else{if(!(e instanceof tb))return Q();i={verify:gl(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(o,a){const l=a.transform;if(l instanceof Ra)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ys)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ka)return{fieldPath:a.field.canonicalString(),increment:l.C};throw Q()}(0,s))),e.precondition.isNone||(i.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:RW(r,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Q()),i;var o}(this.N,s))};this.wr(i)}}class A9 extends class{}{constructor(e,i,s){super(),this.credentials=e,this.nr=i,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new P(A.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,i,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(e,i,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===A.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new P(A.UNKNOWN,o.toString())})}Ki(e,i,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(e,i,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===A.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new P(A.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class M9{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(mt(i),this.$r=!1):L("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class N9{constructor(e,i,s,o,a){var l=this;this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=a,this.Qr.Ei(d=>{s.enqueueAndForget(q(function*(){var f;cs(l)&&(L("RemoteStore","Restarting streams for network reachability change."),yield(f=q(function*(m){const _=H(m);_.Kr.add(4),yield za(_),_.Wr.set("Unknown"),_.Kr.delete(4),yield Cl(_)}),function(m){return f.apply(this,arguments)})(l))}))}),this.Wr=new M9(s,o)}}function Cl(r){return Mb.apply(this,arguments)}function Mb(){return(Mb=q(function*(r){if(cs(r))for(const e of r.jr)yield e(!0)})).apply(this,arguments)}function za(r){return Nb.apply(this,arguments)}function Nb(){return(Nb=q(function*(r){for(const e of r.jr)yield e(!1)})).apply(this,arguments)}function np(r,e){const i=H(r);i.qr.has(e.targetId)||(i.qr.set(e.targetId,e),Ob(i)?kb(i):Ka(i).cr()&&Rb(i,e))}function El(r,e){const i=H(r),s=Ka(i);i.qr.delete(e),s.cr()&&WR(i,e),0===i.qr.size&&(s.cr()?s.lr():cs(i)&&i.Wr.set("Unknown"))}function Rb(r,e){r.Gr.Y(e.targetId),Ka(r).Ir(e)}function WR(r,e){r.Gr.Y(e),Ka(r).Ar(e)}function kb(r){r.Gr=new xW({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.qr.get(e)||null}),Ka(r).start(),r.Wr.Or()}function Ob(r){return cs(r)&&!Ka(r).ar()&&r.qr.size>0}function cs(r){return 0===H(r).Kr.size}function KR(r){r.Gr=void 0}function R9(r){return Pb.apply(this,arguments)}function Pb(){return(Pb=q(function*(r){r.qr.forEach((e,i)=>{Rb(r,e)})})).apply(this,arguments)}function k9(r,e){return Fb.apply(this,arguments)}function Fb(){return(Fb=q(function*(r,e){KR(r),Ob(r)?(r.Wr.Lr(e),kb(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function O9(r,e,i){return Vb.apply(this,arguments)}function Vb(){return(Vb=q(function*(r,e,i){if(r.Wr.set("Online"),e instanceof JN&&2===e.state&&e.cause)try{yield(s=q(function*(o,a){const l=a.cause;for(const d of a.targetIds)o.qr.has(d)&&(yield o.remoteSyncer.rejectListen(d,l),o.qr.delete(d),o.Gr.removeTarget(d))}),function(o,a){return s.apply(this,arguments)})(r,e)}catch(s){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield rp(r,s)}else if(e instanceof qf?r.Gr.rt(e):e instanceof QN?r.Gr.ft(e):r.Gr.ct(e),!i.isEqual(fe.min()))try{const s=yield VR(r.localStore);i.compareTo(s)>=0&&(yield function(o,a){const l=o.Gr._t(a);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.qr.get(f);m&&o.qr.set(f,m.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach(d=>{const f=o.qr.get(d);if(!f)return;o.qr.set(d,f.withResumeToken(Vt.EMPTY_BYTE_STRING,f.snapshotVersion)),WR(o,d);const m=new ss(f.target,d,1,f.sequenceNumber);Rb(o,m)}),o.remoteSyncer.applyRemoteEvent(l)}(r,i))}catch(s){L("RemoteStore","Failed to raise snapshot:",s),yield rp(r,s)}var s})).apply(this,arguments)}function rp(r,e,i){return Lb.apply(this,arguments)}function Lb(){return(Lb=q(function*(r,e,i){if(!eo(e))throw e;r.Kr.add(1),yield za(r),r.Wr.set("Offline"),i||(i=()=>VR(r.localStore)),r.asyncQueue.enqueueRetryable(q(function*(){L("RemoteStore","Retrying IndexedDB access"),yield i(),r.Kr.delete(1),yield Cl(r)}))})).apply(this,arguments)}function QR(r,e){return e().catch(i=>rp(r,i,e))}function Wa(r){return jb.apply(this,arguments)}function jb(){return(jb=q(function*(r){const e=H(r),i=ls(e);let s=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;P9(e);)try{const o=yield h9(e.localStore,s);if(null===o){0===e.Ur.length&&i.lr();break}s=o.batchId,F9(e,o)}catch(o){yield rp(e,o)}JR(e)&&YR(e)})).apply(this,arguments)}function P9(r){return cs(r)&&r.Ur.length<10}function F9(r,e){r.Ur.push(e);const i=ls(r);i.cr()&&i.Pr&&i.br(e.mutations)}function JR(r){return cs(r)&&!ls(r).ar()&&r.Ur.length>0}function YR(r){ls(r).start()}function V9(r){return Bb.apply(this,arguments)}function Bb(){return(Bb=q(function*(r){ls(r).Sr()})).apply(this,arguments)}function L9(r){return Ub.apply(this,arguments)}function Ub(){return(Ub=q(function*(r){const e=ls(r);for(const i of r.Ur)e.br(i.mutations)})).apply(this,arguments)}function j9(r,e,i){return Hb.apply(this,arguments)}function Hb(){return(Hb=q(function*(r,e,i){const s=r.Ur.shift(),o=ab.from(s,e,i);yield QR(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield Wa(r)})).apply(this,arguments)}function B9(r,e){return $b.apply(this,arguments)}function $b(){return($b=q(function*(r,e){var i;e&&ls(r).Pr&&(yield(i=q(function*(s,o){if(qN(a=o.code)&&a!==A.ABORTED){const l=s.Ur.shift();ls(s).hr(),yield QR(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield Wa(s)}var a}),function(s,o){return i.apply(this,arguments)})(r,e)),JR(r)&&YR(r)})).apply(this,arguments)}function qb(){return(qb=q(function*(r,e){const i=H(r);e?(i.Kr.delete(2),yield Cl(i)):e||(i.Kr.add(2),yield za(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function Ka(r){return r.zr||(r.zr=function(e,i,s){const o=H(e);return o.Cr(),new S9(i,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:R9.bind(null,r),Ci:k9.bind(null,r),Tr:O9.bind(null,r)}),r.jr.push(function(){var e=q(function*(i){i?(r.zr.hr(),Ob(r)?kb(r):r.Wr.set("Unknown")):(yield r.zr.stop(),KR(r))});return function(i){return e.apply(this,arguments)}}())),r.zr}function ls(r){return r.Hr||(r.Hr=function(e,i,s){const o=H(e);return o.Cr(),new x9(i,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:V9.bind(null,r),Ci:B9.bind(null,r),Vr:L9.bind(null,r),vr:j9.bind(null,r)}),r.jr.push(function(){var e=q(function*(i){i?(r.Hr.hr(),yield Wa(r)):(yield r.Hr.stop(),r.Ur.length>0&&(L("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(i){return e.apply(this,arguments)}}())),r.Hr}class zb{constructor(e,i,s,o,a){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,i,s,o,a){const l=Date.now()+s,d=new zb(e,i,l,o,a);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qa(r,e){if(mt("AsyncQueue",`${e}: ${r}`),eo(r))return new P(A.UNAVAILABLE,`${e}: ${r}`);throw r}class Ja{constructor(e){this.comparator=e?(i,s)=>e(i,s)||K.comparator(i.key,s.key):(i,s)=>K.comparator(i.key,s.key),this.keyedMap=nb(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new Ja(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class XR{constructor(){this.Jr=new At(K.comparator)}track(e){const i=e.doc.key,s=this.Jr.get(i);s?0!==e.type&&3===s.type?this.Jr=this.Jr.insert(i,e):3===e.type&&1!==s.type?this.Jr=this.Jr.insert(i,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jr=this.Jr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jr=this.Jr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jr=this.Jr.remove(i):1===e.type&&2===s.type?this.Jr=this.Jr.insert(i,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jr=this.Jr.insert(i,{type:2,doc:e.doc}):Q():this.Jr=this.Jr.insert(i,e)}Yr(){const e=[];return this.Jr.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ya{constructor(e,i,s,o,a,l,d,f){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f}static fromInitialDocuments(e,i,s,o){const a=[];return i.forEach(l=>{a.push({type:0,doc:l})}),new Ya(e,i,Ja.emptySet(i),a,s,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&al(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class U9{constructor(){this.Xr=void 0,this.listeners=[]}}class H9{constructor(){this.queries=new $a(e=>MN(e),al),this.onlineState="Unknown",this.Zr=new Set}}function Kb(){return(Kb=q(function*(r,e){const i=H(r),s=e.query;let o=!1,a=i.queries.get(s);if(a||(o=!0,a=new U9),o)try{a.Xr=yield i.onListen(s)}catch(l){const d=Qa(l,`Initialization of query '${Zv(e.query)}' failed`);return void e.onError(d)}i.queries.set(s,a),a.listeners.push(e),e.eo(i.onlineState),a.Xr&&e.no(a.Xr)&&Yb(i)})).apply(this,arguments)}function Jb(){return(Jb=q(function*(r,e){const i=H(r),s=e.query;let o=!1;const a=i.queries.get(s);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),o=0===a.listeners.length)}if(o)return i.queries.delete(s),i.onUnlisten(s)})).apply(this,arguments)}function $9(r,e){const i=H(r);let s=!1;for(const o of e){const l=i.queries.get(o.query);if(l){for(const d of l.listeners)d.no(o)&&(s=!0);l.Xr=o}}s&&Yb(i)}function G9(r,e,i){const s=H(r),o=s.queries.get(e);if(o)for(const a of o.listeners)a.onError(i);s.queries.delete(e)}function Yb(r){r.Zr.forEach(e=>{e.next()})}class Xb{constructor(e,i,s){this.query=e,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)3!==o.type&&s.push(o);e=new Ya(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.io?this.oo(e)&&(this.so.next(e),i=!0):this.ao(e,this.onlineState)&&(this.co(e),i=!0),this.ro=e,i}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),i=!0),i}ao(e,i){return!e.fromCache||!(this.options.uo&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class tk{constructor(e){this.key=e}}class nk{constructor(e){this.key=e}}class rk{constructor(e,i){this.query=e,this._o=i,this.mo=null,this.current=!1,this.yo=Oe(),this.mutatedKeys=Oe(),this.po=NN(e),this.Eo=new Ja(this.po)}get To(){return this._o}Io(e,i){const s=i?i.Ao:new XR,o=i?i.Eo:this.Eo;let a=i?i.mutatedKeys:this.mutatedKeys,l=o,d=!1;const f=Lf(this.query)&&o.size===this.query.limit?o.last():null,m=jf(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,v)=>{const b=o.get(_),w=ul(this.query,v)?v:null,C=!!b&&this.mutatedKeys.has(b.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;b&&w?b.data.isEqual(w.data)?C!==D&&(s.track({type:3,doc:w}),E=!0):this.Ro(b,w)||(s.track({type:2,doc:w}),E=!0,(f&&this.po(w,f)>0||m&&this.po(w,m)<0)&&(d=!0)):!b&&w?(s.track({type:0,doc:w}),E=!0):b&&!w&&(s.track({type:1,doc:b}),E=!0,(f||m)&&(d=!0)),E&&(w?(l=l.add(w),a=D?a.add(_):a.delete(_)):(l=l.delete(_),a=a.delete(_)))}),Lf(this.query)||jf(this.query))for(;l.size>this.query.limit;){const _=Lf(this.query)?l.last():l.first();l=l.delete(_.key),a=a.delete(_.key),s.track({type:1,doc:_})}return{Eo:l,Ao:s,Ln:d,mutatedKeys:a}}Ro(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s){const o=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const a=e.Ao.Yr();a.sort((m,_)=>function(v,b){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return w(v)-w(b)}(m.type,_.type)||this.po(m.doc,_.doc)),this.Po(s);const l=i?this.bo():[],d=0===this.yo.size&&this.current?1:0,f=d!==this.mo;return this.mo=d,0!==a.length||f?{snapshot:new Ya(this.query,e.Eo,o,a,e.mutatedKeys,0===d,f,!1),vo:l}:{vo:l}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new XR,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach(i=>this._o=this._o.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=Oe(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const i=[];return e.forEach(s=>{this.yo.has(s)||i.push(new nk(s))}),this.yo.forEach(s=>{e.has(s)||i.push(new tk(s))}),i}So(e){this._o=e.Gn,this.yo=Oe();const i=this.Io(e.documents);return this.applyChanges(i,!0)}Do(){return Ya.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class W9{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class K9{constructor(e){this.key=e,this.Co=!1}}class Q9{constructor(e,i,s,o,a,l){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.No={},this.xo=new $a(d=>MN(d),al),this.ko=new Map,this.$o=new Set,this.Oo=new At(K.comparator),this.Fo=new Map,this.Mo=new Eb,this.Lo={},this.Bo=new Map,this.Uo=no.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function J9(r,e){return Zb.apply(this,arguments)}function Zb(){return(Zb=q(function*(r,e){const i=Cw(r);let s,o;const a=i.xo.get(e);if(a)s=a.targetId,i.sharedClientState.addLocalQueryTarget(s),o=a.view.Do();else{const l=yield Ga(i.localStore,or(e)),d=i.sharedClientState.addLocalQueryTarget(l.targetId);s=l.targetId,o=yield ew(i,e,s,"current"===d),i.isPrimaryClient&&np(i.remoteStore,l)}return o})).apply(this,arguments)}function ew(r,e,i,s){return tw.apply(this,arguments)}function tw(){return(tw=q(function*(r,e,i,s){r.Ko=(_,v,b)=>{return(w=q(function*(C,D,E,S){let T=D.view.Io(E);T.Ln&&(T=yield Xf(C.localStore,D.query,!1).then(({documents:le})=>D.view.Io(le,T)));const B=S&&S.targetChanges.get(D.targetId),W=D.view.applyChanges(T,C.isPrimaryClient,B);return dw(C,D.targetId,W.vo),W.snapshot}),function(C,D,E,S){return w.apply(this,arguments)})(r,_,v,b);var w};const o=yield Xf(r.localStore,e,!0),a=new rk(e,o.Gn),l=a.Io(o.documents),d=fl.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==r.onlineState),f=a.applyChanges(l,r.isPrimaryClient,d);dw(r,i,f.vo);const m=new W9(e,i,a);return r.xo.set(e,m),r.ko.has(i)?r.ko.get(i).push(e):r.ko.set(i,[e]),f.snapshot})).apply(this,arguments)}function Y9(r,e){return nw.apply(this,arguments)}function nw(){return(nw=q(function*(r,e){const i=H(r),s=i.xo.get(e),o=i.ko.get(s.targetId);if(o.length>1)return i.ko.set(s.targetId,o.filter(a=>!al(a,e))),void i.xo.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield qa(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),El(i.remoteStore,s.targetId),Xa(i,s.targetId)}).catch(ro))):(Xa(i,s.targetId),yield qa(i.localStore,s.targetId,!0))})).apply(this,arguments)}function rw(){return(rw=q(function*(r,e,i){const s=Ew(r);try{const o=yield function(a,l){const d=H(a),f=Kt.now(),m=l.reduce((v,b)=>v.add(b.key),Oe());let _;return d.persistence.runTransaction("Locally write mutations","readwrite",v=>d.Qn.bn(v,m).next(b=>{_=b;const w=[];for(const C of l){const D=wW(C,_.get(C.key));null!=D&&w.push(new rs(C.key,D,EN(D.value.mapValue),_t.exists(!0)))}return d.In.addMutationBatch(v,f,w,l)})).then(v=>(v.applyToLocalDocumentSet(_),{batchId:v.batchId,changes:_}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(a,l,d){let f=a.Lo[a.currentUser.toKey()];f||(f=new At(Ce)),f=f.insert(l,d),a.Lo[a.currentUser.toKey()]=f}(s,o.batchId,i),yield Ii(s,o.changes),yield Wa(s.remoteStore)}catch(o){const a=Qa(o,"Failed to persist write");i.reject(a)}})).apply(this,arguments)}function ik(r,e){return iw.apply(this,arguments)}function iw(){return(iw=q(function*(r,e){const i=H(r);try{const s=yield d9(i.localStore,e);e.targetChanges.forEach((o,a)=>{const l=i.Fo.get(a);l&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.Co=!0:o.modifiedDocuments.size>0?re(l.Co):o.removedDocuments.size>0&&(re(l.Co),l.Co=!1))}),yield Ii(i,s,e)}catch(s){yield ro(s)}})).apply(this,arguments)}function sk(r,e,i){const s=H(r);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const o=[];s.xo.forEach((a,l)=>{const d=l.view.eo(e);d.snapshot&&o.push(d.snapshot)}),function(a,l){const d=H(a);d.onlineState=l;let f=!1;d.queries.forEach((m,_)=>{for(const v of _.listeners)v.eo(l)&&(f=!0)}),f&&Yb(d)}(s.eventManager,e),o.length&&s.No.Tr(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Z9(r,e,i){return sw.apply(this,arguments)}function sw(){return(sw=q(function*(r,e,i){const s=H(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Fo.get(e),a=o&&o.key;if(a){let l=new At(K.comparator);l=l.insert(a,Qe.newNoDocument(a,fe.min()));const d=Oe().add(a),f=new hl(fe.min(),new Map,new it(Ce),l,d);yield ik(s,f),s.Oo=s.Oo.remove(a),s.Fo.delete(e),hw(s)}else yield qa(s.localStore,e,!1).then(()=>Xa(s,e,i)).catch(ro)})).apply(this,arguments)}function eK(r,e){return ow.apply(this,arguments)}function ow(){return(ow=q(function*(r,e){const i=H(r),s=e.batch.batchId;try{const o=yield l9(i.localStore,e);lw(i,s,null),cw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Ii(i,o)}catch(o){yield ro(o)}})).apply(this,arguments)}function tK(r,e,i){return aw.apply(this,arguments)}function aw(){return(aw=q(function*(r,e,i){const s=H(r);try{const o=yield function(a,l){const d=H(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.In.lookupMutationBatch(f,l).next(_=>(re(null!==_),m=_.keys(),d.In.removeMutationBatch(f,_))).next(()=>d.In.performConsistencyCheck(f)).next(()=>d.Qn.bn(f,m))})}(s.localStore,e);lw(s,e,i),cw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),yield Ii(s,o)}catch(o){yield ro(o)}})).apply(this,arguments)}function cw(r,e){(r.Bo.get(e)||[]).forEach(i=>{i.resolve()}),r.Bo.delete(e)}function lw(r,e,i){const s=H(r);let o=s.Lo[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(i?a.reject(i):a.resolve(),o=o.remove(e)),s.Lo[s.currentUser.toKey()]=o}}function Xa(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.ko.get(e))r.xo.delete(s),i&&r.No.jo(s,i);r.ko.delete(e),r.isPrimaryClient&&r.Mo.cs(e).forEach(s=>{r.Mo.containsKey(s)||ok(r,s)})}function ok(r,e){r.$o.delete(e.path.canonicalString());const i=r.Oo.get(e);null!==i&&(El(r.remoteStore,i),r.Oo=r.Oo.remove(e),r.Fo.delete(i),hw(r))}function dw(r,e,i){for(const s of i)s instanceof tk?(r.Mo.addReference(s.key,e),rK(r,s)):s instanceof nk?(L("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,e),r.Mo.containsKey(s.key)||ok(r,s.key)):Q()}function rK(r,e){const i=e.key,s=i.path.canonicalString();r.Oo.get(i)||r.$o.has(s)||(L("SyncEngine","New document in limbo: "+i),r.$o.add(s),hw(r))}function hw(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const e=r.$o.values().next().value;r.$o.delete(e);const i=new K(xe.fromString(e)),s=r.Uo.next();r.Fo.set(s,new K9(i)),r.Oo=r.Oo.insert(i,s),np(r.remoteStore,new ss(or(Ma(i.path)),s,2,$n.T))}}function Ii(r,e,i){return fw.apply(this,arguments)}function fw(){return(fw=q(function*(r,e,i){const s=H(r),o=[],a=[],l=[];var d;s.xo.isEmpty()||(s.xo.forEach((d,f)=>{l.push(s.Ko(f,e,i).then(m=>{if(m){s.isPrimaryClient&&s.sharedClientState.updateQueryState(f.targetId,m.fromCache?"not-current":"current"),o.push(m);const _=yb.kn(f.targetId,m);a.push(_)}}))}),yield Promise.all(l),s.No.Tr(o),yield(d=q(function*(f,m){const _=H(f);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>k.forEach(m,b=>k.forEach(b.Nn,w=>_.persistence.referenceDelegate.addReference(v,b.targetId,w)).next(()=>k.forEach(b.xn,w=>_.persistence.referenceDelegate.removeReference(v,b.targetId,w)))))}catch(v){if(!eo(v))throw v;L("LocalStore","Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const w=_.Un.get(b),D=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);_.Un=_.Un.insert(b,D)}}}),function(f,m){return d.apply(this,arguments)})(s.localStore,a))})).apply(this,arguments)}function iK(r,e){return pw.apply(this,arguments)}function pw(){return(pw=q(function*(r,e){const i=H(r);if(!i.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const s=yield FR(i.localStore,e);i.currentUser=e,(o=i).Bo.forEach(l=>{l.forEach(d=>{d.reject(new P(A.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ii(i,s.Wn)}var o})).apply(this,arguments)}function sK(r,e){const i=H(r),s=i.Fo.get(e);if(s&&s.Co)return Oe().add(s.key);{let o=Oe();const a=i.ko.get(e);if(!a)return o;for(const l of a){const d=i.xo.get(l);o=o.unionWith(d.view.To)}return o}}function Cw(r){const e=H(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z9.bind(null,e),e.No.Tr=$9.bind(null,e.eventManager),e.No.jo=G9.bind(null,e.eventManager),e}function Ew(r){const e=H(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tK.bind(null,e),e}class pK{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return q(function*(){i.N=wl(e.databaseInfo.databaseId),i.sharedClientState=i.Wo(e),i.persistence=i.Go(e),yield i.persistence.start(),i.gcScheduler=i.zo(e),i.localStore=i.Ho(e)})()}zo(e){return null}Ho(e){return function(r,e,i,s){return new c9(r,e,i,s)}(this.persistence,new OR,e.initialUser,this.N)}Go(e){return new w9(Db.Ns,this.N)}Wo(e){return new $R}terminate(){var e=this;return q(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dw{initialize(e,i){var s=this;return q(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=o=>sk(s.syncEngine,o,1),s.remoteStore.remoteSyncer.handleCredentialChange=iK.bind(null,s.syncEngine),yield function(r,e){return qb.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new H9}createDatastore(e){const i=wl(e.databaseInfo.databaseId),s=new T9(e.databaseInfo);return new A9(e.credentials,s,i)}createRemoteStore(e){return i=this.localStore,s=this.datastore,o=e.asyncQueue,a=d=>sk(this.syncEngine,d,0),l=GR.Pt()?new GR:new E9,new N9(i,s,o,a,l);var i,s,o,a,l}createSyncEngine(e,i){return function(s,o,a,l,d,f,m){const _=new Q9(s,o,a,l,d,f);return m&&(_.qo=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=q(function*(i){const s=H(i);L("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield za(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}class ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class bK{constructor(e,i,s){var o=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=pN.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var a=q(function*(l){L("FirestoreClient","Received user=",l.uid),yield o.credentialListener(l),o.user=l});return function(l){return a.apply(this,arguments)}}())}getConfiguration(){var e=this;return q(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(q(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),i.resolve()}catch(s){const o=Qa(s,"Failed to shutdown persistence");i.reject(o)}})),i.promise}}function lk(r,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=q(function*(r,e){r.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const i=yield r.getConfiguration();yield e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(function(){var o=q(function*(a){s.isEqual(a)||(yield FR(e.localStore,a),s=a)});return function(a){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e})).apply(this,arguments)}function dk(r,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=q(function*(r,e){r.asyncQueue.verifyOperationInProgress();const i=yield Sw(r);L("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(i,s),r.setCredentialChangeListener(o=>{return(a=q(function*(l,d){const f=H(l);f.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const m=cs(f);f.Kr.add(3),yield za(f),m&&f.Wr.set("Unknown"),yield f.remoteSyncer.handleCredentialChange(d),f.Kr.delete(3),yield Cl(f)}),function(l,d){return a.apply(this,arguments)})(e.remoteStore,o);var a}),r.onlineComponents=e})).apply(this,arguments)}function Sw(r){return xw.apply(this,arguments)}function xw(){return(xw=q(function*(r){return r.offlineComponents||(L("FirestoreClient","Using default OfflineComponentProvider"),yield lk(r,new pK)),r.offlineComponents})).apply(this,arguments)}function sp(r){return Aw.apply(this,arguments)}function Aw(){return(Aw=q(function*(r){return r.onlineComponents||(L("FirestoreClient","Using default OnlineComponentProvider"),yield dk(r,new Dw)),r.onlineComponents})).apply(this,arguments)}function Rw(){return(Rw=q(function*(r){const e=yield sp(r),i=e.eventManager;return i.onListen=J9.bind(null,e.syncEngine),i.onUnlisten=Y9.bind(null,e.syncEngine),i})).apply(this,arguments)}function gk(r,e,i={}){const s=new Ft;return r.asyncQueue.enqueueAndForget(q(function*(){return function(o,a,l,d,f){const m=new ip({next:v=>{a.enqueueAndForget(()=>function(r,e){return Jb.apply(this,arguments)}(o,_)),v.fromCache&&"server"===d.source?f.reject(new P(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Xb(l,m,{includeMetadataChanges:!0,uo:!0});return function(r,e){return Kb.apply(this,arguments)}(o,_)}(yield function(r){return Rw.apply(this,arguments)}(r),r.asyncQueue,e,i,s)})),s.promise}class AK{constructor(e,i,s,o,a,l,d,f){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class Dl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}const mk=new Map;function kw(r,e,i){if(!i)throw new P(A.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yk(r){if(!K.isDocumentKey(r))throw new P(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _k(r){if(K.isDocumentKey(r))throw new P(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function op(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=function(i){if(i.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return e?`a custom ${e} object`:"an object"}}return"function"==typeof r?"a function":Q()}function Ae(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new P(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=op(r);throw new P(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}class bk{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new P(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(r,e,i,s){if(!0===e&&!0===s)throw new P(A.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Il{constructor(e,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bk({}),this._settingsFrozen=!1,e instanceof Dl?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new P(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(s.options.projectId)}(e))}get app(){if(!this._app)throw new P(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bk(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new J7;switch(i.type){case"gapi":const s=i.client;return re(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new eW(s,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new P(A.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=mk.get(e);i&&(L("ComponentProvider","Removing Datastore"),mk.delete(e),i.terminate())}(this),Promise.resolve()}}class lt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class cn{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cn(this.firestore,e,this._query)}}class Zr extends cn{constructor(e,i,s){super(e,i,Ma(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new K(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Tl(r,e,...i){if(r=Oc(r),kw("collection","path",e),r instanceof Il){const s=xe.fromString(e,...i);return _k(s),new Zr(r,null,s)}{if(!(r instanceof lt||r instanceof Zr))throw new P(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=xe.fromString(r.path,...i).child(xe.fromString(e));return _k(s),new Zr(r.firestore,null,s)}}class kK{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Ab(this,"async_queue_retry"),this.Ea=()=>{const i=tp();i&&L("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const e=tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const i=tp();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new Ft;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return q(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(i){if(!eo(i))throw i;L("AsyncQueue","Operation failed with retryable error: "+i)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const i=this.fa.then(()=>(this.ga=!0,e().catch(s=>{throw this.ma=s,this.ga=!1,mt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=i,i}enqueueAfterDelay(e,i,s){this.Ta(),this.pa.indexOf(e)>-1&&(i=0);const o=zb.createAndSchedule(this,e,i,s,a=>this.Ra(a));return this._a.push(o),o}Ta(){this.ma&&Q()}verifyOperationInProgress(){}Pa(){var e=this;return q(function*(){let i;do{i=e.fa,yield i}while(i!==e.fa)})()}ba(e){for(const i of this._a)if(i.timerId===e)return!0;return!1}va(e){return this.Pa().then(()=>{this._a.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.Pa()})}Va(e){this.pa.push(e)}Ra(e){const i=this._a.indexOf(e);this._a.splice(i,1)}}class ot extends Il{constructor(e,i){super(e,i),this.type="firestore",this._queue=new kK,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ck(this),this._firestoreClient.terminate()}}function wk(r=function(r=K_){const e=Hs.get(r);if(!e)throw Pc.create("no-app",{appName:r});return e}()){return function(r,e){return r.container.getProvider(e)}(r,"firestore").getImmediate()}function Bt(r){return r._firestoreClient||Ck(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Ck(r){var e;const i=r._freezeSettings(),s=(a=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new AK(r._databaseId,a,r._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var a,d;r._firestoreClient=new bK(r._credentials,r._queue,s)}class eu{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new P(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(Vt.fromBase64String(e))}catch(i){throw new P(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new io(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ik{constructor(e){this._methodName=e}}class Pw{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new P(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new P(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}const PK=/^__.*__$/;class FK{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return null!==this.fieldMask?new rs(e,this.data,this.fieldMask,i,this.fieldTransforms):new ll(e,this.data,i,this.fieldTransforms)}}function Sk(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class ap{constructor(e,i,s,o,a,l){this.settings=e,this.databaseId=i,this.N=s,this.ignoreUndefinedProperties=o,void 0===a&&this.Sa(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(e),o=this.Ca({path:s,xa:!1});return o.ka(e),o}$a(e){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(e),o=this.Ca({path:s,xa:!1});return o.Sa(),o}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return up(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Sk(this.Da)&&PK.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class VK{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.N=s||wl(e)}Ba(e,i,s,o=!1){return new ap({Da:e,methodName:i,La:s,path:on.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function tu(r){const e=r._freezeSettings(),i=wl(r._databaseId);return new VK(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Fw(r,e,i,s,o,a={}){const l=r.Ba(a.merge||a.mergeFields?2:0,e,i,o);Lw("Data must be an object, but it was:",l,s);const d=Rk(s,l);let f,m;if(a.merge)f=new Ta(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const _=[];for(const v of a.mergeFields){const b=jw(e,v,i);if(!l.contains(b))throw new P(A.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Ok(_,b)||_.push(b)}f=new Ta(_),m=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,m=l.fieldTransforms;return new FK(new an(d),f,m)}function so(r,e){if(kk(r=Oc(r)))return Lw("Unsupported field value:",e,r),Rk(r,e);if(r instanceof Ik)return function(i,s){if(!Sk(s.Da))throw s.Fa(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(i,s){const o=[];let a=0;for(const l of i){let d=so(l,s.Oa(a));null==d&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(r,e)}return function(i,s){if(null===(i=Oc(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return ON(s.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Kt.fromDate(i);return{timestampValue:pl(s.N,o)}}if(i instanceof Kt){const o=new Kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pl(s.N,o)}}if(i instanceof Pw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof io)return{bytesValue:eR(s.N,i._byteString)};if(i instanceof lt){const o=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw s.Fa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rb(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Fa(`Unsupported field value: ${op(i)}`)}(r,e)}function Rk(r,e){const i={};return yN(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(r,(s,o)=>{const a=so(o,e.Na(s));null!=a&&(i[s]=a)}),{mapValue:{fields:i}}}function kk(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Kt||r instanceof Pw||r instanceof io||r instanceof lt||r instanceof Ik)}function Lw(r,e,i){if(!kk(i)||"object"!=typeof(s=i)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=op(i);throw e.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function jw(r,e,i){if((e=Oc(e))instanceof eu)return e._internalPath;if("string"==typeof e)return Bw(r,e);throw up("Field path arguments must be of type string or FieldPath.",r,!1,void 0,i)}const UK=new RegExp("[~\\*/\\[\\]]");function Bw(r,e,i){if(e.search(UK)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new eu(...e.split("."))._internalPath}catch(s){throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function up(r,e,i,s,o){const a=s&&!s.isEmpty(),l=void 0!==o;let d=`Function ${e}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${s}`),l&&(f+=` in document ${o}`),f+=")"),new P(A.INVALID_ARGUMENT,d+r+f)}function Ok(r,e){return r.some(i=>i.isEqual(e))}class Uw{constructor(e,i,s,o,a){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(cp("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class HK extends Uw{data(){return super.data()}}function cp(r,e){return"string"==typeof e?Bw(r,e):e instanceof eu?e._internalPath:e._delegate._internalPath}class oo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends Uw{constructor(e,i,s,o,a,l){super(e,i,s,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(cp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class lp extends nu{data(e={}){return super.data(e)}}class ru{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new oo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new lp(this._firestore,this._userDataWriter,s.key,s,new oo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new P(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>({type:"added",doc:new lp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new oo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:a++}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const d=new lp(s._firestore,s._userDataWriter,l.doc.key,l.doc,new oo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return 0!==l.type&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:$K(l.type),doc:d,oldIndex:f,newIndex:m}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function $K(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class ao extends class{convertValue(e,i="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Q()}}convertObject(e,i){const s={};return Ks(e.fields,(o,a)=>{s[o]=this.convertValue(a,i)}),s}convertGeoPoint(e){return new Pw(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=_N(e);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const i=ns(e);return new Kt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=xe.fromString(e);re(fR(s));const o=new Dl(s.get(1),s.get(3)),a=new K(s.popFirst(5));return o.isEqual(i)||mt(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),a}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,i)}}function hp(r,e){const i=Ae(r.firestore,ot),s=function(r,e,...i){if(r=Oc(r),1===arguments.length&&(e=pN.I()),kw("doc","path",e),r instanceof Il){const s=xe.fromString(e,...i);return yk(s),new lt(r,null,new K(s))}{if(!(r instanceof lt||r instanceof Zr))throw new P(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(xe.fromString(e,...i));return yk(s),new lt(r.firestore,r instanceof Zr?r.converter:null,new K(s))}}(r),o=function(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}(r.converter,e);return function(r,e){return function(i,s){const o=new Ft;return i.asyncQueue.enqueueAndForget(q(function*(){return function(r,e,i){return rw.apply(this,arguments)}(yield function(r){return sp(r).then(e=>e.syncEngine)}(i),s,o)})),o.promise}(Bt(r),e)}(i,[Fw(tu(r.firestore),"addDoc",s._key,o,null!==r.converter,{}).toMutation(s._key,_t.exists(!1))]).then(()=>s)}Da="9.0.0",Q_(new tf("firestore",(r,{options:e})=>{const i=r.getProvider("app").getImmediate(),s=new ot(i,new X7(r.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),rf("@firebase/firestore","3.0.1",void 0);let Ti=(()=>{class r{constructor(){this.db=wk(),this.usuariosList=[],this.usuarioLogueado=new Xi("","")}agregarUsuario(i){var s=this;return q(function*(){var o=!1;try{yield hp(Tl(s.db,"usuarios"),{mail:i.mail,password:i.password,alias:i.alias})}catch(a){o=!0,console.error("Error: ",a)}return new Promise((a,l)=>{setTimeout(()=>{o?l():a(!0)},1e3)})})()}grabarLogUsuario(i){var s=this;return q(function*(){try{var o=new Date,d=o.getDate()+"-"+(o.getMonth()+1)+"-"+o.getFullYear()+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds();yield hp(Tl(s.db,"logUsuarios"),{mail:i.mail,alias:i.alias,fecha:d})}catch(f){console.error("Error: ",f)}})()}grabarMensaje(i,s){var o=this;return q(function*(){try{var a=new Date,f=a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();yield hp(Tl(o.db,"chat"),{alias:i,texto:s,fecha:f})}catch(m){console.error("Error: ",m)}})()}grabarJuego(i,s,o){var a=this;return q(function*(){try{var l="";switch(i){case"mayormenor":l="puntajesMayorMenor";break;case"preguntados":l="puntajesPreguntados";break;case"ahorcado":l="puntajesAhorcado";break;case"poker":l="puntajesPoker"}yield hp(Tl(a.db,l),{alias:s,puntaje:o})}catch(d){console.error("Error: ",d)}})()}obtenerDatos(i){var s=this;return q(function*(){var o=new Array;return(yield function(r){r=Ae(r,cn);const e=Ae(r.firestore,ot),i=Bt(e),s=new ao(e);return function(r){if(jf(r)&&0===r.explicitOrderBy.length)throw new P(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query),gk(i,r._query).then(o=>new ru(e,s,r,o))}(Tl(s.db,i))).forEach(l=>{o.push(l.data())}),new Promise((l,d)=>{setTimeout(()=>{o.length>0?l(o):d()},1e3)})})()}validarUsuarioRegistrado(i){return new Promise((s,o)=>{setTimeout(()=>{this.obtenerDatos("usuarios").then(a=>{var l=!1;if(null!=a)for(var d=0;d<a.length;d++)if(a[d].mail==i.mail){s({mail:a[d].mail,password:a[d].password,alias:a[d].alias}),l=!0;break}l||o("NOOOOO")})},100)})}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Si=(()=>{class r{constructor(i,s){this.router=i,this.db=s}signIn(i){var s=this;return q(function*(){return new Promise((o,a)=>{s.db.validarUsuarioRegistrado(i).then(l=>{var d=JSON.stringify(l),f=JSON.parse(d),m=new Xi(f.mail,f.password,f.alias);m.mail.length>0&&m.password.length>0&&m.alias.length>0&&(s.db.usuarioLogueado=m,s.db.grabarLogUsuario(m),o(!0),s.router.navigate(["home"]))}).catch(l=>{a(l)})})})()}signOut(){var i=this;return q(function*(){i.db.usuarioLogueado=new Xi("","")})()}register(i){var s=this;return q(function*(){s.db.validarUsuarioRegistrado(i).then(o=>{o||s.db.agregarUsuario(i)})})()}getUsuarioLogueado(){var i=this.db.usuarioLogueado.mail,s=this.db.usuarioLogueado.password;return""!=i&&""!=s?new Xi(i,s,this.db.usuarioLogueado.alias):new Xi("","")}}return r.\u0275fac=function(i){return new(i||r)(j(We),j(Ti))},r.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function YK(r,e){if(1&r){const i=It();M(0,"header",1),M(1,"nav",2),M(2,"a",3),J("click",function(){return Fe(i),he().IrAHome()}),Qp(),M(3,"svg",4),M(4,"title"),V(5,"Home"),N(),I(6,"path",5),N(),N(),ie.lFrame.currentNamespace=null,M(7,"a",6),J("click",function(){return Fe(i),he().IrAQuienSoy()}),V(8,"\xbfQui\xe9n Soy?"),N(),M(9,"a",7),V(10),N(),M(11,"a",3),J("click",function(){return Fe(i),he().IrALogin()}),Qp(),M(12,"svg",4),M(13,"title"),V(14,"Log Out"),N(),I(15,"path",8),I(16,"path",9),N(),N(),N(),N()}if(2&r){const i=he();F(10),nt(i.usuarioAlias)}}let fp=(()=>{class r{constructor(i,s){this.router=i,this.auth=s,this.title="SalaDeJuegosLucasMarino",this.hayUsuarioLogueado=!1,this.usuarioAlias=""}IrALogin(){this.auth.signOut(),this.router.navigate([""])}IrAHome(){this.router.navigate(["home"])}IrAQuienSoy(){this.router.navigate(["quiensoy"])}RefrescarUsuarioLogueado(){this.usuarioAlias=this.auth.getUsuarioLogueado().alias,this.hayUsuarioLogueado=""!=this.usuarioAlias}}return r.\u0275fac=function(i){return new(i||r)(R(We),R(Si))},r.\u0275cmp=Dn({type:r,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","site-header sticky-top py-1",4,"ngIf"],[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-row","justify-content-between"],[1,"py-2",2,"cursor","pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","role","img",1,"d-block","mx-auto"],["d","M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"],[1,"py-2","d-md-inline-block",2,"cursor","pointer",3,"click"],[1,"py-2","d-flex","flex-row"],["fill","none","d","M13.53,2.238c-0.389-0.164-0.844,0.017-1.01,0.41c-0.166,0.391,0.018,0.845,0.411,1.01c2.792,1.181,4.598,3.904,4.6,6.937c0,4.152-3.378,7.529-7.53,7.529c-4.151,0-7.529-3.377-7.529-7.529C2.469,7.591,4.251,4.878,7.01,3.683C7.401,3.515,7.58,3.06,7.412,2.67c-0.17-0.392-0.624-0.571-1.014-0.402c-3.325,1.44-5.472,4.708-5.47,8.327c0,5.002,4.069,9.071,9.071,9.071c5.003,0,9.073-4.07,9.073-9.071C19.07,6.939,16.895,3.659,13.53,2.238z"],["fill","none","d","M9.999,7.616c0.426,0,0.771-0.345,0.771-0.771v-5.74c0-0.426-0.345-0.771-0.771-0.771c-0.427,0-0.771,0.345-0.771,0.771v5.74C9.228,7.271,9.573,7.616,9.999,7.616z"]],template:function(i,s){1&i&&(Ie(0,YK,17,1,"header",0),I(1,"router-outlet")),2&i&&U("ngIf",s.hayUsuarioLogueado)},directives:[yi,L_],styles:[".container[_ngcontent-%COMP%]{max-width:96%}.site-header[_ngcontent-%COMP%]{background-color:#23d8f0}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-weight:bold}"]}),r})(),XK=(()=>{class r{constructor(i,s,o){this.app=i,this.auth=s,this.router=o,this.usuarioLogueado=new Xi("",""),this.usuarioLogueado=this.auth.getUsuarioLogueado()}ngOnInit(){this.app.RefrescarUsuarioLogueado()}AbrirMayorMenor(){this.router.navigate(["mayormenor"])}AbrirAhorcado(){this.router.navigate(["ahorcado"])}AbrirPoker(){this.router.navigate(["poker"])}AbrirPreguntados(){this.router.navigate(["preguntados"])}IrARanking(){this.router.navigate(["ranking"])}IrAChat(){this.router.navigate(["chat"])}}return r.\u0275fac=function(i){return new(i||r)(R(fp),R(Si),R(We))},r.\u0275cmp=Dn({type:r,selectors:[["app-home"]],decls:19,vars:0,consts:[["id","fondo","src","../../assets//fondo3.PNG","alt",""],[2,"margin-left","2%"],[1,"d-flex","flex-row","justify-content-between"],["id","ahorcado",3,"click"],["id","mayormenor",3,"click"],["id","preguntados",3,"click"],["id","poker",3,"click"],["id","ranking",3,"click"]],template:function(i,s){1&i&&(I(0,"img",0),M(1,"div"),M(2,"h1",1),V(3,"ELIJA UN JUEGO"),N(),I(4,"br"),M(5,"div",2),M(6,"button",3),J("click",function(){return s.AbrirAhorcado()}),N(),M(7,"button",4),J("click",function(){return s.AbrirMayorMenor()}),N(),M(8,"button",5),J("click",function(){return s.AbrirPreguntados()}),N(),M(9,"button",6),J("click",function(){return s.AbrirPoker()}),N(),N(),I(10,"br"),I(11,"br"),I(12,"br"),I(13,"br"),M(14,"button",7),J("click",function(){return s.IrARanking()}),V(15,"RANKING DE TODOS LOS JUEGOS"),N(),I(16,"br"),M(17,"button",7),J("click",function(){return s.IrAChat()}),V(18,"CHAT"),N(),N())},styles:["#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:2;position:fixed;opacity:.7}#ahorcado[_ngcontent-%COMP%]{background-image:url(ahorcado.2ccb22215a061ab4b4e2.PNG);background-size:100%;background-repeat:no-repeat;background-position:center;width:500px;height:420px;margin-left:2%;z-index:3;opacity:.9}#mayormenor[_ngcontent-%COMP%]{background-image:url(mayormenor.392333b80cb8ba8bfc89.PNG);background-size:100%;background-repeat:no-repeat;background-position:center;background-color:#fff;width:500px;height:420px;margin-left:2%;z-index:3;opacity:.9}#preguntados[_ngcontent-%COMP%]{background-image:url(preguntados.d2f1aadc8dadc967eb32.PNG);background-size:100%;background-repeat:no-repeat;background-position:center;background-color:#fff;width:500px;height:420px;margin-left:2%;z-index:3;opacity:.9}#poker[_ngcontent-%COMP%]{background-image:url(poker.eb515e12d27318b699c9.PNG);background-size:100%;background-repeat:no-repeat;background-position:center;background-color:#fff;width:500px;height:420px;margin-left:2%;z-index:3;opacity:.9;margin-right:2%}h1[_ngcontent-%COMP%]{font-size:84px;font-family:serif;font-style:oblique;font-weight:bold;color:#000;z-index:3;position:sticky}#ranking[_ngcontent-%COMP%]{background-color:#f541ec;width:90%;height:80px;margin-left:4%;position:absolute;border-radius:15px;border:solid 2px black;font-weight:bold;font-size:40px;z-index:3;cursor:pointer}"]}),r})(),ZK=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Dn({type:r,selectors:[["app-quiensoy"]],decls:20,vars:0,consts:[["id","fondo","src","../../assets//fondo3.PNG","alt",""],["id","principal"],[2,"margin-left","31%"],["id","mifoto"],[2,"margin-left","2%"]],template:function(i,s){1&i&&(I(0,"img",0),M(1,"div",1),I(2,"br"),I(3,"br"),I(4,"br"),M(5,"h1",2),V(6,"Lucas Marino"),N(),I(7,"br"),I(8,"button",3),I(9,"br"),I(10,"br"),I(11,"br"),I(12,"br"),I(13,"br"),M(14,"h1",4),V(15,"Juego Propio - Poker Texas Hold'em "),N(),M(16,"h5",4),V(17," En esta simulacion se mostraran las cartas de ambos jugadores asi como 4 de las 5 de la mesa."),I(18,"br"),V(19,"Para ganar el juego, debemos seleccionar que carta nos haria ganar el bote, de entre 4 opciones!"),N(),N())},styles:["#mifoto[_ngcontent-%COMP%]{background-image:url(yo.994df953af52d8c5b80e.PNG);background-size:110%;background-repeat:no-repeat;background-position:center;background-color:#fff;width:300px;height:300px;margin-left:30%;border:none;z-index:5}#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:0;position:fixed;opacity:.4}#principal[_ngcontent-%COMP%]{z-index:5;opacity:1;position:absolute;margin-left:15%}h1[_ngcontent-%COMP%]{font-size:56px}h5[_ngcontent-%COMP%]{font-size:24px}"]}),r})();function eQ(r,e){if(1&r&&(M(0,"button",10),V(1),N()),2&r){const i=he();F(1),nt(i.error)}}let tQ=(()=>{class r{constructor(i,s,o,a){this.router=i,this.authService=s,this.app=o,this.db=a,this.mostrarError=!1,this.error="",this.mostrarSpinner=!1,this.pw="",this.mail=""}ngOnInit(){}Limpiar(){document.getElementById("mail").value="",document.getElementById("pw").value=""}MostrarSpinner(){this.mostrarSpinner=!0,document.getElementById("principal").style.opacity="0.5",setTimeout(()=>{this.mostrarSpinner=!1,document.getElementById("principal").style.opacity="1"},2100)}Loguearse(){if(this.mail=document.getElementById("mail").value,this.pw=document.getElementById("pw").value,""!=this.pw&&""!=this.mail){document.getElementById("mail").style.border="1px solid grey",document.getElementById("pw").style.border="1px solid grey",this.MostrarSpinner();var i=new Xi(this.mail,this.pw);this.authService.signIn(i).then(()=>{}).catch(()=>{this.mostrarError=!0,this.error="\xa1El usuario no esta registrado!",setTimeout(()=>{this.mostrarError=!1,this.error=""},3500)})}else""==this.mail?(document.getElementById("pw").style.border="1px solid grey",document.getElementById("mail").style.border="1px solid red"):(document.getElementById("mail").style.border="1px solid grey",document.getElementById("pw").style.border="1px solid red")}Administrador(){document.getElementById("mail").value="admin@admin.com",document.getElementById("pw").value="admin"}Tester(){document.getElementById("mail").value="tester@tester.com",document.getElementById("pw").value="tester"}Lucas(){document.getElementById("mail").value="lucas@lucas.com",document.getElementById("pw").value="lucas"}UnBebe(){document.getElementById("mail").value="unbebe@unbebe.com",document.getElementById("pw").value="unbebe"}IrARegistro(){this.MostrarSpinner(),setTimeout(()=>{this.authService.mailAux=document.getElementById("mail").value,this.authService.pwAux=document.getElementById("pw").value,this.router.navigate(["registro"])},1e3)}}return r.\u0275fac=function(i){return new(i||r)(R(We),R(Si),R(fp),R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-login"]],decls:51,vars:2,consts:[["id","spinner",3,"hidden"],["id","fondo","src","../../assets//fondo1.PNG","alt",""],["id","error",4,"ngIf"],["id","principal",2,"margin-left","40%"],["type","text","id","mail","placeholder","Ingrese su mail",2,"border","1px solid grey","width","350px"],["type","password","id","pw","placeholder","Ingrese su contrase\xf1a",2,"border","1px solid grey","width","350px"],["id","btnLog",3,"click"],["id","btnReg",3,"click"],["id","btnLimp",3,"click"],["id","btnAcceso",3,"click"],["id","error"]],template:function(i,s){1&i&&(I(0,"div",0),I(1,"img",1),Ie(2,eQ,2,1,"button",2),M(3,"div",3),M(4,"label"),V(5,"Mail"),N(),I(6,"br"),I(7,"input",4),I(8,"br"),I(9,"br"),M(10,"label"),V(11,"Contrase\xf1a"),N(),I(12,"br"),I(13,"input",5),I(14,"br"),I(15,"br"),I(16,"br"),M(17,"button",6),J("click",function(){return s.Loguearse()}),V(18,"Loguearse"),N(),I(19,"br"),I(20,"br"),M(21,"button",7),J("click",function(){return s.IrARegistro()}),V(22,"Registrarse"),N(),I(23,"br"),I(24,"br"),M(25,"button",8),J("click",function(){return s.Limpiar()}),V(26,"Limpiar"),N(),I(27,"br"),I(28,"br"),I(29,"br"),I(30,"br"),I(31,"br"),M(32,"h1"),V(33,"Acceso R\xe1pido"),N(),I(34,"br"),M(35,"button",9),J("click",function(){return s.Administrador()}),V(36,"Administrador"),N(),I(37,"br"),I(38,"br"),M(39,"button",9),J("click",function(){return s.Tester()}),V(40,"Tester"),N(),I(41,"br"),I(42,"br"),M(43,"button",9),J("click",function(){return s.Lucas()}),V(44,"Lucas"),N(),I(45,"br"),I(46,"br"),M(47,"button",9),J("click",function(){return s.UnBebe()}),V(48,"Un Bebe"),N(),I(49,"br"),I(50,"br"),N()),2&i&&(U("hidden",!s.mostrarSpinner),F(2),U("ngIf",s.mostrarError))},directives:[yi],styles:["#spinner[_ngcontent-%COMP%]{position:fixed;bottom:30%;left:44%;width:80px;height:80px;background:url(spinner.bee7d2dc4a2028269900.png);background-position:center;background-repeat:no-repeat;background-size:105%;border-radius:50%;background-color:transparent;opacity:1;z-index:100;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(360deg)}}#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:1;position:fixed;opacity:1}#error[_ngcontent-%COMP%]{position:absolute;width:98%;height:70px;left:1%;bottom:7%;z-index:10;cursor:none;background-color:#ee2727;border:3px solid black;font-size:28px;font-weight:bold;animation:aparecer;animation-duration:3.5s}@keyframes aparecer{0%{bottom:0%}40%{bottom:6%}80%{opacity:1}to{bottom:6%;opacity:0}}#principal[_ngcontent-%COMP%]{position:fixed;z-index:5}label[_ngcontent-%COMP%]{font-size:44px;text-shadow:-1px 0 white,0 1px white,1px 0 white,0 -1px white;color:#000;font-weight:bold}h1[_ngcontent-%COMP%]{font-size:44px;text-shadow:-2px 0 black,0 2px black,2px 0 black,0 -2px black;color:#fff}#btnLog[_ngcontent-%COMP%]{width:350px;height:40px;border-radius:15px;border:solid 2px black;background-color:#1ce626;font-weight:bold;font-size:18px}#btnLimp[_ngcontent-%COMP%]{width:350px;height:40px;border-radius:15px;border:solid 2px black;background-color:#f5f23c;font-weight:bold;font-size:18px}#btnReg[_ngcontent-%COMP%]{width:350px;height:40px;border-radius:15px;border:solid 2px black;background-color:#23d8f0;font-weight:bold;font-size:18px}#btnAcceso[_ngcontent-%COMP%]{width:350px;height:40px;border-radius:15px;border:solid 2px black;background-color:#b41dda;font-weight:bold;font-size:18px}"]}),r})();function nQ(r,e){if(1&r&&(M(0,"button",10),V(1),N()),2&r){const i=he();F(1),nt(i.error)}}let rQ=(()=>{class r{constructor(i,s,o,a){this.router=i,this.authService=s,this.app=o,this.db=a,this.mostrarError=!1,this.error="",this.mostrarSpinner=!1,this.pw="",this.mail="",this.alias=""}ngOnInit(){setTimeout(()=>{null!=this.authService.mailAux&&(document.getElementById("mail").value=this.authService.mailAux,this.mail=this.authService.mailAux),null!=this.authService.pwAux&&(document.getElementById("pw").value=this.authService.pwAux,this.pw=this.authService.pwAux)},0)}MostrarSpinner(){this.mostrarSpinner=!0,document.getElementById("principal").style.opacity="0.5",setTimeout(()=>{this.mostrarSpinner=!1,document.getElementById("principal").style.opacity="1"},1e3)}Limpiar(){document.getElementById("mail").value="",document.getElementById("pw").value="",document.getElementById("alias").value=""}Registrarse(){if(this.mail=document.getElementById("mail").value,this.pw=document.getElementById("pw").value,this.alias=document.getElementById("alias").value,""!=this.pw&&""!=this.mail&&""!=this.alias){document.getElementById("mail").style.border="1px solid grey",document.getElementById("pw").style.border="1px solid grey",document.getElementById("alias").style.border="1px solid grey";var i=new Xi(this.mail,this.pw,this.alias);this.MostrarSpinner(),setTimeout(()=>{this.db.validarUsuarioRegistrado(i).then(()=>{this.mostrarError=!0,this.error="\xa1El usuario ya se encuentra registrado!",setTimeout(()=>{this.mostrarError=!1,this.error=""},3e3)}).catch(()=>{this.db.agregarUsuario(i).then(()=>{this.authService.signIn(i)})})},1e3)}else""==this.mail&&(document.getElementById("mail").style.border="1px solid red"),""==this.pw&&(document.getElementById("pw").style.border="1px solid red"),""==this.alias&&(document.getElementById("alias").style.border="1px solid red")}IrALogin(){this.router.navigate([""])}}return r.\u0275fac=function(i){return new(i||r)(R(We),R(Si),R(fp),R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-registro"]],decls:36,vars:2,consts:[["id","spinner",3,"hidden"],["id","fondo","src","../../assets//fondo1.PNG","alt",""],["id","error",4,"ngIf"],["id","principal",2,"margin-left","40%"],["type","text","id","mail","placeholder","Ingrese su mail",2,"border","1px solid grey","width","350px"],["type","password","id","pw","placeholder","Ingrese su contrase\xf1a",2,"border","1px solid grey","width","350px"],["type","text","id","alias","placeholder","Ingrese su alias",2,"border","1px solid grey","width","350px"],["id","btnReg",3,"click"],["id","btnLog",3,"click"],["id","btnLimp",3,"click"],["id","error"]],template:function(i,s){1&i&&(I(0,"div",0),I(1,"img",1),Ie(2,nQ,2,1,"button",2),M(3,"div"),M(4,"div",3),M(5,"label"),V(6,"Mail:"),N(),I(7,"br"),I(8,"input",4),I(9,"br"),I(10,"br"),M(11,"label"),V(12,"Contrase\xf1a:"),N(),I(13,"br"),I(14,"input",5),I(15,"br"),I(16,"br"),M(17,"label"),V(18,"Alias:"),N(),I(19,"br"),I(20,"input",6),I(21,"br"),I(22,"br"),I(23,"br"),I(24,"br"),I(25,"br"),M(26,"button",7),J("click",function(){return s.Registrarse()}),V(27,"Registrarse"),N(),I(28,"br"),I(29,"br"),M(30,"button",8),J("click",function(){return s.Limpiar()}),V(31,"Limpiar"),N(),I(32,"br"),I(33,"br"),M(34,"button",9),J("click",function(){return s.IrALogin()}),V(35,"Volver"),N(),N(),N()),2&i&&(U("hidden",!s.mostrarSpinner),F(2),U("ngIf",s.mostrarError))},directives:[yi],styles:["#spinner[_ngcontent-%COMP%]{position:fixed;bottom:30%;left:44%;width:80px;height:80px;background:url(spinner.bee7d2dc4a2028269900.png);background-position:center;background-repeat:no-repeat;background-size:105%;border-radius:50%;background-color:transparent;opacity:1;z-index:100;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(360deg)}}#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:1;position:fixed;opacity:1}#error[_ngcontent-%COMP%]{position:absolute;width:98%;height:70px;left:1%;bottom:7%;z-index:10;cursor:none;background-color:#ee2727;border:3px solid black;font-size:28px;font-weight:bold;animation:aparecer;animation-duration:3.5s}@keyframes aparecer{0%{bottom:0%}40%{bottom:6%}80%{opacity:1}to{bottom:6%;opacity:0}}#principal[_ngcontent-%COMP%]{position:fixed;z-index:5}#btnReg[_ngcontent-%COMP%]{width:350px;height:40px;border-radius:15px;border:solid 2px black;background-color:#1ce626;font-weight:bold;font-size:18px}#btnLimp[_ngcontent-%COMP%]{width:350px;height:40px;border-radius:15px;border:solid 2px black;background-color:#f5f23c;font-weight:bold;font-size:18px}#btnLog[_ngcontent-%COMP%]{width:350px;height:40px;border-radius:15px;border:solid 2px black;background-color:#23d8f0;font-weight:bold;font-size:18px}label[_ngcontent-%COMP%]{font-size:44px;text-shadow:-1px 0 white,0 1px white,1px 0 white,0 -1px white;color:#000;font-weight:bold}"]}),r})();class iQ{constructor(){this.cartas=new Array,this.numeros=["A","2","3","4","5","6","7","8","9","T","J","Q","K"],this.palos=["C","T","P","D"],this.empezoElJuego=!1}CrearNuevoMazo(){this.cartas=new Array,this.numeros.forEach(e=>{this.palos.forEach(i=>{this.cartas.push(new x(e,i))})}),this.empezoElJuego=!0,this.SacarCartaAleatoria()}SacarCartaAleatoria(){var e=Math.floor(13*Math.random())+0,i=Math.floor(4*Math.random())+0,s=this.palos[i],o=this.numeros[e],a=this.cartas.findIndex(l=>l.numero==o&&l.palo==s);return-1!=a?(this.cartas.splice(a,1),new x(o,s)):this.SacarCartaAleatoria()}}class x{constructor(e,i){this.selected=!1,this.numero=e,this.palo=i,this.img="./../../../assets/cartas/"+e+i+".png"}}function sQ(r,e){if(1&r){const i=It();M(0,"div"),M(1,"button",7),J("click",function(){return Fe(i),he().Aplicar(1)}),V(2,"Mayor (+1)"),N(),M(3,"button",7),J("click",function(){return Fe(i),he().Aplicar(2)}),V(4,"Igual (+10)"),N(),M(5,"button",7),J("click",function(){return Fe(i),he().Aplicar(3)}),V(6,"Menor (+1)"),N(),I(7,"br"),I(8,"br"),I(9,"br"),I(10,"br"),M(11,"h1"),V(12),N(),M(13,"h1"),V(14),N(),N()}if(2&r){const i=he();F(1),U("disabled",i.deshabilitar||"K"==i.carta1.numero),F(2),U("disabled",i.deshabilitar),F(2),U("disabled",i.deshabilitar||"A"==i.carta1.numero),F(7),ji("Manos: ",i.manos,"/5"),F(2),ji("Tus Puntos: ",i.puntos,"")}}function oQ(r,e){if(1&r){const i=It();M(0,"button",8),J("click",function(){return Fe(i),he().Guardar(!1)}),V(1,"Reiniciar"),N()}}function aQ(r,e){if(1&r){const i=It();M(0,"button",8),J("click",function(){return Fe(i),he().Guardar(!0)}),V(1,"Guardar y Salir"),N()}}let uQ=(()=>{class r{constructor(i,s,o){this.router=i,this.auth=s,this.db=o,this.mazo=new iQ,this.manos=0,this.puntos=0,this.carta1=new x("X","X"),this.carta2=new x("X","X"),this.deshabilitar=!1,this.reiniciar=!1,this.mostrarSpinner=!1}ngOnInit(){}ComenzarJuego(){this.mazo.CrearNuevoMazo(),this.carta1=this.mazo.SacarCartaAleatoria()}Aplicar(i){switch(i){case 1:this.carta2=this.mazo.SacarCartaAleatoria();var s=this.SetValorCarta(this.carta1.numero),o=this.SetValorCarta(this.carta2.numero);this.manos++,s>o&&this.puntos++;break;case 2:this.carta2=this.mazo.SacarCartaAleatoria(),s=this.SetValorCarta(this.carta1.numero),o=this.SetValorCarta(this.carta2.numero),this.manos++,s==o&&(this.puntos=this.puntos+10);break;case 3:this.carta2=this.mazo.SacarCartaAleatoria(),s=this.SetValorCarta(this.carta1.numero),o=this.SetValorCarta(this.carta2.numero),this.manos++,s<o&&this.puntos++}this.NuevaMano()}SetValorCarta(i){var a="";if(["A","T","J","Q","K"].includes(i))switch(i){case"A":a="1";break;case"T":a="10";break;case"J":a="11";break;case"Q":a="12";break;case"K":a="13"}else a=i;var l=parseInt(a);return null!=l?l:0}NuevaMano(){this.deshabilitar=!0,setTimeout(()=>{this.deshabilitar=!1,this.ValidarTerminoJuego(),this.carta2=new x("X","X"),this.carta1=this.reiniciar?new x("X","X"):this.mazo.SacarCartaAleatoria()},1e3)}ValidarTerminoJuego(){5==this.manos&&(this.deshabilitar=!0,this.reiniciar=!0)}Guardar(i){this.reiniciar=!1,this.manos=0,this.deshabilitar=!1,i?(this.MostrarSpinner(),setTimeout(()=>{var s=this.auth.getUsuarioLogueado().alias;this.db.grabarJuego("mayormenor",s,this.puntos),this.puntos=0,this.router.navigate(["home"])},1e3)):this.ComenzarJuego()}MostrarSpinner(){this.mostrarSpinner=!0,document.getElementById("principal").style.opacity="0.5",setTimeout(()=>{this.mostrarSpinner=!1,document.getElementById("principal").style.opacity="1",this.ComenzarJuego()},1e3)}}return r.\u0275fac=function(i){return new(i||r)(R(We),R(Si),R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-mayor-menor"]],decls:18,vars:7,consts:[["id","spinner",3,"hidden"],["id","principal",2,"margin-left","30%","margin-top","2%"],[2,"width","510px",3,"disabled","click"],[3,"src"],[2,"margin-left","60px",3,"src"],[4,"ngIf"],["style","width: 510px;",3,"click",4,"ngIf"],[2,"width","170px",3,"disabled","click"],[2,"width","510px",3,"click"]],template:function(i,s){1&i&&(I(0,"div",0),M(1,"div",1),M(2,"button",2),J("click",function(){return s.ComenzarJuego()}),V(3,"Comenzar Juego"),N(),I(4,"br"),I(5,"br"),I(6,"br"),I(7,"img",3),I(8,"img",4),I(9,"br"),I(10,"br"),Ie(11,sQ,15,5,"div",5),I(12,"br"),I(13,"br"),Ie(14,oQ,2,0,"button",6),I(15,"br"),I(16,"br"),Ie(17,aQ,2,0,"button",6),N()),2&i&&(U("hidden",!s.mostrarSpinner),F(2),U("disabled",s.mazo.empezoElJuego),F(5),U("src",s.carta1.img,Dt),F(1),U("src",s.carta2.img,Dt),F(3),U("ngIf",s.mazo.empezoElJuego),F(3),U("ngIf",s.reiniciar),F(3),U("ngIf",s.reiniciar))},directives:[yi],styles:["#spinner[_ngcontent-%COMP%]{position:fixed;bottom:30%;left:44%;width:80px;height:80px;background:url(spinner.bee7d2dc4a2028269900.png);background-position:center;background-repeat:no-repeat;background-size:105%;border-radius:50%;background-color:transparent;opacity:1;z-index:100;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(360deg)}}"]}),r})();class pp{constructor(e){this.letra=e.toUpperCase(),this.adivinada=!1,this.yaPresionada=!1}}function cQ(r,e){if(1&r&&(M(0,"label",20),V(1),N()),2&r){const i=he().$implicit;F(1),nt(i.letra)}}function lQ(r,e){1&r&&(M(0,"label",21),V(1,"__"),N())}function dQ(r,e){if(1&r&&(yr(0),Ie(1,cQ,2,1,"label",18),Ie(2,lQ,2,0,"label",19),_r()),2&r){const i=e.$implicit;F(1),U("ngIf",i.adivinada),F(1),U("ngIf",!i.adivinada)}}function hQ(r,e){if(1&r){const i=It();yr(0),M(1,"button",22),J("click",function(){const a=Fe(i).$implicit;return he().ValidarLetra(a.letra)}),V(2),N(),_r()}if(2&r){const i=e.$implicit;F(1),U("disabled",i.yaPresionada),F(1),nt(i.letra)}}function fQ(r,e){if(1&r){const i=It();yr(0),M(1,"button",22),J("click",function(){const a=Fe(i).$implicit;return he().ValidarLetra(a.letra)}),V(2),N(),_r()}if(2&r){const i=e.$implicit;F(1),U("disabled",i.yaPresionada),F(1),nt(i.letra)}}function pQ(r,e){if(1&r){const i=It();yr(0),M(1,"button",22),J("click",function(){const a=Fe(i).$implicit;return he().ValidarLetra(a.letra)}),V(2),N(),_r()}if(2&r){const i=e.$implicit;F(1),U("disabled",i.yaPresionada),F(1),nt(i.letra)}}function gQ(r,e){if(1&r){const i=It();M(0,"button",23),J("click",function(){return Fe(i),he().ReiniciarJuego(!0)}),V(1,"Reiniciar"),N()}}function mQ(r,e){if(1&r){const i=It();M(0,"button",24),J("click",function(){return Fe(i),he().Guardar()}),V(1,"Guardar y Salir"),N()}}let yQ=(()=>{class r{constructor(i,s,o){this.router=i,this.auth=s,this.db=o,this.palabras=[],this.letras1=new Array,this.letras2=new Array,this.letras3=new Array,this.palabraEnJuego=new Array,this.empezoElJuego=!1,this.reiniciar=!1,this.cantidadErrores=0,this.puntos=0,this.totalDePuntos=0,this.letraVacia="A",this.mostrarSpinner=!1}ngOnInit(){this.RellenarPalabras(),this.MostrarSpinner()}MostrarSpinner(){this.mostrarSpinner=!0,document.getElementById("principal").style.opacity="0.5",setTimeout(()=>{this.mostrarSpinner=!1,document.getElementById("principal").style.opacity="1",this.ComenzarJuego()},1e3)}RellenarPalabras(){this.palabras=["gato","perro","teclado","monitor","frasco","tijera","alicate","mesa","sillon","ave","baranda","papel","pantalon","camisa","gaseosa","auto","peluca","oreja","tobillo","zapato","juego","baraja","ficha","bolsa","heladera","congelado","manzana","banana","polvo","martillo","ropa","monta\xf1a","asado","vacio","manija","cordon","vereda","avenida","anillo","agua","dormir","familia","primo","fuego","lluvia","casco","dedo","espada","pistola","barco","avion","pez","sopa","hospital","peso","ovni","oveja","zorro"]}ComenzarJuego(){this.cantidadErrores=0;var i=Math.floor(Math.random()*(this.palabras.length-0))+0;console.log(i),console.log(this.palabras);var s=this.palabras[i];this.SetPalabraEnJuego(s),this.SetLetrasEnJuego();var o=this.palabras.findIndex(a=>a==s);-1!=o&&this.palabras.splice(o,1),this.empezoElJuego=!0,this.ValidarCantidadErrores()}SetPalabraEnJuego(i){this.totalDePuntos=i.length;for(var s=0;s<this.totalDePuntos;s++)this.palabraEnJuego.push(new pp(i[s]))}SetLetrasEnJuego(){for(var i="ABCDEFGHI",s=0;s<i.length;s++)this.letras1.push(new pp(i[s]));for(i="JKLMN\xd1OPQ",s=0;s<i.length;s++)this.letras2.push(new pp(i[s]));for(i="RSTUVWXYZ",s=0;s<i.length;s++)this.letras3.push(new pp(i[s]))}ValidarLetra(i){if(!this.reiniciar){this.DeshabilitarLetra(i);var s=this.palabraEnJuego.findIndex(o=>o.letra.toUpperCase()==i&&0==o.adivinada);console.log("index "+s),-1==s?(this.cantidadErrores++,this.ValidarCantidadErrores()):(this.palabraEnJuego[s].adivinada=!0,this.ValidarGano()?(this.puntos=this.puntos+this.totalDePuntos,this.reiniciar=!0):this.ValidarLetraDeNuevo(i))}}ReiniciarJuego(i){this.reiniciar=!1,this.cantidadErrores=0,this.totalDePuntos=0,this.letras1=[],this.letras2=[],this.letras3=[],this.palabraEnJuego=[],this.empezoElJuego=!0,i&&this.ComenzarJuego()}ValidarGano(){console.log("gano ?");for(var i=0;i<this.palabraEnJuego.length;i++)if(0==this.palabraEnJuego[i].adivinada)return!1;return!0}DeshabilitarLetra(i){var s;-1!=(s=this.letras1.findIndex(o=>o.letra.toUpperCase()==i))?this.letras1[s].yaPresionada=!0:-1!=(s=this.letras2.findIndex(a=>a.letra.toUpperCase()==i))?this.letras2[s].yaPresionada=!0:-1!=(s=this.letras3.findIndex(l=>l.letra.toUpperCase()==i))&&(this.letras3[s].yaPresionada=!0)}ValidarLetraDeNuevo(i){var s=this.palabraEnJuego.findIndex(o=>o.letra.toUpperCase()==i&&0==o.adivinada);-1!=s&&(this.palabraEnJuego[s].adivinada=!0,this.ValidarLetraDeNuevo(i))}ValidarCantidadErrores(){6==this.cantidadErrores&&(this.reiniciar=!0)}Guardar(){this.MostrarSpinner(),setTimeout(()=>{var i=this.auth.getUsuarioLogueado().alias;this.db.grabarJuego("ahorcado",i,this.puntos),this.puntos=0,this.ReiniciarJuego(!1),this.router.navigate(["home"])},1e3)}}return r.\u0275fac=function(i){return new(i||r)(R(We),R(Si),R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-ahorcado"]],decls:24,vars:15,consts:[["id","spinner",3,"hidden"],["id","fondo","src","../../assets//fondo2.PNG","alt",""],["id","principal"],["src","../../../assets/ahorcado/ahorcado_7.png","alt","",2,"width","20%","height","40%","position","absolute",3,"hidden"],["src","../../../assets/ahorcado/ahorcado_6.png","alt","",2,"width","20%","height","40%","position","absolute",3,"hidden"],["src","../../../assets/ahorcado/ahorcado_5.png","alt","",2,"width","20%","height","40%","position","absolute",3,"hidden"],["src","../../../assets/ahorcado/ahorcado_4.png","alt","",2,"width","20%","height","40%","position","absolute",3,"hidden"],["src","../../../assets/ahorcado/ahorcado_3.png","alt","",2,"width","20%","height","40%","position","absolute",3,"hidden"],["src","../../../assets/ahorcado/ahorcado_2.png","alt","",2,"width","20%","height","40%","position","absolute",3,"hidden"],["src","../../../assets/ahorcado/ahorcado_1.png","alt","",2,"width","20%","height","40%","position","absolute",3,"hidden"],[2,"margin-left","16%","bottom","53%","position","absolute"],[4,"ngFor","ngForOf"],[2,"left","10%","position","absolute","bottom","40%"],[2,"left","10%","position","absolute","bottom","30%"],[2,"left","10%","position","absolute","bottom","20%"],[2,"left","10%","bottom","12%","position","absolute"],["id","btnReiniciar","style","background-color: rgb(9, 234, 250); bottom: 7%;",3,"click",4,"ngIf"],["id","btnReiniciar","style","background-color: rgb(28, 230, 38); bottom: 2%;",3,"click",4,"ngIf"],["class","letraAdivinada",4,"ngIf"],["class","letraNoAdivinada",4,"ngIf"],[1,"letraAdivinada"],[1,"letraNoAdivinada"],[1,"btnLetra",3,"disabled","click"],["id","btnReiniciar",2,"background-color","rgb(9, 234, 250)","bottom","7%",3,"click"],["id","btnReiniciar",2,"background-color","rgb(28, 230, 38)","bottom","2%",3,"click"]],template:function(i,s){1&i&&(I(0,"div",0),I(1,"img",1),M(2,"div",2),I(3,"img",3),I(4,"img",4),I(5,"img",5),I(6,"img",6),I(7,"img",7),I(8,"img",8),I(9,"img",9),M(10,"div",10),Ie(11,dQ,3,2,"ng-container",11),N(),M(12,"div",12),Ie(13,hQ,3,2,"ng-container",11),N(),M(14,"div",13),Ie(15,fQ,3,2,"ng-container",11),N(),M(16,"div",14),Ie(17,pQ,3,2,"ng-container",11),N(),M(18,"h1",15),V(19),N(),I(20,"br"),Ie(21,gQ,2,0,"button",16),I(22,"br"),Ie(23,mQ,2,0,"button",17),N()),2&i&&(U("hidden",!s.mostrarSpinner),F(3),U("hidden",0!=s.cantidadErrores),F(1),U("hidden",1!=s.cantidadErrores),F(1),U("hidden",2!=s.cantidadErrores),F(1),U("hidden",3!=s.cantidadErrores),F(1),U("hidden",4!=s.cantidadErrores),F(1),U("hidden",5!=s.cantidadErrores),F(1),U("hidden",6!=s.cantidadErrores),F(2),U("ngForOf",s.palabraEnJuego),F(2),U("ngForOf",s.letras1),F(2),U("ngForOf",s.letras2),F(2),U("ngForOf",s.letras3),F(2),ji("Tus Puntos: ",s.puntos,""),F(2),U("ngIf",s.reiniciar),F(2),U("ngIf",s.reiniciar))},directives:[bh,yi],styles:["#spinner[_ngcontent-%COMP%]{position:fixed;bottom:30%;left:44%;width:80px;height:80px;background:url(spinner.bee7d2dc4a2028269900.png);background-position:center;background-repeat:no-repeat;background-size:105%;border-radius:50%;background-color:transparent;opacity:1;z-index:100;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(360deg)}}.letraAdivinada[_ngcontent-%COMP%]{font-size:120px;margin-left:30px;min-width:100px;text-align:center}.letraNoAdivinada[_ngcontent-%COMP%]{font-size:120px;margin-left:30px;min-width:100px;text-align:center;color:#000}.btnLetra[_ngcontent-%COMP%]{width:75px;height:75px;margin:3px;font-size:24px;font-weight:bold;border:2px solid black;border-radius:10px}#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:0;position:fixed;opacity:.5}#btnReiniciar[_ngcontent-%COMP%]{left:10.5%;position:absolute;width:717px;border-radius:15px;border:solid 2px black;font-weight:bold;font-size:18px}"]}),r})();class _Q{constructor(e){this.carta5C=new x("B","B"),this.gano=!1,this.mensajePerdedor="Has perdido, el rival tiene ",this.mensajeGanador="Felicidades, has ganado con ",this.SetJuego(e),this.carta5C.selected=!0}SetJuego(e){switch(e){case 1:this.carta1H=new x("2","C"),this.carta2H=new x("5","C"),this.carta1V=new x("J","T"),this.carta2V=new x("6","P"),this.carta1C=new x("7","C"),this.carta2C=new x("8","P"),this.carta3C=new x("9","C"),this.carta4C=new x("T","D"),this.carta1B=new x("5","T"),this.carta2B=new x("A","D"),this.carta3B=new x("Q","C"),this.carta4B=new x("2","P"),this.mensajePerdedor+="escalera!",this.mensajeGanador+="color a la Dama!",this.cartaGanadora=this.carta3B;break;case 2:this.carta1H=new x("3","D"),this.carta2H=new x("6","D"),this.carta1V=new x("K","C"),this.carta2V=new x("A","D"),this.carta1C=new x("2","D"),this.carta2C=new x("6","T"),this.carta3C=new x("Q","D"),this.carta4C=new x("K","D"),this.carta1B=new x("5","D"),this.carta2B=new x("J","T"),this.carta3B=new x("T","D"),this.carta4B=new x("2","D"),this.mensajePerdedor+="color al As!",this.mensajeGanador+="color al Rey!",this.cartaGanadora=this.carta2B;break;case 3:this.carta1H=new x("8","D"),this.carta2H=new x("T","T"),this.carta1V=new x("A","C"),this.carta2V=new x("3","P"),this.carta1C=new x("3","T"),this.carta2C=new x("T","P"),this.carta3C=new x("A","P"),this.carta4C=new x("2","C"),this.carta1B=new x("5","D"),this.carta2B=new x("A","T"),this.carta3B=new x("8","P"),this.carta4B=new x("T","C"),this.mensajePerdedor+="Doble Pareja de Ases y 3!",this.mensajeGanador+="Trio de 10!",this.cartaGanadora=this.carta4B;break;case 4:this.carta1H=new x("4","T"),this.carta2H=new x("8","T"),this.carta1V=new x("J","C"),this.carta2V=new x("J","P"),this.carta1C=new x("7","T"),this.carta2C=new x("J","D"),this.carta3C=new x("6","T"),this.carta4C=new x("J","T"),this.carta1B=new x("Q","D"),this.carta2B=new x("5","T"),this.carta3B=new x("2","C"),this.carta4B=new x("7","C"),this.mensajePerdedor+="Poker de Jacks!",this.mensajeGanador+="Escalera de color al 8!",this.cartaGanadora=this.carta2B;break;case 5:this.carta1H=new x("A","P"),this.carta2H=new x("K","P"),this.carta1V=new x("3","C"),this.carta2V=new x("3","P"),this.carta1C=new x("3","T"),this.carta2C=new x("2","P"),this.carta3C=new x("T","P"),this.carta4C=new x("3","D"),this.carta1B=new x("Q","P"),this.carta2B=new x("4","D"),this.carta3B=new x("J","C"),this.carta4B=new x("7","C"),this.mensajePerdedor+="Poker de 3!",this.mensajeGanador="Felicidades, era imposible ganar la mano!",this.cartaGanadora=new x("X","X");break;case 6:this.carta1H=new x("5","T"),this.carta2H=new x("K","P"),this.carta1V=new x("Q","C"),this.carta2V=new x("9","D"),this.carta1C=new x("9","T"),this.carta2C=new x("5","P"),this.carta3C=new x("Q","P"),this.carta4C=new x("2","D"),this.carta1B=new x("5","C"),this.carta2B=new x("4","D"),this.carta3B=new x("J","C"),this.carta4B=new x("7","C"),this.mensajePerdedor+="Doble Pareja de Damas y 9!",this.mensajeGanador+="Trio de 5!",this.cartaGanadora=this.carta1B;break;case 7:this.carta1H=new x("2","P"),this.carta2H=new x("A","D"),this.carta1V=new x("3","C"),this.carta2V=new x("3","P"),this.carta1C=new x("8","T"),this.carta2C=new x("8","P"),this.carta3C=new x("T","C"),this.carta4C=new x("J","C"),this.carta1B=new x("Q","D"),this.carta2B=new x("3","T"),this.carta3B=new x("4","P"),this.carta4B=new x("J","D"),this.mensajePerdedor+="Doble Pareja de 8 y 3!",this.mensajeGanador+="Doble Pareja de Jacks y 8 + Kicker As",this.cartaGanadora=this.carta4B;break;case 8:this.carta1H=new x("T","P"),this.carta2H=new x("9","D"),this.carta1V=new x("2","T"),this.carta2V=new x("5","T"),this.carta1C=new x("K","T"),this.carta2C=new x("6","T"),this.carta3C=new x("Q","P"),this.carta4C=new x("3","T"),this.carta1B=new x("J","P"),this.carta2B=new x("3","D"),this.carta3B=new x("4","P"),this.carta4B=new x("6","D"),this.mensajePerdedor+="Color al Rey",this.mensajeGanador="Felicidades, era imposible ganar la mano!",this.cartaGanadora=new x("X","X");break;case 9:this.carta1H=new x("7","C"),this.carta2H=new x("7","P"),this.carta1V=new x("6","T"),this.carta2V=new x("8","C"),this.carta1C=new x("T","T"),this.carta2C=new x("A","T"),this.carta3C=new x("7","D"),this.carta4C=new x("9","P"),this.carta1B=new x("Q","P"),this.carta2B=new x("2","C"),this.carta3B=new x("T","T"),this.carta4B=new x("K","C"),this.mensajePerdedor+="Escalera al Diez!",this.mensajeGanador+="Full de 7 y Diez!",this.cartaGanadora=this.carta3B;break;case 10:this.carta1H=new x("Q","P"),this.carta2H=new x("A","P"),this.carta1V=new x("9","C"),this.carta2V=new x("9","T"),this.carta1C=new x("2","T"),this.carta2C=new x("J","P"),this.carta3C=new x("8","P"),this.carta4C=new x("2","C"),this.carta1B=new x("2","P"),this.carta2B=new x("7","D"),this.carta3B=new x("5","D"),this.carta4B=new x("K","C"),this.mensajePerdedor+="Full de 9 y 2!",this.mensajeGanador="Felicidades, era imposible ganar la mano!",this.cartaGanadora=new x("X","X");break;case 11:this.carta1H=new x("A","P"),this.carta2H=new x("2","T"),this.carta1V=new x("K","T"),this.carta2V=new x("6","D"),this.carta1C=new x("3","C"),this.carta2C=new x("4","P"),this.carta3C=new x("K","C"),this.carta4C=new x("2","D"),this.carta1B=new x("9","C"),this.carta2B=new x("5","D"),this.carta3B=new x("J","D"),this.carta4B=new x("K","P"),this.mensajePerdedor+="Escalera al 6!",this.mensajeGanador="Felicidades, era imposible ganar la mano!",this.cartaGanadora=new x("X","X")}}}function vQ(r,e){if(1&r){const i=It();M(0,"div",4),M(1,"h1",5),V(2,"Se reparten dos cartas para el jugador, dos para el rival, 4 de las 5 en mesa y ust\xe9d podra ver todas ellas!!"),N(),M(3,"h1",6),V(4,"Finalmente, en la parte inferior izquierda hay 4 cartas que podr\xedan ser la quinta y ultima carta en mesa. Ust\xe9d deber\xe1 elegir cual de ellas te permitir\xeda ganar el bote."),N(),M(5,"h1",7),V(6,"Mucha suerte!"),N(),I(7,"br"),M(8,"h4",8),V(9,"Nota: Solo se podr\xe1 elegir una de estas ultimas, o ninguna en el caso de considerar imposible ganar la mano."),N(),I(10,"br"),I(11,"br"),M(12,"button",9),J("click",function(){return Fe(i),he().ComenzarJuego()}),V(13,"Comenzar Juego"),N(),N()}}function bQ(r,e){if(1&r){const i=It();M(0,"button",36),J("click",function(){return Fe(i),he(2).Reiniciar(!0)}),V(1,"Reiniciar"),N()}}function wQ(r,e){if(1&r){const i=It();M(0,"button",37),J("click",function(){return Fe(i),he(2).Guardar()}),V(1,"Guardar y Salir"),N()}}const CQ=function(r){return{selected:r}},gp=function(r,e){return{selected:r,unSelected:e}};function EQ(r,e){if(1&r){const i=It();M(0,"div",10),M(1,"label",11),V(2,"MI MANO"),N(),M(3,"label",12),V(4,"MANO DEL RIVAL"),N(),I(5,"br"),I(6,"img",13),I(7,"img",14),I(8,"img",15),I(9,"img",16),I(10,"br"),I(11,"br"),I(12,"img",17),M(13,"h2",18),V(14,"CARTAS EN MESA"),N(),I(15,"img",19),I(16,"img",20),I(17,"img",21),I(18,"img",22),I(19,"img",23),I(20,"br"),I(21,"br"),I(22,"br"),M(23,"h2",24),V(24,"SELECCIONA LA 5TA CARTA"),N(),M(25,"h2",25),V(26,"QUE TE HAR\xcdA GANAR"),N(),M(27,"h5",26),V(28,"(S\xd3LO GANA 1 O NINGUNA)"),N(),M(29,"img",27),J("click",function(){return Fe(i),he().SeleccionarCarta(1)}),N(),M(30,"img",28),J("click",function(){return Fe(i),he().SeleccionarCarta(2)}),N(),M(31,"img",29),J("click",function(){return Fe(i),he().SeleccionarCarta(3)}),N(),M(32,"img",30),J("click",function(){return Fe(i),he().SeleccionarCarta(4)}),N(),I(33,"br"),I(34,"br"),M(35,"button",31),J("click",function(){return Fe(i),he().ValidarMano()}),V(36,"Validar Mano"),N(),M(37,"h4",32),V(38),N(),M(39,"h4",33),V(40),N(),Ie(41,bQ,2,0,"button",34),Ie(42,wQ,2,0,"button",35),N()}if(2&r){const i=he();F(6),U("src",i.simulacion.carta1H.img,Dt),F(1),U("src",i.simulacion.carta2H.img,Dt),F(1),U("src",i.simulacion.carta1V.img,Dt),F(1),U("src",i.simulacion.carta2V.img,Dt),F(6),U("src",i.simulacion.carta1C.img,Dt),F(1),U("src",i.simulacion.carta2C.img,Dt),F(1),U("src",i.simulacion.carta3C.img,Dt),F(1),U("src",i.simulacion.carta4C.img,Dt),F(1),U("src",i.simulacion.carta5C.img,Dt)("ngClass",xT(23,CQ,i.simulacion.carta5C.selected)),F(10),U("src",i.simulacion.carta1B.img,Dt)("ngClass",fi(25,gp,i.simulacion.carta1B.selected,!i.simulacion.carta1B.selected)),F(1),U("src",i.simulacion.carta2B.img,Dt)("ngClass",fi(28,gp,i.simulacion.carta2B.selected,!i.simulacion.carta2B.selected)),F(1),U("src",i.simulacion.carta3B.img,Dt)("ngClass",fi(31,gp,i.simulacion.carta3B.selected,!i.simulacion.carta3B.selected)),F(1),U("src",i.simulacion.carta4B.img,Dt)("ngClass",fi(34,gp,i.simulacion.carta4B.selected,!i.simulacion.carta4B.selected)),F(3),U("disabled",!i.puedeValidarMano),F(3),nt(i.mensaje),F(2),ji("Tus Puntos: ",i.puntos,""),F(1),U("ngIf",i.terminoElJuego),F(1),U("ngIf",i.terminoElJuego)}}let DQ=(()=>{class r{constructor(i,s,o){this.router=i,this.auth=s,this.db=o,this.empezoElJuego=!1,this.terminoElJuego=!1,this.esGanador=!1,this.puedeValidarMano=!1,this.puntos=0,this.mensaje="",this.mostrarSpinner=!1,this.simulacionesNoJugadas=[1,2,3,4,5,6,7,8,9,10,11]}ngOnInit(){}ComenzarJuego(){this.empezoElJuego=!0;var i=this.GetNumeroSimulacionNoJugada();this.simulacion=new _Q(i),this.ValidarSelecteds()}GetNumeroSimulacionNoJugada(){var i=Math.floor(Math.random()*(this.simulacionesNoJugadas.length-0))+0,s=this.simulacionesNoJugadas[i],o=this.simulacionesNoJugadas.findIndex(a=>a==s);return-1!=o?(this.simulacionesNoJugadas.splice(o,1),s):(this.simulacionesNoJugadas=[1,2,3,4,5,6,7,8,9,10,11],this.GetNumeroSimulacionNoJugada())}SeleccionarCarta(i){if(!this.terminoElJuego){switch(i){case 1:this.simulacion.carta1B.selected=!this.simulacion.carta1B.selected;break;case 2:this.simulacion.carta2B.selected=!this.simulacion.carta2B.selected;break;case 3:this.simulacion.carta3B.selected=!this.simulacion.carta3B.selected;break;case 4:this.simulacion.carta4B.selected=!this.simulacion.carta4B.selected}this.ValidarSelecteds()}}ValidarSelecteds(){var i=0;i=this.simulacion.carta1B.selected?i+1:i+0,i=this.simulacion.carta2B.selected?i+1:i+0,i=this.simulacion.carta3B.selected?i+1:i+0,this.puedeValidarMano=0==(i=this.simulacion.carta4B.selected?i+1:i+0)||1==i}ValidarMano(){this.MostrarSpinner(),setTimeout(()=>{this.puedeValidarMano=!1,this.simulacion.carta1B.selected?this.simulacion.carta1B.numero==this.simulacion.cartaGanadora.numero&&this.simulacion.carta1B.palo==this.simulacion.cartaGanadora.palo&&(this.esGanador=!0):this.simulacion.carta2B.selected?this.simulacion.carta2B.numero==this.simulacion.cartaGanadora.numero&&this.simulacion.carta2B.palo==this.simulacion.cartaGanadora.palo&&(this.esGanador=!0):this.simulacion.carta3B.selected?this.simulacion.carta3B.numero==this.simulacion.cartaGanadora.numero&&this.simulacion.carta3B.palo==this.simulacion.cartaGanadora.palo&&(this.esGanador=!0):this.simulacion.carta4B.selected?this.simulacion.carta4B.numero==this.simulacion.cartaGanadora.numero&&this.simulacion.carta4B.palo==this.simulacion.cartaGanadora.palo&&(this.esGanador=!0):"X"==this.simulacion.cartaGanadora.numero&&"X"==this.simulacion.cartaGanadora.palo&&(this.esGanador=!0),this.terminoElJuego=!0,this.MostrarMensaje()},1e3)}MostrarMensaje(){this.esGanador?(this.mensaje=this.simulacion.mensajeGanador,this.puntos++):this.mensaje=this.simulacion.mensajePerdedor}Reiniciar(i){this.mensaje="",this.terminoElJuego=!1,this.esGanador=!1,i&&this.ComenzarJuego()}Guardar(){this.MostrarSpinner(),setTimeout(()=>{this.Reiniciar(!1);var i=this.auth.getUsuarioLogueado().alias;this.db.grabarJuego("poker",i,this.puntos),this.puntos=0,this.router.navigate(["home"])},1e3)}MostrarSpinner(){this.mostrarSpinner=!0,document.getElementById("principal").style.opacity="0.5",setTimeout(()=>{this.mostrarSpinner=!1,document.getElementById("principal").style.opacity="1"},1e3)}}return r.\u0275fac=function(i){return new(i||r)(R(We),R(Si),R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-poker"]],decls:5,vars:3,consts:[["id","fondo","src","../../../assets//fondo2.PNG","alt",""],["style","margin-left: 30%;",4,"ngIf"],["id","spinner",3,"hidden"],["style","margin-left: 2%;","id","principal",4,"ngIf"],[2,"margin-left","30%"],[1,"explicacion",2,"bottom","80%"],[1,"explicacion",2,"bottom","70%"],[1,"explicacion",2,"bottom","60%"],[1,"explicacion",2,"bottom","50%"],["id","btnComenzar",3,"click"],["id","principal",2,"margin-left","2%"],["id","cartasJug"],["id","cartasJug",2,"margin-left","12%"],["id","imgCarta",2,"left","2%",3,"src"],["id","imgCarta",2,"left","11%",3,"src"],["id","imgCarta",2,"left","26%",3,"src"],["id","imgCarta",2,"left","35%",3,"src"],["src","../../../assets/rankingManos.PNG","id","ranking"],[2,"left","12%","bottom","62%"],["id","imgCarta",2,"left","2%","bottom","43%",3,"src"],["id","imgCarta",2,"left","11%","bottom","43%",3,"src"],["id","imgCarta",2,"left","20%","bottom","43%",3,"src"],["id","imgCarta",2,"left","29%","bottom","43%",3,"src"],["id","imgCarta",2,"left","38%","bottom","43%",3,"src","ngClass"],[2,"left","8%","bottom","38%"],[2,"left","8%","bottom","34%"],[2,"left","8%","bottom","31%"],["id","imgCarta",2,"left","2%","bottom","11%",3,"src","ngClass","click"],["id","imgCarta",2,"left","11%","bottom","11%",3,"src","ngClass","click"],["id","imgCarta",2,"left","20%","bottom","11%",3,"src","ngClass","click"],["id","imgCarta",2,"left","29%","bottom","11%",3,"src","ngClass","click"],["id","btnValidar",3,"disabled","click"],[2,"right","5%","bottom","20%"],[2,"right","5%","bottom","15%"],["id","btnReiniciar",3,"click",4,"ngIf"],["id","btnGuardar",3,"click",4,"ngIf"],["id","btnReiniciar",3,"click"],["id","btnGuardar",3,"click"]],template:function(i,s){1&i&&(I(0,"img",0),I(1,"br"),Ie(2,vQ,14,0,"div",1),I(3,"div",2),Ie(4,EQ,43,37,"div",3)),2&i&&(F(2),U("ngIf",!s.empezoElJuego),F(1),U("hidden",!s.mostrarSpinner),F(1),U("ngIf",s.empezoElJuego))},directives:[yi,Ny],styles:["#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:-1;position:fixed;opacity:.4}#cartasJug[_ngcontent-%COMP%]{font-size:32px;font-weight:bold;margin-left:4%}h2[_ngcontent-%COMP%]{font-weight:bold;position:absolute;z-index:3}h5[_ngcontent-%COMP%]{font-weight:bold;position:absolute;z-index:3}h4[_ngcontent-%COMP%]{font-weight:bold;position:absolute;text-align:right;z-index:3}.explicacion[_ngcontent-%COMP%]{left:5%;position:absolute;z-index:3}#btnValidar[_ngcontent-%COMP%]{width:500px;height:40px;border-radius:15px;border:solid 2px black;background-color:#1ce626;font-weight:bold;font-size:18px;position:absolute;left:2%;bottom:3%;z-index:3}#btnComenzar[_ngcontent-%COMP%]{width:600px;height:40px;border-radius:15px;border:solid 2px black;background-color:#1ce626;font-weight:bold;font-size:18px;position:absolute;left:30%;bottom:30%}#btnReiniciar[_ngcontent-%COMP%]{width:500px;height:40px;border-radius:15px;border:solid 2px black;background-color:#09eafa;font-weight:bold;font-size:18px;position:absolute;right:5%;bottom:3%}#btnGuardar[_ngcontent-%COMP%]{width:500px;height:40px;border-radius:15px;border:solid 2px black;background-color:#09eafa;font-weight:bold;font-size:18px;position:absolute;right:5%;bottom:8%}#imgCarta[_ngcontent-%COMP%]{width:130px;height:175px;position:absolute}.selected[_ngcontent-%COMP%]{border:5px solid rgb(27,228,27);border-radius:10px}.unSelected[_ngcontent-%COMP%]{border:5px solid rgb(252,12,4);border-radius:10px}#ranking[_ngcontent-%COMP%]{width:280px;height:380px;position:sticky;bottom:60%;left:80%;border:3px solid black;border-radius:10px}#spinner[_ngcontent-%COMP%]{position:fixed;bottom:30%;left:44%;width:80px;height:80px;background:url(spinner.bee7d2dc4a2028269900.png);background-position:center;background-repeat:no-repeat;background-size:105%;border-radius:50%;background-color:transparent;opacity:1;z-index:100;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(360deg)}}"]}),r})(),ds=(()=>{class r{constructor(i,s){this.auth=i,this.router=s}canActivate(i,s){return""!=this.auth.getUsuarioLogueado().alias||(this.router.navigate([""]),!1)}}return r.\u0275fac=function(i){return new(i||r)(j(Si),j(We))},r.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class IQ{constructor(e,i){this.activa=!1,this.yaSalio=!1,this.img=i,this.nombre=e}}class $k{constructor(e){this.personajes=e,this.ReiniciarTodo()}ReiniciarTodo(){this.personajes.forEach(e=>{e.activa=!1,e.yaSalio=!1})}Traducir(e){switch(e){case"Abe Simpson":return"Abraham Simpson";case"Rainier Wolfcastle":return"Mc Bain";case"Homer Simpson":return"Homero Simpson";case"Mr. Burns":return"Montgomery Burns";case"Otto":return"Otto";case"Ralph Wiggum":return"Rafa Gorgory";case"Dr. Nick":return"Doctor Nick";case"Bart Simpson":return"Bart Simpson";case"Chief Wiggum":return"Clancy Gorgory";case"Comic Book Guy":return"Hombre de las Historietas";case"Mayor Quimby":return"Alcalde Diamante";case"Principal Skinner":return"Simur Skinner";case"Waylon Smithers":return"Smithers";case"Milhouse Van Houten":return"Milhouse Van Houten";case"Nelson Muntz":return"Nelson Rufino";case"Groundskeeper Willie":return"Willie";case"Duffman":return"Hombre Duff";default:return e}}}class Gk{}class qk{}class ei{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const o=i.slice(0,s),a=o.toLowerCase(),l=i.slice(s+1).trim();this.maybeSetNormalizedName(o,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(i=>{let s=e[i];const o=i.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(i,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof ei?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){const i=new ei;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof ei?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){const i=e.name.toLowerCase();switch(e.op){case"a":case"s":let s=e.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(e.name,i);const o=("a"===e.op?this.headers.get(i):void 0)||[];o.push(...s),this.headers.set(i,o);break;case"d":const a=e.value;if(a){let l=this.headers.get(i);if(!l)return;l=l.filter(d=>-1===a.indexOf(d)),0===l.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,l)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}}class TQ{encodeKey(e){return zk(e)}encodeValue(e){return zk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const xQ=/%(\d[a-f0-9])/gi,AQ={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zk(r){return encodeURIComponent(r).replace(xQ,(e,i)=>{var s;return null!==(s=AQ[i])&&void 0!==s?s:e})}function Wk(r){return`${r}`}class hs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new TQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,e){const i=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[l,d]=-1==a?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,a)),e.decodeValue(o.slice(a+1))],f=i.get(l)||[];f.push(d),i.set(l,f)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{const s=e.fromObject[i];this.map.set(i,Array.isArray(s)?s:[s])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){const i=[];return Object.keys(e).forEach(s=>{const o=e[s];Array.isArray(o)?o.forEach(a=>{i.push({param:s,value:a,op:"a"})}):i.push({param:s,value:o,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const i=this.encoder.encodeKey(e);return this.map.get(e).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const i=new hs({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const i=("a"===e.op?this.map.get(e.param):void 0)||[];i.push(Wk(e.value)),this.map.set(e.param,i);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let s=this.map.get(e.param)||[];const o=s.indexOf(Wk(e.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(e.param,s):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class MQ{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Kk(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function Qk(r){return"undefined"!=typeof Blob&&r instanceof Blob}function Jk(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Al{constructor(e,i,s,o){let a;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,a=o):a=s,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ei),this.context||(this.context=new MQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=i;else{const d=i.indexOf("?");this.urlWithParams=i+(-1===d?"?":d<i.length-1?"&":"")+l}}else this.params=new hs,this.urlWithParams=i}serializeBody(){return null===this.body?null:Kk(this.body)||Qk(this.body)||Jk(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jk(this.body)?null:Qk(this.body)?this.body.type||null:Kk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var i;const s=e.method||this.method,o=e.url||this.url,a=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,_=e.params||this.params;const v=null!==(i=e.context)&&void 0!==i?i:this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((b,w)=>b.set(w,e.setHeaders[w]),m)),e.setParams&&(_=Object.keys(e.setParams).reduce((b,w)=>b.set(w,e.setParams[w]),_)),new Al(s,o,l,{params:_,headers:m,context:v,reportProgress:f,responseType:a,withCredentials:d})}}var bt=(()=>((bt=bt||{})[bt.Sent=0]="Sent",bt[bt.UploadProgress=1]="UploadProgress",bt[bt.ResponseHeader=2]="ResponseHeader",bt[bt.DownloadProgress=3]="DownloadProgress",bt[bt.Response=4]="Response",bt[bt.User=5]="User",bt))();class Gw{constructor(e,i=200,s="OK"){this.headers=e.headers||new ei,this.status=void 0!==e.status?e.status:i,this.statusText=e.statusText||s,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qw extends Gw{constructor(e={}){super(e),this.type=bt.ResponseHeader}clone(e={}){return new qw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mp extends Gw{constructor(e={}){super(e),this.type=bt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new mp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Yk extends Gw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function zw(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Xk=(()=>{class r{constructor(i){this.handler=i}request(i,s,o={}){let a;if(i instanceof Al)a=i;else{let f,m;f=o.headers instanceof ei?o.headers:new ei(o.headers),o.params&&(m=o.params instanceof hs?o.params:new hs({fromObject:o.params})),a=new Al(i,s,void 0!==o.body?o.body:null,{headers:f,context:o.context,params:m,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=de(a).pipe(fa(f=>this.handler.handle(f)));if(i instanceof Al||"events"===o.observe)return l;const d=l.pipe(Os(f=>f instanceof mp));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Me(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(Me(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(Me(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(Me(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new hs).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,o={}){return this.request("PATCH",i,zw(o,s))}post(i,s,o={}){return this.request("POST",i,zw(o,s))}put(i,s,o={}){return this.request("PUT",i,zw(o,s))}}return r.\u0275fac=function(i){return new(i||r)(j(Gk))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();class Zk{constructor(e,i){this.next=e,this.interceptor=i}handle(e){return this.interceptor.intercept(e,this.next)}}const eO=new ye("HTTP_INTERCEPTORS");let kQ=(()=>{class r{intercept(i,s){return s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const OQ=/^\)\]\}',?\n/;let tO=(()=>{class r{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ue(s=>{const o=this.xhrFactory.build();if(o.open(i.method,i.urlWithParams),i.withCredentials&&(o.withCredentials=!0),i.headers.forEach((w,C)=>o.setRequestHeader(w,C.join(","))),i.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const w=i.detectContentTypeHeader();null!==w&&o.setRequestHeader("Content-Type",w)}if(i.responseType){const w=i.responseType.toLowerCase();o.responseType="json"!==w?w:"text"}const a=i.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const w=1223===o.status?204:o.status,C=o.statusText||"OK",D=new ei(o.getAllResponseHeaders()),E=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(o)||i.url;return l=new qw({headers:D,status:w,statusText:C,url:E}),l},f=()=>{let{headers:w,status:C,statusText:D,url:E}=d(),S=null;204!==C&&(S=void 0===o.response?o.responseText:o.response),0===C&&(C=S?200:0);let T=C>=200&&C<300;if("json"===i.responseType&&"string"==typeof S){const B=S;S=S.replace(OQ,"");try{S=""!==S?JSON.parse(S):null}catch(W){S=B,T&&(T=!1,S={error:W,text:S})}}T?(s.next(new mp({body:S,headers:w,status:C,statusText:D,url:E||void 0})),s.complete()):s.error(new Yk({error:S,headers:w,status:C,statusText:D,url:E||void 0}))},m=w=>{const{url:C}=d(),D=new Yk({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:C||void 0});s.error(D)};let _=!1;const v=w=>{_||(s.next(d()),_=!0);let C={type:bt.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),"text"===i.responseType&&!!o.responseText&&(C.partialText=o.responseText),s.next(C)},b=w=>{let C={type:bt.UploadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),s.next(C)};return o.addEventListener("load",f),o.addEventListener("error",m),o.addEventListener("timeout",m),o.addEventListener("abort",m),i.reportProgress&&(o.addEventListener("progress",v),null!==a&&o.upload&&o.upload.addEventListener("progress",b)),o.send(a),s.next({type:bt.Sent}),()=>{o.removeEventListener("error",m),o.removeEventListener("abort",m),o.removeEventListener("load",f),o.removeEventListener("timeout",m),i.reportProgress&&(o.removeEventListener("progress",v),null!==a&&o.upload&&o.upload.removeEventListener("progress",b)),o.readyState!==o.DONE&&o.abort()}})}}return r.\u0275fac=function(i){return new(i||r)(j(hS))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})();const Ww=new ye("XSRF_COOKIE_NAME"),Kw=new ye("XSRF_HEADER_NAME");class nO{}let FQ=(()=>{class r{constructor(i,s,o){this.doc=i,this.platform=s,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=rS(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return r.\u0275fac=function(i){return new(i||r)(j(Ot),j(Qd),j(Ww))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),Qw=(()=>{class r{constructor(i,s){this.tokenService=i,this.headerName=s}intercept(i,s){const o=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||o.startsWith("http://")||o.startsWith("https://"))return s.handle(i);const a=this.tokenService.getToken();return null!==a&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,a)})),s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(j(nO),j(Kw))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),VQ=(()=>{class r{constructor(i,s){this.backend=i,this.injector=s,this.chain=null}handle(i){if(null===this.chain){const s=this.injector.get(eO,[]);this.chain=s.reduceRight((o,a)=>new Zk(o,a),this.backend)}return this.chain.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(j(qk),j(Ee))},r.\u0275prov=ee({token:r,factory:r.\u0275fac}),r})(),LQ=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:Qw,useClass:kQ}]}}static withOptions(i={}){return{ngModule:r,providers:[i.cookieName?{provide:Ww,useValue:i.cookieName}:[],i.headerName?{provide:Kw,useValue:i.headerName}:[]]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r}),r.\u0275inj=dn({providers:[Qw,{provide:eO,useExisting:Qw,multi:!0},{provide:nO,useClass:FQ},{provide:Ww,useValue:"XSRF-TOKEN"},{provide:Kw,useValue:"X-XSRF-TOKEN"}]}),r})(),jQ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r}),r.\u0275inj=dn({providers:[Xk,{provide:Gk,useClass:VQ},tO,{provide:qk,useExisting:tO}],imports:[[LQ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})(),BQ=(()=>{class r{constructor(i){this.http=i,this.url="",this.header=new ei({"x-rapidapi-host":"api-football-v1.p.rapidapi.com","x-rapidapi-key":"cba6e7ecb7msh8139a5898a7f9ccp1d4744jsn029b0c05ee9c"})}getalgo(){return this.http.get("https://thesimpsonsquoteapi.glitch.me/quotes?count=10")}}return r.\u0275fac=function(i){return new(i||r)(j(Xk))},r.\u0275prov=ee({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function UQ(r,e){1&r&&I(0,"img",10),2&r&&U("src",he().$implicit.img,Dt)}function HQ(r,e){if(1&r&&(yr(0),Ie(1,UQ,1,1,"img",9),_r()),2&r){const i=e.$implicit;F(1),U("ngIf",i.activa)}}const yp=function(r,e){return{bien:r,mal:e}};function $Q(r,e){if(1&r){const i=It();M(0,"button",11),J("click",function(){Fe(i);const o=he();return o.ValidarJuego(o.btn1)}),V(1),N()}if(2&r){const i=he();U("ngClass",fi(2,yp,1==i.botonBien,1==i.botonMal)),F(1),nt(i.btn1)}}function GQ(r,e){if(1&r){const i=It();M(0,"button",12),J("click",function(){Fe(i);const o=he();return o.ValidarJuego(o.btn2)}),V(1),N()}if(2&r){const i=he();U("ngClass",fi(2,yp,2==i.botonBien,2==i.botonMal)),F(1),nt(i.btn2)}}function qQ(r,e){if(1&r){const i=It();M(0,"button",13),J("click",function(){Fe(i);const o=he();return o.ValidarJuego(o.btn3)}),V(1),N()}if(2&r){const i=he();U("ngClass",fi(2,yp,3==i.botonBien,3==i.botonMal)),F(1),nt(i.btn3)}}function zQ(r,e){if(1&r){const i=It();M(0,"button",14),J("click",function(){Fe(i);const o=he();return o.ValidarJuego(o.btn4)}),V(1),N()}if(2&r){const i=he();U("ngClass",fi(2,yp,4==i.botonBien,4==i.botonMal)),F(1),nt(i.btn4)}}function WQ(r,e){if(1&r){const i=It();M(0,"button",15),J("click",function(){return Fe(i),he().Guardar()}),V(1,"Guardar y Salir"),N()}}let KQ=(()=>{class r{constructor(i,s,o,a){this.api=i,this.router=s,this.auth=o,this.db=a,this.personajes=[],this.juegoActual=new $k(this.personajes),this.empezoElJuego=!1,this.btn1="",this.btn2="",this.btn3="",this.btn4="",this.puntos=0,this.deshabilitar=!1,this.botonBien=0,this.botonMal=0,this.mostrarSpinner=!1}ngOnInit(){this.MostrarSpinner(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),this.SetPersonajesFromApi(),setTimeout(()=>{this.ComenzarJuego()},4e3)}SetPersonajesFromApi(){this.api.getalgo().subscribe(i=>{i.forEach(o=>{var a=this.juegoActual.Traducir(o.character);-1==this.personajes.findIndex(d=>d.nombre==a)&&this.personajes.push(new IQ(a,o.image))})})}ComenzarJuego(){this.deshabilitar=!1,this.btn1="",this.btn2="",this.btn3="",this.btn4="",this.juegoActual=new $k(this.personajes),this.juegoActual.personajes.length>=4?(this.ActivarPersonaje(),this.SetBotones(),this.empezoElJuego=!0):this.ngOnInit()}ActivarPersonaje(){var i=Math.floor(Math.random()*(this.personajes.length-0))+0;this.juegoActual.personajes[i].activa=!0,this.juegoActual.personajes[i].yaSalio=!0}SetBotones(){var i=[0,1,2,3];switch(Math.floor(Math.random()*(i.length-0))+1){case 1:this.btn1=this.juegoActual.personajes.filter(d=>d.activa)[0].nombre;var o=this.juegoActual.personajes.findIndex(d=>d.nombre==this.btn1);this.juegoActual.personajes[o].yaSalio=!0,i=[1,2,3];break;case 2:this.btn2=this.juegoActual.personajes.filter(d=>d.activa)[0].nombre,o=this.juegoActual.personajes.findIndex(d=>d.nombre==this.btn2),this.juegoActual.personajes[o].yaSalio=!0,i=[0,2,3];break;case 3:this.btn3=this.juegoActual.personajes.filter(d=>d.activa)[0].nombre,o=this.juegoActual.personajes.findIndex(d=>d.nombre==this.btn3),this.juegoActual.personajes[o].yaSalio=!0,i=[0,1,3];break;case 4:this.btn4=this.juegoActual.personajes.filter(d=>d.activa)[0].nombre,o=this.juegoActual.personajes.findIndex(d=>d.nombre==this.btn4),this.juegoActual.personajes[o].yaSalio=!0,i=[0,1,2]}for(var a=0;a<3;a++){var l=Math.floor(Math.random()*(this.personajes.length-0))+0;""==this.btn1?0==this.juegoActual.personajes[l].yaSalio?(this.btn1=this.juegoActual.personajes[l].nombre,this.juegoActual.personajes[l].yaSalio=!0):a--:""==this.btn2?0==this.juegoActual.personajes[l].yaSalio?(this.btn2=this.juegoActual.personajes[l].nombre,this.juegoActual.personajes[l].yaSalio=!0):a--:""==this.btn3?0==this.juegoActual.personajes[l].yaSalio?(this.btn3=this.juegoActual.personajes[l].nombre,this.juegoActual.personajes[l].yaSalio=!0):a--:""==this.btn4&&(0==this.juegoActual.personajes[l].yaSalio?(this.btn4=this.juegoActual.personajes[l].nombre,this.juegoActual.personajes[l].yaSalio=!0):a--)}}ValidarJuego(i){if(!this.deshabilitar){var s=this.juegoActual.personajes.findIndex(o=>o.activa);i==this.juegoActual.personajes[s].nombre&&this.puntos++,this.CambiarColoresBotones(i,s).then(o=>{this.EliminarPersonajeActivo(s),this.ComenzarJuego()})}}CambiarColoresBotones(i,s){this.deshabilitar=!0;var o=this.juegoActual.personajes[s].nombre;return i==o||(this.botonMal=this.btn1==i?1:this.btn2==i?2:this.btn3==i?3:4),this.botonBien=this.btn1==o?1:this.btn2==o?2:this.btn3==o?3:4,new Promise((a,l)=>{setTimeout(()=>{this.deshabilitar=!1,this.botonMal=0,this.botonBien=0,a(!0)},1500)})}EliminarPersonajeActivo(i){this.personajes.splice(i,1)}Guardar(){this.MostrarSpinner(),setTimeout(()=>{var i=this.auth.getUsuarioLogueado().alias;this.db.grabarJuego("preguntados",i,this.puntos),this.puntos=0,this.router.navigate(["home"])},4e3)}MostrarSpinner(){this.mostrarSpinner=!0,document.getElementById("principal").style.opacity="0.5",document.getElementById("fondo").style.opacity="0.5",setTimeout(()=>{this.mostrarSpinner=!1,document.getElementById("principal").style.opacity="1",document.getElementById("fondo").style.opacity="1"},4e3)}}return r.\u0275fac=function(i){return new(i||r)(R(BQ),R(We),R(Si),R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-preguntados"]],decls:19,vars:8,consts:[["id","spinner",3,"hidden"],["id","fondo","src","../../../assets//tv.PNG","alt",""],["id","principal"],[4,"ngFor","ngForOf"],["style","left: 1%; bottom: 10%;","id","btn1",3,"ngClass","click",4,"ngIf"],["style","right: 1%; bottom: 10%;","id","btn2",3,"ngClass","click",4,"ngIf"],["style","left: 1%; bottom: 2%;","id","btn3",3,"ngClass","click",4,"ngIf"],["style","right: 1%; bottom: 2%;","id","btn4",3,"ngClass","click",4,"ngIf"],["style","right: 1%; top: 14%;","id","btnGuardar",3,"click",4,"ngIf"],["id","imagen",3,"src",4,"ngIf"],["id","imagen",3,"src"],["id","btn1",2,"left","1%","bottom","10%",3,"ngClass","click"],["id","btn2",2,"right","1%","bottom","10%",3,"ngClass","click"],["id","btn3",2,"left","1%","bottom","2%",3,"ngClass","click"],["id","btn4",2,"right","1%","bottom","2%",3,"ngClass","click"],["id","btnGuardar",2,"right","1%","top","14%",3,"click"]],template:function(i,s){1&i&&(I(0,"div",0),I(1,"img",1),M(2,"div",2),Ie(3,HQ,2,1,"ng-container",3),I(4,"br"),I(5,"br"),I(6,"br"),Ie(7,$Q,2,5,"button",4),I(8,"br"),Ie(9,GQ,2,5,"button",5),I(10,"br"),Ie(11,qQ,2,5,"button",6),I(12,"br"),Ie(13,zQ,2,5,"button",7),Ie(14,WQ,2,0,"button",8),I(15,"br"),I(16,"br"),M(17,"h1"),V(18),N(),N()),2&i&&(U("hidden",!s.mostrarSpinner),F(3),U("ngForOf",s.juegoActual.personajes),F(4),U("ngIf",s.empezoElJuego),F(2),U("ngIf",s.empezoElJuego),F(2),U("ngIf",s.empezoElJuego),F(2),U("ngIf",s.empezoElJuego),F(1),U("ngIf",s.empezoElJuego),F(4),ji("PUNTOS: ",s.puntos,""))},directives:[bh,yi,Ny],styles:["#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:-1;position:fixed;opacity:1}#imagen[_ngcontent-%COMP%]{position:absolute;left:40%;bottom:20%;max-width:100%;height:auto}img[_ngcontent-%COMP%]{width:350px}button[_ngcontent-%COMP%]{width:48.8%;height:70px;border-radius:15px;border:solid 2px black;background-color:#fbff18;font-weight:bold;font-size:44px;position:absolute;z-index:3}#btnGuardar[_ngcontent-%COMP%]{width:17%;height:40px;border-radius:15px;border:solid 2px rgb(251,255,24);background-color:#000;color:#fff;font-weight:bold;font-size:20px;position:absolute;z-index:3}.bien[_ngcontent-%COMP%]{background-color:#1ce626}.mal[_ngcontent-%COMP%]{background-color:#fc0c04}h1[_ngcontent-%COMP%]{position:absolute;right:3%;top:6%;font-family:serif;font-style:oblique;font-weight:bold;color:#000;font-size:60px;text-shadow:-1px 0 rgb(251,255,24),0 1px rgb(251,255,24),1px 0 rgb(251,255,24),0 -1px rgb(251,255,24)}#spinner[_ngcontent-%COMP%]{position:fixed;bottom:30%;left:44%;width:80px;height:80px;background:url(spinner.bee7d2dc4a2028269900.png);background-position:center;background-repeat:no-repeat;background-size:105%;border-radius:50%;background-color:transparent;opacity:1;z-index:100;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(360deg)}}"]}),r})();class Ml{constructor(e,i){this.alias=e,this.puntaje=i}}function QQ(r,e){if(1&r&&(yr(0),M(1,"label",10),V(2),N(),M(3,"label",11),V(4),N(),I(5,"br"),_r()),2&r){const i=e.$implicit;F(2),nt(i.alias),F(2),nt(i.puntaje)}}function JQ(r,e){if(1&r&&(M(0,"div",5),M(1,"label",6),V(2,"POKER"),N(),I(3,"br"),M(4,"label",7),V(5,"Jugador"),N(),M(6,"label",8),V(7,"Puntaje"),N(),I(8,"br"),Ie(9,QQ,6,2,"ng-container",9),N()),2&r){const i=he();F(9),U("ngForOf",i.listadoPoker)}}function YQ(r,e){if(1&r&&(yr(0),M(1,"label",10),V(2),N(),M(3,"label",11),V(4),N(),I(5,"br"),_r()),2&r){const i=e.$implicit;F(2),nt(i.alias),F(2),nt(i.puntaje)}}function XQ(r,e){if(1&r&&(M(0,"div",5),M(1,"label",12),V(2,"SIMSONIZADOS"),N(),I(3,"br"),M(4,"label",7),V(5,"Jugador"),N(),M(6,"label",8),V(7,"Puntaje"),N(),I(8,"br"),Ie(9,YQ,6,2,"ng-container",9),N()),2&r){const i=he();F(9),U("ngForOf",i.listadoPreguntados)}}function ZQ(r,e){if(1&r&&(yr(0),M(1,"label",10),V(2),N(),M(3,"label",11),V(4),N(),I(5,"br"),_r()),2&r){const i=e.$implicit;F(2),nt(i.alias),F(2),nt(i.puntaje)}}function eJ(r,e){if(1&r&&(M(0,"div",5),M(1,"label",13),V(2,"AHORCADO"),N(),I(3,"br"),M(4,"label",7),V(5,"Jugador"),N(),M(6,"label",8),V(7,"Puntaje"),N(),I(8,"br"),Ie(9,ZQ,6,2,"ng-container",9),N()),2&r){const i=he();F(9),U("ngForOf",i.listadoAhorcado)}}function tJ(r,e){if(1&r&&(yr(0),M(1,"label",10),V(2),N(),M(3,"label",11),V(4),N(),I(5,"br"),_r()),2&r){const i=e.$implicit;F(2),nt(i.alias),F(2),nt(i.puntaje)}}function nJ(r,e){if(1&r&&(M(0,"div",5),M(1,"label",14),V(2,"MAYOR O MENOR"),N(),I(3,"br"),M(4,"label",7),V(5,"Jugador"),N(),M(6,"label",8),V(7,"Puntaje"),N(),I(8,"br"),Ie(9,tJ,6,2,"ng-container",9),N()),2&r){const i=he();F(9),U("ngForOf",i.listadoMayorMenor)}}let rJ=(()=>{class r{constructor(i){this.db=i,this.listadoMayorMenor=new Array,this.listadoPreguntados=new Array,this.listadoPoker=new Array,this.listadoAhorcado=new Array,this.aliasListMayorMenor=new Array,this.aliasListPreguntados=new Array,this.aliasListPoker=new Array,this.aliasListAhorcado=new Array,this.cargoTodo=!1,this.mostrarSpinner=!1}ngOnInit(){this.MostrarSpinner(),this.ObtenerDatosMayorMenor(),this.ObtenerDatosAhorcado(),this.ObtenerDatosPoker(),this.ObtenerDatosPreguntados(),setTimeout(()=>{this.cargoTodo=!0,this.OrdenarListados()},2e3)}ObtenerDatosMayorMenor(){this.db.obtenerDatos("puntajesMayorMenor").then(i=>{for(var s=0;s<i.length;s++){var o=new Ml(i[s].alias,i[s].puntaje);this.listadoMayorMenor.push(o),this.aliasListMayorMenor.push(o.alias)}this.FiltrarAliasList(this.aliasListMayorMenor,"mayormenor"),this.AgruparListado(this.listadoMayorMenor,this.aliasListMayorMenor,"mayormenor")})}ObtenerDatosAhorcado(){this.db.obtenerDatos("puntajesAhorcado").then(i=>{for(var s=new Array,o=0;o<i.length;o++){var a=new Ml(i[o].alias,i[o].puntaje);this.listadoAhorcado.push(a),s.push(a.alias)}this.FiltrarAliasList(s,"ahorcado"),this.AgruparListado(this.listadoAhorcado,this.aliasListAhorcado,"ahorcado")})}ObtenerDatosPoker(){this.db.obtenerDatos("puntajesPoker").then(i=>{for(var s=0;s<i.length;s++){var o=new Ml(i[s].alias,i[s].puntaje);this.listadoPoker.push(o),this.aliasListPoker.push(o.alias)}this.FiltrarAliasList(this.aliasListPoker,"poker"),this.AgruparListado(this.listadoPoker,this.aliasListPoker,"poker")})}ObtenerDatosPreguntados(){this.db.obtenerDatos("puntajesPreguntados").then(i=>{for(var s=0;s<i.length;s++){var o=new Ml(i[s].alias,i[s].puntaje);this.listadoPreguntados.push(o),this.aliasListPreguntados.push(o.alias)}this.FiltrarAliasList(this.aliasListPreguntados,"preguntados"),this.AgruparListado(this.listadoPreguntados,this.aliasListPreguntados,"preguntados")})}FiltrarAliasList(i,s){var o=new Array;switch(i.forEach(a=>{o.length>0?-1==o.findIndex(d=>d==a)&&o.push(a):o.push(a)}),s){case"mayormenor":this.aliasListMayorMenor=o;break;case"poker":this.aliasListPoker=o;break;case"ahorcado":this.aliasListAhorcado=o;break;case"preguntados":this.aliasListPreguntados=o}}AgruparListado(i,s,o){var a=new Array;switch(s.forEach(l=>{a.push(new Ml(l,0))}),i.forEach(l=>{var d=l.puntaje,f=a.findIndex(m=>m.alias==l.alias);-1!=f&&(a[f].puntaje+=d)}),o){case"mayormenor":this.listadoMayorMenor=a;break;case"poker":this.listadoPoker=a;break;case"ahorcado":this.listadoAhorcado=a;break;case"preguntados":this.listadoPreguntados=a}}MostrarSpinner(){this.mostrarSpinner=!0,document.getElementById("principal").style.opacity="0.5",setTimeout(()=>{this.mostrarSpinner=!1,document.getElementById("principal").style.opacity="1"},2e3)}OrdenarListados(){this.listadoPreguntados=this.listadoPreguntados.sort((i,s)=>i.puntaje<s.puntaje?1:-1),this.listadoAhorcado=this.listadoAhorcado.sort((i,s)=>i.puntaje<s.puntaje?1:-1),this.listadoPoker=this.listadoPoker.sort((i,s)=>i.puntaje<s.puntaje?1:-1),this.listadoMayorMenor=this.listadoMayorMenor.sort((i,s)=>i.puntaje<s.puntaje?1:-1)}}return r.\u0275fac=function(i){return new(i||r)(R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-ranking"]],decls:14,vars:5,consts:[["id","spinner",3,"hidden"],["id","fondo","src","../../assets//fondo1.PNG","alt",""],["id","principal"],[2,"margin-left","15%"],["id","grilla",4,"ngIf"],["id","grilla"],[1,"header",2,"background-color","rgb(245, 65, 236)"],[1,"header2"],[1,"header2","header2Der"],[4,"ngFor","ngForOf"],[1,"alias"],[1,"puntaje"],[1,"header",2,"background-color","rgb(245, 242, 60)"],[1,"header",2,"background-color","rgb(35, 216, 240)"],[1,"header",2,"background-color","rgb(28, 230, 38)"]],template:function(i,s){1&i&&(I(0,"div",0),I(1,"img",1),M(2,"div",2),M(3,"div",3),Ie(4,JQ,10,1,"div",4),I(5,"br"),I(6,"br"),Ie(7,XQ,10,1,"div",4),I(8,"br"),I(9,"br"),Ie(10,eJ,10,1,"div",4),I(11,"br"),I(12,"br"),Ie(13,nJ,10,1,"div",4),N(),N()),2&i&&(U("hidden",!s.mostrarSpinner),F(4),U("ngIf",s.cargoTodo),F(3),U("ngIf",s.cargoTodo),F(3),U("ngIf",s.cargoTodo),F(3),U("ngIf",s.cargoTodo))},directives:[yi,bh],styles:[".header[_ngcontent-%COMP%]{position:initial;border:3px solid black;text-align:center;font-size:46px;font-weight:bold;width:100%;margin:0}.header2[_ngcontent-%COMP%]{width:50%;font-size:36px;font-weight:bold;text-align:center;border-left:3px solid black;border-bottom:3px solid black;border-right:1.5px solid black;margin:0}.header2Der[_ngcontent-%COMP%]{border-right:3px solid black;border-left:1.5px solid black;margin:0}.alias[_ngcontent-%COMP%]{margin:0;width:50%;text-align:center;font-size:28px;border-left:3px solid black;border-bottom:3px solid black;border-right:1.5px solid black}.puntaje[_ngcontent-%COMP%]{margin:0;width:50%;text-align:center;font-size:28px;border-right:3px solid black;border-left:1.5px solid black;border-bottom:3px solid black}#grilla[_ngcontent-%COMP%]{position:initial;width:80%;margin:0;background-color:#fff;opacity:.8}#fondo[_ngcontent-%COMP%]{height:100%;width:100%;z-index:-1;position:fixed;opacity:.9}#spinner[_ngcontent-%COMP%]{position:fixed;bottom:30%;left:44%;width:80px;height:80px;background:url(spinner.bee7d2dc4a2028269900.png);background-position:center;background-repeat:no-repeat;background-size:105%;border-radius:50%;background-color:transparent;opacity:1;z-index:100;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(360deg)}}"]}),r})();class iJ{constructor(e,i,s){this.alias=e,this.texto=i,this.fecha=s}}const sJ=[{path:"quiensoy",component:ZK,canActivate:[ds]},{path:"home",component:XK,canActivate:[ds]},{path:"",component:tQ},{path:"registro",component:rQ},{path:"mayormenor",component:uQ,canActivate:[ds]},{path:"ahorcado",component:yQ,canActivate:[ds]},{path:"poker",component:DQ,canActivate:[ds]},{path:"preguntados",component:KQ,canActivate:[ds]},{path:"ranking",component:rJ,canActivate:[ds]},{path:"chat",component:(()=>{class r{constructor(i){this.db=i,this.mensajesList=new Array}ngOnInit(){this.TraerMensajes(),this.db.grabarMensaje("Administrador","Hola")}TraerMensajes(){this.db.obtenerDatos("chat").then(i=>{i.forEach(o=>{var a=new Date;this.mensajesList.push(new iJ(o.alias,o.texto,a))})})}}return r.\u0275fac=function(i){return new(i||r)(R(Ti))},r.\u0275cmp=Dn({type:r,selectors:[["app-chat"]],decls:2,vars:0,template:function(i,s){1&i&&(M(0,"p"),V(1,"chat works!"),N())},styles:[""]}),r})(),canActivate:[ds]},{path:"**",redirectTo:"login",pathMatch:"full"}];let oJ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r}),r.\u0275inj=dn({imports:[[SA.forRoot(sJ)],SA]}),r})();rf("firebase","9.0.1","app"),function(r,e={}){"object"!=typeof e&&(e={name:e});const i=Object.assign({name:K_,automaticDataCollectionEnabled:!1},e),s=i.name;if("string"!=typeof s||!s)throw Pc.create("bad-app-name",{appName:String(s)});const o=Hs.get(s);if(o){if($_(r,o.options)&&$_(i,o.config))return o;throw Pc.create("duplicate-app",{appName:s})}const a=new uz(s);for(const d of nf.values())a.addComponent(d);const l=new $z(r,i,a);Hs.set(s,l)}({apiKey:"AIzaSyA77rV50BprX3M2RLieYdn0Ur1NEcbvdBo",authDomain:"tpsaladejuegosmarino.firebaseapp.com",projectId:"tpsaladejuegosmarino",storageBucket:"tpsaladejuegosmarino.appspot.com",messagingSenderId:"602851870493",appId:"1:602851870493:web:83e387ea4729089c8883f4"}),wk();let cJ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=On({type:r,bootstrap:[fp]}),r.\u0275inj=dn({providers:[],imports:[[z8,oJ,KG,uS,jQ]]}),r})();(function(){if(l1)throw new Error("Cannot enable prod mode after platform setup.");c1=!1})(),G8().bootstrapModule(cJ).catch(r=>console.error(r))}},au=>{au(au.s=265)}]);